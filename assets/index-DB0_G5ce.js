(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function xC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wg={exports:{}},yu={};var ww;function bC(){if(ww)return yu;ww=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:o}}return yu.Fragment=e,yu.jsx=n,yu.jsxs=n,yu}var Ew;function _C(){return Ew||(Ew=1,Wg.exports=bC()),Wg.exports}var f=_C(),ey={exports:{}},De={};var Tw;function wC(){if(Tw)return De;Tw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),E=Symbol.iterator;function T(R){return R===null||typeof R!="object"?null:(R=E&&R[E]||R["@@iterator"],typeof R=="function"?R:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,P={};function Z(R,q,se){this.props=R,this.context=q,this.refs=P,this.updater=se||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(R,q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,q,"setState")},Z.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function X(){}X.prototype=Z.prototype;function Q(R,q,se){this.props=R,this.context=q,this.refs=P,this.updater=se||j}var le=Q.prototype=new X;le.constructor=Q,D(le,Z.prototype),le.isPureReactComponent=!0;var G=Array.isArray;function ae(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(R,q,se){var ue=se.ref;return{$$typeof:t,type:R,key:q,ref:ue!==void 0?ue:null,props:se}}function z(R,q){return C(R.type,q,R.props)}function V(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function U(R){var q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(se){return q[se]})}var k=/\/+/g;function Ge(R,q){return typeof R=="object"&&R!==null&&R.key!=null?U(""+R.key):q.toString(36)}function Ze(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(ae,ae):(R.status="pending",R.then(function(q){R.status==="pending"&&(R.status="fulfilled",R.value=q)},function(q){R.status==="pending"&&(R.status="rejected",R.reason=q)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function W(R,q,se,ue,Ee){var Ie=typeof R;(Ie==="undefined"||Ie==="boolean")&&(R=null);var _e=!1;if(R===null)_e=!0;else switch(Ie){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(R.$$typeof){case t:case e:_e=!0;break;case v:return _e=R._init,W(_e(R._payload),q,se,ue,Ee)}}if(_e)return Ee=Ee(R),_e=ue===""?"."+Ge(R,0):ue,G(Ee)?(se="",_e!=null&&(se=_e.replace(k,"$&/")+"/"),W(Ee,q,se,"",function(er){return er})):Ee!=null&&(V(Ee)&&(Ee=z(Ee,se+(Ee.key==null||R&&R.key===Ee.key?"":(""+Ee.key).replace(k,"$&/")+"/")+_e)),q.push(Ee)),1;_e=0;var At=ue===""?".":ue+":";if(G(R))for(var nt=0;nt<R.length;nt++)ue=R[nt],Ie=At+Ge(ue,nt),_e+=W(ue,q,se,Ie,Ee);else if(nt=T(R),typeof nt=="function")for(R=nt.call(R),nt=0;!(ue=R.next()).done;)ue=ue.value,Ie=At+Ge(ue,nt++),_e+=W(ue,q,se,Ie,Ee);else if(Ie==="object"){if(typeof R.then=="function")return W(Ze(R),q,se,ue,Ee);throw q=String(R),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return _e}function he(R,q,se){if(R==null)return R;var ue=[],Ee=0;return W(R,ue,"","",function(Ie){return q.call(se,Ie,Ee++)}),ue}function ce(R){if(R._status===-1){var q=R._result;q=q(),q.then(function(se){(R._status===0||R._status===-1)&&(R._status=1,R._result=se)},function(se){(R._status===0||R._status===-1)&&(R._status=2,R._result=se)}),R._status===-1&&(R._status=0,R._result=q)}if(R._status===1)return R._result.default;throw R._result}var Me=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Fe={map:he,forEach:function(R,q,se){he(R,function(){q.apply(this,arguments)},se)},count:function(R){var q=0;return he(R,function(){q++}),q},toArray:function(R){return he(R,function(q){return q})||[]},only:function(R){if(!V(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return De.Activity=x,De.Children=Fe,De.Component=Z,De.Fragment=n,De.Profiler=a,De.PureComponent=Q,De.StrictMode=r,De.Suspense=h,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,De.__COMPILER_RUNTIME={__proto__:null,c:function(R){return I.H.useMemoCache(R)}},De.cache=function(R){return function(){return R.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(R,q,se){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ue=D({},R.props),Ee=R.key;if(q!=null)for(Ie in q.key!==void 0&&(Ee=""+q.key),q)!A.call(q,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&q.ref===void 0||(ue[Ie]=q[Ie]);var Ie=arguments.length-2;if(Ie===1)ue.children=se;else if(1<Ie){for(var _e=Array(Ie),At=0;At<Ie;At++)_e[At]=arguments[At+2];ue.children=_e}return C(R.type,Ee,ue)},De.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},De.createElement=function(R,q,se){var ue,Ee={},Ie=null;if(q!=null)for(ue in q.key!==void 0&&(Ie=""+q.key),q)A.call(q,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Ee[ue]=q[ue]);var _e=arguments.length-2;if(_e===1)Ee.children=se;else if(1<_e){for(var At=Array(_e),nt=0;nt<_e;nt++)At[nt]=arguments[nt+2];Ee.children=At}if(R&&R.defaultProps)for(ue in _e=R.defaultProps,_e)Ee[ue]===void 0&&(Ee[ue]=_e[ue]);return C(R,Ie,Ee)},De.createRef=function(){return{current:null}},De.forwardRef=function(R){return{$$typeof:d,render:R}},De.isValidElement=V,De.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:ce}},De.memo=function(R,q){return{$$typeof:g,type:R,compare:q===void 0?null:q}},De.startTransition=function(R){var q=I.T,se={};I.T=se;try{var ue=R(),Ee=I.S;Ee!==null&&Ee(se,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ae,Me)}catch(Ie){Me(Ie)}finally{q!==null&&se.types!==null&&(q.types=se.types),I.T=q}},De.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},De.use=function(R){return I.H.use(R)},De.useActionState=function(R,q,se){return I.H.useActionState(R,q,se)},De.useCallback=function(R,q){return I.H.useCallback(R,q)},De.useContext=function(R){return I.H.useContext(R)},De.useDebugValue=function(){},De.useDeferredValue=function(R,q){return I.H.useDeferredValue(R,q)},De.useEffect=function(R,q){return I.H.useEffect(R,q)},De.useEffectEvent=function(R){return I.H.useEffectEvent(R)},De.useId=function(){return I.H.useId()},De.useImperativeHandle=function(R,q,se){return I.H.useImperativeHandle(R,q,se)},De.useInsertionEffect=function(R,q){return I.H.useInsertionEffect(R,q)},De.useLayoutEffect=function(R,q){return I.H.useLayoutEffect(R,q)},De.useMemo=function(R,q){return I.H.useMemo(R,q)},De.useOptimistic=function(R,q){return I.H.useOptimistic(R,q)},De.useReducer=function(R,q,se){return I.H.useReducer(R,q,se)},De.useRef=function(R){return I.H.useRef(R)},De.useState=function(R){return I.H.useState(R)},De.useSyncExternalStore=function(R,q,se){return I.H.useSyncExternalStore(R,q,se)},De.useTransition=function(){return I.H.useTransition()},De.version="19.2.3",De}var Sw;function bv(){return Sw||(Sw=1,ey.exports=wC()),ey.exports}var M=bv();const qs=xC(M);var ty={exports:{}},vu={},ny={exports:{}},ry={};var Aw;function EC(){return Aw||(Aw=1,(function(t){function e(W,he){var ce=W.length;W.push(he);e:for(;0<ce;){var Me=ce-1>>>1,Fe=W[Me];if(0<a(Fe,he))W[Me]=he,W[ce]=Fe,ce=Me;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var he=W[0],ce=W.pop();if(ce!==he){W[0]=ce;e:for(var Me=0,Fe=W.length,R=Fe>>>1;Me<R;){var q=2*(Me+1)-1,se=W[q],ue=q+1,Ee=W[ue];if(0>a(se,ce))ue<Fe&&0>a(Ee,se)?(W[Me]=Ee,W[ue]=ce,Me=ue):(W[Me]=se,W[q]=ce,Me=q);else if(ue<Fe&&0>a(Ee,ce))W[Me]=Ee,W[ue]=ce,Me=ue;else break e}}return he}function a(W,he){var ce=W.sortIndex-he.sortIndex;return ce!==0?ce:W.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],g=[],v=1,x=null,E=3,T=!1,j=!1,D=!1,P=!1,Z=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function le(W){for(var he=n(g);he!==null;){if(he.callback===null)r(g);else if(he.startTime<=W)r(g),he.sortIndex=he.expirationTime,e(h,he);else break;he=n(g)}}function G(W){if(D=!1,le(W),!j)if(n(h)!==null)j=!0,ae||(ae=!0,U());else{var he=n(g);he!==null&&Ze(G,he.startTime-W)}}var ae=!1,I=-1,A=5,C=-1;function z(){return P?!0:!(t.unstable_now()-C<A)}function V(){if(P=!1,ae){var W=t.unstable_now();C=W;var he=!0;try{e:{j=!1,D&&(D=!1,X(I),I=-1),T=!0;var ce=E;try{t:{for(le(W),x=n(h);x!==null&&!(x.expirationTime>W&&z());){var Me=x.callback;if(typeof Me=="function"){x.callback=null,E=x.priorityLevel;var Fe=Me(x.expirationTime<=W);if(W=t.unstable_now(),typeof Fe=="function"){x.callback=Fe,le(W),he=!0;break t}x===n(h)&&r(h),le(W)}else r(h);x=n(h)}if(x!==null)he=!0;else{var R=n(g);R!==null&&Ze(G,R.startTime-W),he=!1}}break e}finally{x=null,E=ce,T=!1}he=void 0}}finally{he?U():ae=!1}}}var U;if(typeof Q=="function")U=function(){Q(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Ge=k.port2;k.port1.onmessage=V,U=function(){Ge.postMessage(null)}}else U=function(){Z(V,0)};function Ze(W,he){I=Z(function(){W(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(W){switch(E){case 1:case 2:case 3:var he=3;break;default:he=E}var ce=E;E=he;try{return W()}finally{E=ce}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(W,he){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ce=E;E=W;try{return he()}finally{E=ce}},t.unstable_scheduleCallback=function(W,he,ce){var Me=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Me+ce:Me):ce=Me,W){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ce+Fe,W={id:v++,callback:he,priorityLevel:W,startTime:ce,expirationTime:Fe,sortIndex:-1},ce>Me?(W.sortIndex=ce,e(g,W),n(h)===null&&W===n(g)&&(D?(X(I),I=-1):D=!0,Ze(G,ce-Me))):(W.sortIndex=Fe,e(h,W),j||T||(j=!0,ae||(ae=!0,U()))),W},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(W){var he=E;return function(){var ce=E;E=he;try{return W.apply(this,arguments)}finally{E=ce}}}})(ry)),ry}var Nw;function TC(){return Nw||(Nw=1,ny.exports=EC()),ny.exports}var sy={exports:{}},yn={};var Iw;function SC(){if(Iw)return yn;Iw=1;var t=bv();function e(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,g,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:h,containerInfo:g,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yn.createPortal=function(h,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(h,g,null,v)},yn.flushSync=function(h){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=g,r.p=v,r.d.f()}},yn.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(h,g))},yn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},yn.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var v=g.as,x=d(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:E,fetchPriority:T}):v==="script"&&r.d.X(h,{crossOrigin:x,integrity:E,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(h,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(h)},yn.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,x=d(v,g.crossOrigin);r.d.L(h,v,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(h,g){if(typeof h=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(h)},yn.requestFormReset=function(h){r.d.r(h)},yn.unstable_batchedUpdates=function(h,g){return h(g)},yn.useFormState=function(h,g,v){return c.H.useFormState(h,g,v)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var Rw;function AC(){if(Rw)return sy.exports;Rw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sy.exports=SC(),sy.exports}var Cw;function NC(){if(Cw)return vu;Cw=1;var t=TC(),e=bv(),n=AC();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function c(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function d(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(r(188))}function g(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,u=i;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return h(p),s;if(y===u)return h(p),i;y=y.sibling}throw Error(r(188))}if(l.return!==u.return)l=p,u=y;else{for(var _=!1,S=p.child;S;){if(S===l){_=!0,l=p,u=y;break}if(S===u){_=!0,u=p,l=y;break}S=S.sibling}if(!_){for(S=y.child;S;){if(S===l){_=!0,l=y,u=p;break}if(S===u){_=!0,u=y,l=p;break}S=S.sibling}if(!_)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function v(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=v(s),i!==null)return i;s=s.sibling}return null}var x=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function Ge(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case Z:return"Profiler";case P:return"StrictMode";case G:return"Suspense";case ae:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case Q:return s.displayName||"Context";case X:return(s._context.displayName||"Context")+".Consumer";case le:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return i=s.displayName||null,i!==null?i:Ge(s.type)||"Memo";case A:i=s._payload,s=s._init;try{return Ge(s(i))}catch{}}return null}var Ze=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Me=[],Fe=-1;function R(s){return{current:s}}function q(s){0>Fe||(s.current=Me[Fe],Me[Fe]=null,Fe--)}function se(s,i){Fe++,Me[Fe]=s.current,s.current=i}var ue=R(null),Ee=R(null),Ie=R(null),_e=R(null);function At(s,i){switch(se(Ie,i),se(Ee,s),se(ue,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?H0(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=H0(i),s=G0(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}q(ue),se(ue,s)}function nt(){q(ue),q(Ee),q(Ie)}function er(s){s.memoizedState!==null&&se(_e,s);var i=ue.current,l=G0(i,s.type);i!==l&&(se(Ee,s),se(ue,l))}function Lr(s){Ee.current===s&&(q(ue),q(Ee)),_e.current===s&&(q(_e),fu._currentValue=ce)}var wr,Io;function Ur(s){if(wr===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);wr=i&&i[1]||"",Io=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wr+s+Io}var fc=!1;function da(s,i){if(!s||fc)return"";fc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var Y=ee}Reflect.construct(s,[],oe)}else{try{oe.call()}catch(ee){Y=ee}s.call(oe.prototype)}}else{try{throw Error()}catch(ee){Y=ee}(oe=s())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&Y&&typeof ee.stack=="string")return[ee.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),_=y[0],S=y[1];if(_&&S){var O=_.split(`
`),K=S.split(`
`);for(p=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(u===O.length||p===K.length)for(u=O.length-1,p=K.length-1;1<=u&&0<=p&&O[u]!==K[p];)p--;for(;1<=u&&0<=p;u--,p--)if(O[u]!==K[p]){if(u!==1||p!==1)do if(u--,p--,0>p||O[u]!==K[p]){var ne=`
`+O[u].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=u&&0<=p);break}}}finally{fc=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Ur(l):""}function mc(s,i){switch(s.tag){case 26:case 27:case 5:return Ur(s.type);case 16:return Ur("Lazy");case 13:return s.child!==i&&i!==null?Ur("Suspense Fallback"):Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 15:return da(s.type,!1);case 11:return da(s.type.render,!1);case 1:return da(s.type,!0);case 31:return Ur("Activity");default:return""}}function pc(s){try{var i="",l=null;do i+=mc(s,l),l=s,s=s.return;while(s);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var zt=Object.prototype.hasOwnProperty,Yt=t.unstable_scheduleCallback,ri=t.unstable_cancelCallback,tp=t.unstable_shouldYield,Nd=t.unstable_requestPaint,wn=t.unstable_now,ha=t.unstable_getCurrentPriorityLevel,gc=t.unstable_ImmediatePriority,yc=t.unstable_UserBlockingPriority,si=t.unstable_NormalPriority,np=t.unstable_LowPriority,Id=t.unstable_IdlePriority,Rd=t.log,Cd=t.unstable_setDisableYieldValue,Er=null,ln=null;function tr(s){if(typeof Rd=="function"&&Cd(s),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Er,s)}catch{}}var kt=Math.clz32?Math.clz32:Dd,jd=Math.log,Ro=Math.LN2;function Dd(s){return s>>>=0,s===0?32:31-(jd(s)/Ro|0)|0}var Fr=256,fa=262144,Lt=4194304;function Br(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function $r(s,i,l){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?p=Br(u):(_&=S,_!==0?p=Br(_):l||(l=S&~s,l!==0&&(p=Br(l))))):(S=u&~y,S!==0?p=Br(S):_!==0?p=Br(_):l||(l=u&~s,l!==0&&(p=Br(l)))),p===0?0:i!==0&&i!==p&&(i&y)===0&&(y=p&-p,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:p}function Tr(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function rp(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kd(){var s=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),s}function qr(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function ma(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function sp(s,i,l,u,p,y){var _=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,O=s.expirationTimes,K=s.hiddenUpdates;for(l=_&~l;0<l;){var ne=31-kt(l),oe=1<<ne;S[ne]=0,O[ne]=-1;var Y=K[ne];if(Y!==null)for(K[ne]=null,ne=0;ne<Y.length;ne++){var ee=Y[ne];ee!==null&&(ee.lane&=-536870913)}l&=~oe}u!==0&&pa(s,u,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(_&~i))}function pa(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var u=31-kt(i);s.entangledLanes|=i,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function vc(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var u=31-kt(l),p=1<<u;p&i|s[u]&i&&(s[u]|=i),l&=~p}}function xc(s,i){var l=i&-i;return l=(l&42)!==0?1:ga(l),(l&(s.suspendedLanes|i))!==0?0:l}function ga(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function xs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Od(){var s=he.p;return s!==0?s:(s=window.event,s===void 0?32:pw(s.type))}function Sr(s,i){var l=he.p;try{return he.p=s,i()}finally{he.p=l}}var Ar=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Ar,nn="__reactProps$"+Ar,Hr="__reactContainer$"+Ar,Co="__reactEvents$"+Ar,ip="__reactListeners$"+Ar,Pd="__reactHandles$"+Ar,Md="__reactResources$"+Ar,Gr="__reactMarker$"+Ar;function jo(s){delete s[Ut],delete s[nn],delete s[Co],delete s[ip],delete s[Pd]}function Kr(s){var i=s[Ut];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Hr]||l[Ut]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=W0(s);s!==null;){if(l=s[Ut])return l;s=W0(s)}return i}s=l,l=s.parentNode}return null}function nr(s){if(s=s[Ut]||s[Hr]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Fn(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Qr(s){var i=s[Md];return i||(i=s[Md]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ft(s){s[Gr]=!0}var bc=new Set,_c={};function Zr(s,i){Yr(s,i),Yr(s+"Capture",i)}function Yr(s,i){for(_c[s]=i,s=0;s<i.length;s++)bc.add(i[s])}var wc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ec={},Tc={};function Vd(s){return zt.call(Tc,s)?!0:zt.call(Ec,s)?!1:wc.test(s)?Tc[s]=!0:(Ec[s]=!0,!1)}function Do(s,i,l){if(Vd(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function Bn(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Bt(s,i,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+u)}}function rn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ii(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Sc(s,i,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(_){l=""+_,y.call(this,_)}}),Object.defineProperty(s,i,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function rt(s){if(!s._valueTracker){var i=ii(s)?"checked":"value";s._valueTracker=Sc(s,i,""+s[i])}}function ya(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return s&&(u=ii(s)?s.checked?"true":"false":s.value),s=u,s!==l?(i.setValue(s),!0):!1}function Xr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var va=/[\n"\\]/g;function jn(s){return s.replace(va,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ko(s,i,l,u,p,y,_,S){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),i!=null?_==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+rn(i)):s.value!==""+rn(i)&&(s.value=""+rn(i)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),i!=null?Ac(s,_,rn(i)):l!=null?Ac(s,_,rn(l)):u!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+rn(S):s.removeAttribute("name")}function zd(s,i,l,u,p,y,_,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){rt(s);return}l=l!=null?""+rn(l):"",i=i!=null?""+rn(i):l,S||i===s.value||(s.value=i),s.defaultValue=i}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),rt(s)}function Ac(s,i,l){i==="number"&&Xr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ai(s,i,l,u){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&u&&(s[l].defaultSelected=!0)}else{for(l=""+rn(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function Ld(s,i,l){if(i!=null&&(i=""+rn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+rn(l):""}function oi(s,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(r(92));if(Ze(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=rn(i),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),rt(s)}function Dn(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var Ud=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nc(s,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":u?s.setProperty(i,l):typeof l!="number"||l===0||Ud.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function Ic(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in i)u=i[p],i.hasOwnProperty(p)&&l[p]!==u&&Nc(s,p,u)}else for(var y in i)i.hasOwnProperty(y)&&Nc(s,y,i[y])}function Oo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),li=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Po(s){return li.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Nr(){}var Rc=null;function rr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ci=null,Jr=null;function xa(s){var i=nr(s);if(i&&(s=i.stateNode)){var l=s[nn]||null;e:switch(s=i.stateNode,i.type){case"input":if(ko(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+jn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==s&&u.form===s.form){var p=u[nn]||null;if(!p)throw Error(r(90));ko(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===s.form&&ya(u)}break e;case"textarea":Ld(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ai(s,!!l.multiple,i,!1)}}}var Mo=!1;function ui(s,i,l){if(Mo)return s(i,l);Mo=!0;try{var u=s(i);return u}finally{if(Mo=!1,(ci!==null||Jr!==null)&&(Oh(),ci&&(i=ci,s=Jr,Jr=ci=null,xa(i),s)))for(i=0;i<s.length;i++)xa(s[i])}}function Ir(s,i){var l=s.stateNode;if(l===null)return null;var u=l[nn]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=!1;if(sr)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){ba=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{ba=!1}var Wr=null,Cc=null,_a=null;function jc(){if(_a)return _a;var s,i=Cc,l=i.length,u,p="value"in Wr?Wr.value:Wr.textContent,y=p.length;for(s=0;s<l&&i[s]===p[s];s++);var _=l-s;for(u=1;u<=_&&i[l-u]===p[y-u];u++);return _a=p.slice(s,1<u?1-u:void 0)}function wa(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function bs(){return!0}function Rr(){return!1}function cn(s){function i(l,u,p,y,_){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?bs:Rr,this.isPropagationStopped=Rr,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),i}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=cn(_s),di=x({},_s,{view:0,detail:0}),Dc=cn(di),hi,Vo,ts,zo=x({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ts&&(ts&&s.type==="mousemove"?(hi=s.screenX-ts.screenX,Vo=s.screenY-ts.screenY):Vo=hi=0,ts=s),hi)},movementY:function(s){return"movementY"in s?s.movementY:Vo}}),kc=cn(zo),Ea=x({},zo,{dataTransfer:0}),Bd=cn(Ea),$d=x({},di,{relatedTarget:0}),Ta=cn($d),Oc=x({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),qd=cn(Oc),Lo=x({},_s,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Hd=cn(Lo),Gd=x({},_s,{data:0}),ns=cn(Gd),Kd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yd(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Zd[s])?!!i[s]:!1}function fi(){return Yd}var En=x({},di,{key:function(s){if(s.key){var i=Kd[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=wa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Qd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fi,charCode:function(s){return s.type==="keypress"?wa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?wa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Xd=cn(En),Jd=x({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ws=cn(Jd),m=x({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fi}),b=cn(m),w=x({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=cn(w),$=x({},zo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),J=cn($),me=x({},_s,{newState:0,oldState:0}),ke=cn(me),Ot=[9,13,27,32],et=sr&&"CompositionEvent"in window,yt=null;sr&&"documentMode"in document&&(yt=document.documentMode);var ir=sr&&"TextEvent"in window&&!yt,rs=sr&&(!et||yt&&8<yt&&11>=yt),Cr=" ",jr=!1;function Sa(s,i){switch(s){case"keyup":return Ot.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Fo=!1;function $I(s,i){switch(s){case"compositionend":return Uo(i);case"keypress":return i.which!==32?null:(jr=!0,Cr);case"textInput":return s=i.data,s===Cr&&jr?null:s;default:return null}}function qI(s,i){if(Fo)return s==="compositionend"||!et&&Sa(s,i)?(s=jc(),_a=Cc=Wr=null,Fo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return rs&&i.locale!=="ko"?null:i.data;default:return null}}var HI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nb(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!HI[s.type]:i==="textarea"}function rb(s,i,l,u){ci?Jr?Jr.push(u):Jr=[u]:ci=u,i=Fh(i,"onChange"),0<i.length&&(l=new es("onChange","change",null,l,u),s.push({event:l,listeners:i}))}var Pc=null,Mc=null;function GI(s){L0(s,0)}function Wd(s){var i=Fn(s);if(ya(i))return s}function sb(s,i){if(s==="change")return i}var ib=!1;if(sr){var ap;if(sr){var op="oninput"in document;if(!op){var ab=document.createElement("div");ab.setAttribute("oninput","return;"),op=typeof ab.oninput=="function"}ap=op}else ap=!1;ib=ap&&(!document.documentMode||9<document.documentMode)}function ob(){Pc&&(Pc.detachEvent("onpropertychange",lb),Mc=Pc=null)}function lb(s){if(s.propertyName==="value"&&Wd(Mc)){var i=[];rb(i,Mc,s,rr(s)),ui(GI,i)}}function KI(s,i,l){s==="focusin"?(ob(),Pc=i,Mc=l,Pc.attachEvent("onpropertychange",lb)):s==="focusout"&&ob()}function QI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Wd(Mc)}function ZI(s,i){if(s==="click")return Wd(i)}function YI(s,i){if(s==="input"||s==="change")return Wd(i)}function XI(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var $n=typeof Object.is=="function"?Object.is:XI;function Vc(s,i){if($n(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!zt.call(i,p)||!$n(s[p],i[p]))return!1}return!0}function cb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ub(s,i){var l=cb(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=i&&u>=i)return{node:l,offset:i-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=cb(l)}}function db(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?db(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function hb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Xr(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Xr(s.document)}return i}function lp(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var JI=sr&&"documentMode"in document&&11>=document.documentMode,Bo=null,cp=null,zc=null,up=!1;function fb(s,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;up||Bo==null||Bo!==Xr(u)||(u=Bo,"selectionStart"in u&&lp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),zc&&Vc(zc,u)||(zc=u,u=Fh(cp,"onSelect"),0<u.length&&(i=new es("onSelect","select",null,i,l),s.push({event:i,listeners:u}),i.target=Bo)))}function Aa(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var $o={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},dp={},mb={};sr&&(mb=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Na(s){if(dp[s])return dp[s];if(!$o[s])return s;var i=$o[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in mb)return dp[s]=i[l];return s}var pb=Na("animationend"),gb=Na("animationiteration"),yb=Na("animationstart"),WI=Na("transitionrun"),eR=Na("transitionstart"),tR=Na("transitioncancel"),vb=Na("transitionend"),xb=new Map,hp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hp.push("scrollEnd");function Dr(s,i){xb.set(s,i),Zr(i,[s])}var eh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ar=[],qo=0,fp=0;function th(){for(var s=qo,i=fp=qo=0;i<s;){var l=ar[i];ar[i++]=null;var u=ar[i];ar[i++]=null;var p=ar[i];ar[i++]=null;var y=ar[i];if(ar[i++]=null,u!==null&&p!==null){var _=u.pending;_===null?p.next=p:(p.next=_.next,_.next=p),u.pending=p}y!==0&&bb(l,p,y)}}function nh(s,i,l,u){ar[qo++]=s,ar[qo++]=i,ar[qo++]=l,ar[qo++]=u,fp|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function mp(s,i,l,u){return nh(s,i,l,u),rh(s)}function Ia(s,i){return nh(s,null,null,i),rh(s)}function bb(s,i,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var p=!1,y=s.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&i!==null&&(p=31-kt(l),s=y.hiddenUpdates,u=s[p],u===null?s[p]=[i]:u.push(i),i.lane=l|536870912),y):null}function rh(s){if(50<au)throw au=0,Eg=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var Ho={};function nR(s,i,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(s,i,l,u){return new nR(s,i,l,u)}function pp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Es(s,i){var l=s.alternate;return l===null?(l=qn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function _b(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function sh(s,i,l,u,p,y){var _=0;if(u=s,typeof s=="function")pp(s)&&(_=1);else if(typeof s=="string")_=oC(s,l,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=qn(31,l,i,p),s.elementType=C,s.lanes=y,s;case D:return Ra(l.children,p,y,i);case P:_=8,p|=24;break;case Z:return s=qn(12,l,i,p|2),s.elementType=Z,s.lanes=y,s;case G:return s=qn(13,l,i,p),s.elementType=G,s.lanes=y,s;case ae:return s=qn(19,l,i,p),s.elementType=ae,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Q:_=10;break e;case X:_=9;break e;case le:_=11;break e;case I:_=14;break e;case A:_=16,u=null;break e}_=29,l=Error(r(130,s===null?"null":typeof s,"")),u=null}return i=qn(_,l,i,p),i.elementType=s,i.type=u,i.lanes=y,i}function Ra(s,i,l,u){return s=qn(7,s,u,i),s.lanes=l,s}function gp(s,i,l){return s=qn(6,s,null,i),s.lanes=l,s}function wb(s){var i=qn(18,null,null,0);return i.stateNode=s,i}function yp(s,i,l){return i=qn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var Eb=new WeakMap;function or(s,i){if(typeof s=="object"&&s!==null){var l=Eb.get(s);return l!==void 0?l:(i={value:s,source:i,stack:pc(i)},Eb.set(s,i),i)}return{value:s,source:i,stack:pc(i)}}var Go=[],Ko=0,ih=null,Lc=0,lr=[],cr=0,mi=null,ss=1,is="";function Ts(s,i){Go[Ko++]=Lc,Go[Ko++]=ih,ih=s,Lc=i}function Tb(s,i,l){lr[cr++]=ss,lr[cr++]=is,lr[cr++]=mi,mi=s;var u=ss;s=is;var p=32-kt(u)-1;u&=~(1<<p),l+=1;var y=32-kt(i)+p;if(30<y){var _=p-p%5;y=(u&(1<<_)-1).toString(32),u>>=_,p-=_,ss=1<<32-kt(i)+p|l<<p|u,is=y+s}else ss=1<<y|l<<p|u,is=s}function vp(s){s.return!==null&&(Ts(s,1),Tb(s,1,0))}function xp(s){for(;s===ih;)ih=Go[--Ko],Go[Ko]=null,Lc=Go[--Ko],Go[Ko]=null;for(;s===mi;)mi=lr[--cr],lr[cr]=null,is=lr[--cr],lr[cr]=null,ss=lr[--cr],lr[cr]=null}function Sb(s,i){lr[cr++]=ss,lr[cr++]=is,lr[cr++]=mi,ss=i.id,is=i.overflow,mi=s}var un=null,pt=null,Ke=!1,pi=null,ur=!1,bp=Error(r(519));function gi(s){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uc(or(i,s)),bp}function Ab(s){var i=s.stateNode,l=s.type,u=s.memoizedProps;switch(i[Ut]=s,i[nn]=u,l){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(l=0;l<lu.length;l++)Ue(lu[l],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),zd(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),oi(i,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||$0(i.textContent,l)?(u.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),u.onScroll!=null&&Ue("scroll",i),u.onScrollEnd!=null&&Ue("scrollend",i),u.onClick!=null&&(i.onclick=Nr),i=!0):i=!1,i||gi(s,!0)}function Nb(s){for(un=s.return;un;)switch(un.tag){case 5:case 31:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:un=un.return}}function Qo(s){if(s!==un)return!1;if(!Ke)return Nb(s),Ke=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||zg(s.type,s.memoizedProps)),l=!l),l&&pt&&gi(s),Nb(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));pt=J0(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));pt=J0(s)}else i===27?(i=pt,Ci(s.type)?(s=$g,$g=null,pt=s):pt=i):pt=un?hr(s.stateNode.nextSibling):null;return!0}function Ca(){pt=un=null,Ke=!1}function _p(){var s=pi;return s!==null&&(Mn===null?Mn=s:Mn.push.apply(Mn,s),pi=null),s}function Uc(s){pi===null?pi=[s]:pi.push(s)}var wp=R(null),ja=null,Ss=null;function yi(s,i,l){se(wp,i._currentValue),i._currentValue=l}function As(s){s._currentValue=wp.current,q(wp)}function Ep(s,i,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),s===l)break;s=s.return}}function Tp(s,i,l,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var _=p.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=p;for(var O=0;O<i.length;O++)if(S.context===i[O]){y.lanes|=l,S=y.alternate,S!==null&&(S.lanes|=l),Ep(y.return,l,s),u||(_=null);break e}y=S.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(r(341));_.lanes|=l,y=_.alternate,y!==null&&(y.lanes|=l),Ep(_,l,s),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===s){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function Zo(s,i,l,u){s=null;for(var p=i,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=p.type;$n(p.pendingProps.value,_.value)||(s!==null?s.push(S):s=[S])}}else if(p===_e.current){if(_=p.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(fu):s=[fu])}p=p.return}s!==null&&Tp(i,s,l,u),i.flags|=262144}function ah(s){for(s=s.firstContext;s!==null;){if(!$n(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Da(s){ja=s,Ss=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function dn(s){return Ib(ja,s)}function oh(s,i){return ja===null&&Da(s),Ib(s,i)}function Ib(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Ss===null){if(s===null)throw Error(r(308));Ss=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Ss=Ss.next=i;return l}var rR=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},sR=t.unstable_scheduleCallback,iR=t.unstable_NormalPriority,$t={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sp(){return{controller:new rR,data:new Map,refCount:0}}function Fc(s){s.refCount--,s.refCount===0&&sR(iR,function(){s.controller.abort()})}var Bc=null,Ap=0,Yo=0,Xo=null;function aR(s,i){if(Bc===null){var l=Bc=[];Ap=0,Yo=Rg(),Xo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Ap++,i.then(Rb,Rb),i}function Rb(){if(--Ap===0&&Bc!==null){Xo!==null&&(Xo.status="fulfilled");var s=Bc;Bc=null,Yo=0,Xo=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function oR(s,i){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){u.status="fulfilled",u.value=i;for(var p=0;p<l.length;p++)(0,l[p])(i)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var Cb=W.S;W.S=function(s,i){f0=wn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&aR(s,i),Cb!==null&&Cb(s,i)};var ka=R(null);function Np(){var s=ka.current;return s!==null?s:mt.pooledCache}function lh(s,i){i===null?se(ka,ka.current):se(ka,i.pool)}function jb(){var s=Np();return s===null?null:{parent:$t._currentValue,pool:s}}var Jo=Error(r(460)),Ip=Error(r(474)),ch=Error(r(542)),uh={then:function(){}};function Db(s){return s=s.status,s==="fulfilled"||s==="rejected"}function kb(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(Nr,Nr),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Pb(s),s;default:if(typeof i.status=="string")i.then(Nr,Nr);else{if(s=mt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(u){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=u}},function(u){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Pb(s),s}throw Pa=i,Jo}}function Oa(s){try{var i=s._init;return i(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pa=l,Jo):l}}var Pa=null;function Ob(){if(Pa===null)throw Error(r(459));var s=Pa;return Pa=null,s}function Pb(s){if(s===Jo||s===ch)throw Error(r(483))}var Wo=null,$c=0;function dh(s){var i=$c;return $c+=1,Wo===null&&(Wo=[]),kb(Wo,s,i)}function qc(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function hh(s,i){throw i.$$typeof===E?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Mb(s){function i(F,L){if(s){var H=F.deletions;H===null?(F.deletions=[L],F.flags|=16):H.push(L)}}function l(F,L){if(!s)return null;for(;L!==null;)i(F,L),L=L.sibling;return null}function u(F){for(var L=new Map;F!==null;)F.key!==null?L.set(F.key,F):L.set(F.index,F),F=F.sibling;return L}function p(F,L){return F=Es(F,L),F.index=0,F.sibling=null,F}function y(F,L,H){return F.index=H,s?(H=F.alternate,H!==null?(H=H.index,H<L?(F.flags|=67108866,L):H):(F.flags|=67108866,L)):(F.flags|=1048576,L)}function _(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function S(F,L,H,re){return L===null||L.tag!==6?(L=gp(H,F.mode,re),L.return=F,L):(L=p(L,H),L.return=F,L)}function O(F,L,H,re){var Te=H.type;return Te===D?ne(F,L,H.props.children,re,H.key):L!==null&&(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&Oa(Te)===L.type)?(L=p(L,H.props),qc(L,H),L.return=F,L):(L=sh(H.type,H.key,H.props,null,F.mode,re),qc(L,H),L.return=F,L)}function K(F,L,H,re){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=yp(H,F.mode,re),L.return=F,L):(L=p(L,H.children||[]),L.return=F,L)}function ne(F,L,H,re,Te){return L===null||L.tag!==7?(L=Ra(H,F.mode,re,Te),L.return=F,L):(L=p(L,H),L.return=F,L)}function oe(F,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=gp(""+L,F.mode,H),L.return=F,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return H=sh(L.type,L.key,L.props,null,F.mode,H),qc(H,L),H.return=F,H;case j:return L=yp(L,F.mode,H),L.return=F,L;case A:return L=Oa(L),oe(F,L,H)}if(Ze(L)||U(L))return L=Ra(L,F.mode,H,null),L.return=F,L;if(typeof L.then=="function")return oe(F,dh(L),H);if(L.$$typeof===Q)return oe(F,oh(F,L),H);hh(F,L)}return null}function Y(F,L,H,re){var Te=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Te!==null?null:S(F,L,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===Te?O(F,L,H,re):null;case j:return H.key===Te?K(F,L,H,re):null;case A:return H=Oa(H),Y(F,L,H,re)}if(Ze(H)||U(H))return Te!==null?null:ne(F,L,H,re,null);if(typeof H.then=="function")return Y(F,L,dh(H),re);if(H.$$typeof===Q)return Y(F,L,oh(F,H),re);hh(F,H)}return null}function ee(F,L,H,re,Te){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return F=F.get(H)||null,S(L,F,""+re,Te);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return F=F.get(re.key===null?H:re.key)||null,O(L,F,re,Te);case j:return F=F.get(re.key===null?H:re.key)||null,K(L,F,re,Te);case A:return re=Oa(re),ee(F,L,H,re,Te)}if(Ze(re)||U(re))return F=F.get(H)||null,ne(L,F,re,Te,null);if(typeof re.then=="function")return ee(F,L,H,dh(re),Te);if(re.$$typeof===Q)return ee(F,L,H,oh(L,re),Te);hh(L,re)}return null}function ge(F,L,H,re){for(var Te=null,Ye=null,be=L,Pe=L=0,$e=null;be!==null&&Pe<H.length;Pe++){be.index>Pe?($e=be,be=null):$e=be.sibling;var Xe=Y(F,be,H[Pe],re);if(Xe===null){be===null&&(be=$e);break}s&&be&&Xe.alternate===null&&i(F,be),L=y(Xe,L,Pe),Ye===null?Te=Xe:Ye.sibling=Xe,Ye=Xe,be=$e}if(Pe===H.length)return l(F,be),Ke&&Ts(F,Pe),Te;if(be===null){for(;Pe<H.length;Pe++)be=oe(F,H[Pe],re),be!==null&&(L=y(be,L,Pe),Ye===null?Te=be:Ye.sibling=be,Ye=be);return Ke&&Ts(F,Pe),Te}for(be=u(be);Pe<H.length;Pe++)$e=ee(be,F,Pe,H[Pe],re),$e!==null&&(s&&$e.alternate!==null&&be.delete($e.key===null?Pe:$e.key),L=y($e,L,Pe),Ye===null?Te=$e:Ye.sibling=$e,Ye=$e);return s&&be.forEach(function(Pi){return i(F,Pi)}),Ke&&Ts(F,Pe),Te}function Ne(F,L,H,re){if(H==null)throw Error(r(151));for(var Te=null,Ye=null,be=L,Pe=L=0,$e=null,Xe=H.next();be!==null&&!Xe.done;Pe++,Xe=H.next()){be.index>Pe?($e=be,be=null):$e=be.sibling;var Pi=Y(F,be,Xe.value,re);if(Pi===null){be===null&&(be=$e);break}s&&be&&Pi.alternate===null&&i(F,be),L=y(Pi,L,Pe),Ye===null?Te=Pi:Ye.sibling=Pi,Ye=Pi,be=$e}if(Xe.done)return l(F,be),Ke&&Ts(F,Pe),Te;if(be===null){for(;!Xe.done;Pe++,Xe=H.next())Xe=oe(F,Xe.value,re),Xe!==null&&(L=y(Xe,L,Pe),Ye===null?Te=Xe:Ye.sibling=Xe,Ye=Xe);return Ke&&Ts(F,Pe),Te}for(be=u(be);!Xe.done;Pe++,Xe=H.next())Xe=ee(be,F,Pe,Xe.value,re),Xe!==null&&(s&&Xe.alternate!==null&&be.delete(Xe.key===null?Pe:Xe.key),L=y(Xe,L,Pe),Ye===null?Te=Xe:Ye.sibling=Xe,Ye=Xe);return s&&be.forEach(function(vC){return i(F,vC)}),Ke&&Ts(F,Pe),Te}function ft(F,L,H,re){if(typeof H=="object"&&H!==null&&H.type===D&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var Te=H.key;L!==null;){if(L.key===Te){if(Te=H.type,Te===D){if(L.tag===7){l(F,L.sibling),re=p(L,H.props.children),re.return=F,F=re;break e}}else if(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&Oa(Te)===L.type){l(F,L.sibling),re=p(L,H.props),qc(re,H),re.return=F,F=re;break e}l(F,L);break}else i(F,L);L=L.sibling}H.type===D?(re=Ra(H.props.children,F.mode,re,H.key),re.return=F,F=re):(re=sh(H.type,H.key,H.props,null,F.mode,re),qc(re,H),re.return=F,F=re)}return _(F);case j:e:{for(Te=H.key;L!==null;){if(L.key===Te)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){l(F,L.sibling),re=p(L,H.children||[]),re.return=F,F=re;break e}else{l(F,L);break}else i(F,L);L=L.sibling}re=yp(H,F.mode,re),re.return=F,F=re}return _(F);case A:return H=Oa(H),ft(F,L,H,re)}if(Ze(H))return ge(F,L,H,re);if(U(H)){if(Te=U(H),typeof Te!="function")throw Error(r(150));return H=Te.call(H),Ne(F,L,H,re)}if(typeof H.then=="function")return ft(F,L,dh(H),re);if(H.$$typeof===Q)return ft(F,L,oh(F,H),re);hh(F,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(l(F,L.sibling),re=p(L,H),re.return=F,F=re):(l(F,L),re=gp(H,F.mode,re),re.return=F,F=re),_(F)):l(F,L)}return function(F,L,H,re){try{$c=0;var Te=ft(F,L,H,re);return Wo=null,Te}catch(be){if(be===Jo||be===ch)throw be;var Ye=qn(29,be,null,F.mode);return Ye.lanes=re,Ye.return=F,Ye}}}var Ma=Mb(!0),Vb=Mb(!1),vi=!1;function Rp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function bi(s,i,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(tt&2)!==0){var p=u.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),u.pending=i,i=rh(s),bb(s,null,l),i}return nh(s,u,i,l),rh(s)}function Hc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,vc(s,l)}}function jp(s,i){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=_:y=y.next=_,l=l.next}while(l!==null);y===null?p=y=i:y=y.next=i}else p=y=i;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var Dp=!1;function Gc(){if(Dp){var s=Xo;if(s!==null)throw s}}function Kc(s,i,l,u){Dp=!1;var p=s.updateQueue;vi=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var O=S,K=O.next;O.next=null,_===null?y=K:_.next=K,_=O;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==_&&(S===null?ne.firstBaseUpdate=K:S.next=K,ne.lastBaseUpdate=O))}if(y!==null){var oe=p.baseState;_=0,ne=K=O=null,S=y;do{var Y=S.lane&-536870913,ee=Y!==S.lane;if(ee?(Be&Y)===Y:(u&Y)===Y){Y!==0&&Y===Yo&&(Dp=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=s,Ne=S;Y=i;var ft=l;switch(Ne.tag){case 1:if(ge=Ne.payload,typeof ge=="function"){oe=ge.call(ft,oe,Y);break e}oe=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ne.payload,Y=typeof ge=="function"?ge.call(ft,oe,Y):ge,Y==null)break e;oe=x({},oe,Y);break e;case 2:vi=!0}}Y=S.callback,Y!==null&&(s.flags|=64,ee&&(s.flags|=8192),ee=p.callbacks,ee===null?p.callbacks=[Y]:ee.push(Y))}else ee={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(K=ne=ee,O=oe):ne=ne.next=ee,_|=Y;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;ee=S,S=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);ne===null&&(O=oe),p.baseState=O,p.firstBaseUpdate=K,p.lastBaseUpdate=ne,y===null&&(p.shared.lanes=0),Si|=_,s.lanes=_,s.memoizedState=oe}}function zb(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function Lb(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)zb(l[s],i)}var el=R(null),fh=R(0);function Ub(s,i){s=Ps,se(fh,s),se(el,i),Ps=s|i.baseLanes}function kp(){se(fh,Ps),se(el,el.current)}function Op(){Ps=fh.current,q(el),q(fh)}var Hn=R(null),dr=null;function _i(s){var i=s.alternate;se(Pt,Pt.current&1),se(Hn,s),dr===null&&(i===null||el.current!==null||i.memoizedState!==null)&&(dr=s)}function Pp(s){se(Pt,Pt.current),se(Hn,s),dr===null&&(dr=s)}function Fb(s){s.tag===22?(se(Pt,Pt.current),se(Hn,s),dr===null&&(dr=s)):wi()}function wi(){se(Pt,Pt.current),se(Hn,Hn.current)}function Gn(s){q(Hn),dr===s&&(dr=null),q(Pt)}var Pt=R(0);function mh(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Fg(l)||Bg(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ns=0,Oe=null,dt=null,qt=null,ph=!1,tl=!1,Va=!1,gh=0,Qc=0,nl=null,lR=0;function Nt(){throw Error(r(321))}function Mp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!$n(s[l],i[l]))return!1;return!0}function Vp(s,i,l,u,p,y){return Ns=y,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=s===null||s.memoizedState===null?T_:Jp,Va=!1,y=l(u,p),Va=!1,tl&&(y=$b(i,l,u,p)),Bb(s),y}function Bb(s){W.H=Xc;var i=dt!==null&&dt.next!==null;if(Ns=0,qt=dt=Oe=null,ph=!1,Qc=0,nl=null,i)throw Error(r(300));s===null||Ht||(s=s.dependencies,s!==null&&ah(s)&&(Ht=!0))}function $b(s,i,l,u){Oe=s;var p=0;do{if(tl&&(nl=null),Qc=0,tl=!1,25<=p)throw Error(r(301));if(p+=1,qt=dt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}W.H=S_,y=i(l,u)}while(tl);return y}function cR(){var s=W.H,i=s.useState()[0];return i=typeof i.then=="function"?Zc(i):i,s=s.useState()[0],(dt!==null?dt.memoizedState:null)!==s&&(Oe.flags|=1024),i}function zp(){var s=gh!==0;return gh=0,s}function Lp(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function Up(s){if(ph){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}ph=!1}Ns=0,qt=dt=Oe=null,tl=!1,Qc=gh=0,nl=null}function Tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Oe.memoizedState=qt=s:qt=qt.next=s,qt}function Mt(){if(dt===null){var s=Oe.alternate;s=s!==null?s.memoizedState:null}else s=dt.next;var i=qt===null?Oe.memoizedState:qt.next;if(i!==null)qt=i,dt=s;else{if(s===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));dt=s,s={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},qt===null?Oe.memoizedState=qt=s:qt=qt.next=s}return qt}function yh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zc(s){var i=Qc;return Qc+=1,nl===null&&(nl=[]),s=kb(nl,s,i),i=Oe,(qt===null?i.memoizedState:qt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?T_:Jp),s}function vh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Zc(s);if(s.$$typeof===Q)return dn(s)}throw Error(r(438,String(s)))}function Fp(s){var i=null,l=Oe.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=yh(),Oe.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),u=0;u<s;u++)l[u]=z;return i.index++,l}function Is(s,i){return typeof i=="function"?i(s):i}function xh(s){var i=Mt();return Bp(i,dt,s)}function Bp(s,i,l){var u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var p=s.baseQueue,y=u.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}i.baseQueue=p=y,u.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{i=p.next;var S=_=null,O=null,K=i,ne=!1;do{var oe=K.lane&-536870913;if(oe!==K.lane?(Be&oe)===oe:(Ns&oe)===oe){var Y=K.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),oe===Yo&&(ne=!0);else if((Ns&Y)===Y){K=K.next,Y===Yo&&(ne=!0);continue}else oe={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=oe,_=y):O=O.next=oe,Oe.lanes|=Y,Si|=Y;oe=K.action,Va&&l(y,oe),y=K.hasEagerState?K.eagerState:l(y,oe)}else Y={lane:oe,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=Y,_=y):O=O.next=Y,Oe.lanes|=oe,Si|=oe;K=K.next}while(K!==null&&K!==i);if(O===null?_=y:O.next=S,!$n(y,s.memoizedState)&&(Ht=!0,ne&&(l=Xo,l!==null)))throw l;s.memoizedState=y,s.baseState=_,s.baseQueue=O,u.lastRenderedState=y}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function $p(s){var i=Mt(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var u=l.dispatch,p=l.pending,y=i.memoizedState;if(p!==null){l.pending=null;var _=p=p.next;do y=s(y,_.action),_=_.next;while(_!==p);$n(y,i.memoizedState)||(Ht=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,u]}function qb(s,i,l){var u=Oe,p=Mt(),y=Ke;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=i();var _=!$n((dt||p).memoizedState,l);if(_&&(p.memoizedState=l,Ht=!0),p=p.queue,Gp(Kb.bind(null,u,p,s),[s]),p.getSnapshot!==i||_||qt!==null&&qt.memoizedState.tag&1){if(u.flags|=2048,rl(9,{destroy:void 0},Gb.bind(null,u,p,l,i),null),mt===null)throw Error(r(349));y||(Ns&127)!==0||Hb(u,i,l)}return l}function Hb(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=Oe.updateQueue,i===null?(i=yh(),Oe.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Gb(s,i,l,u){i.value=l,i.getSnapshot=u,Qb(i)&&Zb(s)}function Kb(s,i,l){return l(function(){Qb(i)&&Zb(s)})}function Qb(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!$n(s,l)}catch{return!0}}function Zb(s){var i=Ia(s,2);i!==null&&Vn(i,s,2)}function qp(s){var i=Tn();if(typeof s=="function"){var l=s;if(s=l(),Va){tr(!0);try{l()}finally{tr(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:s},i}function Yb(s,i,l,u){return s.baseState=l,Bp(s,dt,typeof u=="function"?u:Is)}function uR(s,i,l,u,p){if(wh(s))throw Error(r(485));if(s=i.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};W.T!==null?l(!0):y.isTransition=!1,u(y),l=i.pending,l===null?(y.next=i.pending=y,Xb(i,y)):(y.next=l.next,i.pending=l.next=y)}}function Xb(s,i){var l=i.action,u=i.payload,p=s.state;if(i.isTransition){var y=W.T,_={};W.T=_;try{var S=l(p,u),O=W.S;O!==null&&O(_,S),Jb(s,i,S)}catch(K){Hp(s,i,K)}finally{y!==null&&_.types!==null&&(y.types=_.types),W.T=y}}else try{y=l(p,u),Jb(s,i,y)}catch(K){Hp(s,i,K)}}function Jb(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Wb(s,i,u)},function(u){return Hp(s,i,u)}):Wb(s,i,l)}function Wb(s,i,l){i.status="fulfilled",i.value=l,e_(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,Xb(s,l)))}function Hp(s,i,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,e_(i),i=i.next;while(i!==u)}s.action=null}function e_(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function t_(s,i){return i}function n_(s,i){if(Ke){var l=mt.formState;if(l!==null){e:{var u=Oe;if(Ke){if(pt){t:{for(var p=pt,y=ur;p.nodeType!==8;){if(!y){p=null;break t}if(p=hr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){pt=hr(p.nextSibling),u=p.data==="F!";break e}}gi(u)}u=!1}u&&(i=l[0])}}return l=Tn(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t_,lastRenderedState:i},l.queue=u,l=__.bind(null,Oe,u),u.dispatch=l,u=qp(!1),y=Xp.bind(null,Oe,!1,u.queue),u=Tn(),p={state:i,dispatch:null,action:s,pending:null},u.queue=p,l=uR.bind(null,Oe,p,y,l),p.dispatch=l,u.memoizedState=s,[i,l,!1]}function r_(s){var i=Mt();return s_(i,dt,s)}function s_(s,i,l){if(i=Bp(s,i,t_)[0],s=xh(Is)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Zc(i)}catch(_){throw _===Jo?ch:_}else u=i;i=Mt();var p=i.queue,y=p.dispatch;return l!==i.memoizedState&&(Oe.flags|=2048,rl(9,{destroy:void 0},dR.bind(null,p,l),null)),[u,y,s]}function dR(s,i){s.action=i}function i_(s){var i=Mt(),l=dt;if(l!==null)return s_(i,l,s);Mt(),i=i.memoizedState,l=Mt();var u=l.queue.dispatch;return l.memoizedState=s,[i,u,!1]}function rl(s,i,l,u){return s={tag:s,create:l,deps:u,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=yh(),Oe.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,i.lastEffect=s),s}function a_(){return Mt().memoizedState}function bh(s,i,l,u){var p=Tn();Oe.flags|=s,p.memoizedState=rl(1|i,{destroy:void 0},l,u===void 0?null:u)}function _h(s,i,l,u){var p=Mt();u=u===void 0?null:u;var y=p.memoizedState.inst;dt!==null&&u!==null&&Mp(u,dt.memoizedState.deps)?p.memoizedState=rl(i,y,l,u):(Oe.flags|=s,p.memoizedState=rl(1|i,y,l,u))}function o_(s,i){bh(8390656,8,s,i)}function Gp(s,i){_h(2048,8,s,i)}function hR(s){Oe.flags|=4;var i=Oe.updateQueue;if(i===null)i=yh(),Oe.updateQueue=i,i.events=[s];else{var l=i.events;l===null?i.events=[s]:l.push(s)}}function l_(s){var i=Mt().memoizedState;return hR({ref:i,nextImpl:s}),function(){if((tt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function c_(s,i){return _h(4,2,s,i)}function u_(s,i){return _h(4,4,s,i)}function d_(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function h_(s,i,l){l=l!=null?l.concat([s]):null,_h(4,4,d_.bind(null,i,s),l)}function Kp(){}function f_(s,i){var l=Mt();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&Mp(i,u[1])?u[0]:(l.memoizedState=[s,i],s)}function m_(s,i){var l=Mt();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&Mp(i,u[1]))return u[0];if(u=s(),Va){tr(!0);try{s()}finally{tr(!1)}}return l.memoizedState=[u,i],u}function Qp(s,i,l){return l===void 0||(Ns&1073741824)!==0&&(Be&261930)===0?s.memoizedState=i:(s.memoizedState=l,s=p0(),Oe.lanes|=s,Si|=s,l)}function p_(s,i,l,u){return $n(l,i)?l:el.current!==null?(s=Qp(s,l,u),$n(s,i)||(Ht=!0),s):(Ns&42)===0||(Ns&1073741824)!==0&&(Be&261930)===0?(Ht=!0,s.memoizedState=l):(s=p0(),Oe.lanes|=s,Si|=s,i)}function g_(s,i,l,u,p){var y=he.p;he.p=y!==0&&8>y?y:8;var _=W.T,S={};W.T=S,Xp(s,!1,i,l);try{var O=p(),K=W.S;if(K!==null&&K(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ne=oR(O,u);Yc(s,i,ne,Zn(s))}else Yc(s,i,u,Zn(s))}catch(oe){Yc(s,i,{then:function(){},status:"rejected",reason:oe},Zn())}finally{he.p=y,_!==null&&S.types!==null&&(_.types=S.types),W.T=_}}function fR(){}function Zp(s,i,l,u){if(s.tag!==5)throw Error(r(476));var p=y_(s).queue;g_(s,p,i,ce,l===null?fR:function(){return v_(s),l(u)})}function y_(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:ce},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function v_(s){var i=y_(s);i.next===null&&(i=s.alternate.memoizedState),Yc(s,i.next.queue,{},Zn())}function Yp(){return dn(fu)}function x_(){return Mt().memoizedState}function b_(){return Mt().memoizedState}function mR(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Zn();s=xi(l);var u=bi(i,s,l);u!==null&&(Vn(u,i,l),Hc(u,i,l)),i={cache:Sp()},s.payload=i;return}i=i.return}}function pR(s,i,l){var u=Zn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wh(s)?w_(i,l):(l=mp(s,i,l,u),l!==null&&(Vn(l,s,u),E_(l,i,u)))}function __(s,i,l){var u=Zn();Yc(s,i,l,u)}function Yc(s,i,l,u){var p={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(wh(s))w_(i,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var _=i.lastRenderedState,S=y(_,l);if(p.hasEagerState=!0,p.eagerState=S,$n(S,_))return nh(s,i,p,0),mt===null&&th(),!1}catch{}if(l=mp(s,i,p,u),l!==null)return Vn(l,s,u),E_(l,i,u),!0}return!1}function Xp(s,i,l,u){if(u={lane:2,revertLane:Rg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},wh(s)){if(i)throw Error(r(479))}else i=mp(s,l,u,2),i!==null&&Vn(i,s,2)}function wh(s){var i=s.alternate;return s===Oe||i!==null&&i===Oe}function w_(s,i){tl=ph=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function E_(s,i,l){if((l&4194048)!==0){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,vc(s,l)}}var Xc={readContext:dn,use:vh,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};Xc.useEffectEvent=Nt;var T_={readContext:dn,use:vh,useCallback:function(s,i){return Tn().memoizedState=[s,i===void 0?null:i],s},useContext:dn,useEffect:o_,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,bh(4194308,4,d_.bind(null,i,s),l)},useLayoutEffect:function(s,i){return bh(4194308,4,s,i)},useInsertionEffect:function(s,i){bh(4,2,s,i)},useMemo:function(s,i){var l=Tn();i=i===void 0?null:i;var u=s();if(Va){tr(!0);try{s()}finally{tr(!1)}}return l.memoizedState=[u,i],u},useReducer:function(s,i,l){var u=Tn();if(l!==void 0){var p=l(i);if(Va){tr(!0);try{l(i)}finally{tr(!1)}}}else p=i;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=pR.bind(null,Oe,s),[u.memoizedState,s]},useRef:function(s){var i=Tn();return s={current:s},i.memoizedState=s},useState:function(s){s=qp(s);var i=s.queue,l=__.bind(null,Oe,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:Kp,useDeferredValue:function(s,i){var l=Tn();return Qp(l,s,i)},useTransition:function(){var s=qp(!1);return s=g_.bind(null,Oe,s.queue,!0,!1),Tn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var u=Oe,p=Tn();if(Ke){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),mt===null)throw Error(r(349));(Be&127)!==0||Hb(u,i,l)}p.memoizedState=l;var y={value:l,getSnapshot:i};return p.queue=y,o_(Kb.bind(null,u,y,s),[s]),u.flags|=2048,rl(9,{destroy:void 0},Gb.bind(null,u,y,l,i),null),l},useId:function(){var s=Tn(),i=mt.identifierPrefix;if(Ke){var l=is,u=ss;l=(u&~(1<<32-kt(u)-1)).toString(32)+l,i="_"+i+"R_"+l,l=gh++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=lR++,i="_"+i+"r_"+l.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:Yp,useFormState:n_,useActionState:n_,useOptimistic:function(s){var i=Tn();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Xp.bind(null,Oe,!0,l),l.dispatch=i,[s,i]},useMemoCache:Fp,useCacheRefresh:function(){return Tn().memoizedState=mR.bind(null,Oe)},useEffectEvent:function(s){var i=Tn(),l={impl:s};return i.memoizedState=l,function(){if((tt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Jp={readContext:dn,use:vh,useCallback:f_,useContext:dn,useEffect:Gp,useImperativeHandle:h_,useInsertionEffect:c_,useLayoutEffect:u_,useMemo:m_,useReducer:xh,useRef:a_,useState:function(){return xh(Is)},useDebugValue:Kp,useDeferredValue:function(s,i){var l=Mt();return p_(l,dt.memoizedState,s,i)},useTransition:function(){var s=xh(Is)[0],i=Mt().memoizedState;return[typeof s=="boolean"?s:Zc(s),i]},useSyncExternalStore:qb,useId:x_,useHostTransitionStatus:Yp,useFormState:r_,useActionState:r_,useOptimistic:function(s,i){var l=Mt();return Yb(l,dt,s,i)},useMemoCache:Fp,useCacheRefresh:b_};Jp.useEffectEvent=l_;var S_={readContext:dn,use:vh,useCallback:f_,useContext:dn,useEffect:Gp,useImperativeHandle:h_,useInsertionEffect:c_,useLayoutEffect:u_,useMemo:m_,useReducer:$p,useRef:a_,useState:function(){return $p(Is)},useDebugValue:Kp,useDeferredValue:function(s,i){var l=Mt();return dt===null?Qp(l,s,i):p_(l,dt.memoizedState,s,i)},useTransition:function(){var s=$p(Is)[0],i=Mt().memoizedState;return[typeof s=="boolean"?s:Zc(s),i]},useSyncExternalStore:qb,useId:x_,useHostTransitionStatus:Yp,useFormState:i_,useActionState:i_,useOptimistic:function(s,i){var l=Mt();return dt!==null?Yb(l,dt,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Fp,useCacheRefresh:b_};S_.useEffectEvent=l_;function Wp(s,i,l,u){i=s.memoizedState,l=l(u,i),l=l==null?i:x({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var eg={enqueueSetState:function(s,i,l){s=s._reactInternals;var u=Zn(),p=xi(u);p.payload=i,l!=null&&(p.callback=l),i=bi(s,p,u),i!==null&&(Vn(i,s,u),Hc(i,s,u))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var u=Zn(),p=xi(u);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=bi(s,p,u),i!==null&&(Vn(i,s,u),Hc(i,s,u))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Zn(),u=xi(l);u.tag=2,i!=null&&(u.callback=i),i=bi(s,u,l),i!==null&&(Vn(i,s,l),Hc(i,s,l))}};function A_(s,i,l,u,p,y,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,_):i.prototype&&i.prototype.isPureReactComponent?!Vc(l,u)||!Vc(p,y):!0}function N_(s,i,l,u){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==s&&eg.enqueueReplaceState(i,i.state,null)}function za(s,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(s=s.defaultProps){l===i&&(l=x({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}function I_(s){eh(s)}function R_(s){console.error(s)}function C_(s){eh(s)}function Eh(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function j_(s,i,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function tg(s,i,l){return l=xi(l),l.tag=3,l.payload={element:null},l.callback=function(){Eh(s,i)},l}function D_(s){return s=xi(s),s.tag=3,s}function k_(s,i,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;s.payload=function(){return p(y)},s.callback=function(){j_(i,l,u)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){j_(i,l,u),typeof p!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function gR(s,i,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Zo(i,l,p,!0),l=Hn.current,l!==null){switch(l.tag){case 31:case 13:return dr===null?Ph():l.alternate===null&&It===0&&(It=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===uh?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),Ag(s,u,p)),!1;case 22:return l.flags|=65536,u===uh?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),Ag(s,u,p)),!1}throw Error(r(435,l.tag))}return Ag(s,u,p),Ph(),!1}if(Ke)return i=Hn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,u!==bp&&(s=Error(r(422),{cause:u}),Uc(or(s,l)))):(u!==bp&&(i=Error(r(423),{cause:u}),Uc(or(i,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=or(u,l),p=tg(s.stateNode,u,p),jp(s,p),It!==4&&(It=2)),!1;var y=Error(r(520),{cause:u});if(y=or(y,l),iu===null?iu=[y]:iu.push(y),It!==4&&(It=2),i===null)return!0;u=or(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=tg(l.stateNode,u,s),jp(l,s),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ai===null||!Ai.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=D_(p),k_(p,s,l,u),jp(l,p),!1}l=l.return}while(l!==null);return!1}var ng=Error(r(461)),Ht=!1;function hn(s,i,l,u){i.child=s===null?Vb(i,null,l,u):Ma(i,s.child,l,u)}function O_(s,i,l,u,p){l=l.render;var y=i.ref;if("ref"in u){var _={};for(var S in u)S!=="ref"&&(_[S]=u[S])}else _=u;return Da(i),u=Vp(s,i,l,_,y,p),S=zp(),s!==null&&!Ht?(Lp(s,i,p),Rs(s,i,p)):(Ke&&S&&vp(i),i.flags|=1,hn(s,i,u,p),i.child)}function P_(s,i,l,u,p){if(s===null){var y=l.type;return typeof y=="function"&&!pp(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,M_(s,i,y,u,p)):(s=sh(l.type,null,u,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,!ug(s,p)){var _=y.memoizedProps;if(l=l.compare,l=l!==null?l:Vc,l(_,u)&&s.ref===i.ref)return Rs(s,i,p)}return i.flags|=1,s=Es(y,u),s.ref=i.ref,s.return=i,i.child=s}function M_(s,i,l,u,p){if(s!==null){var y=s.memoizedProps;if(Vc(y,u)&&s.ref===i.ref)if(Ht=!1,i.pendingProps=u=y,ug(s,p))(s.flags&131072)!==0&&(Ht=!0);else return i.lanes=s.lanes,Rs(s,i,p)}return rg(s,i,l,u,p)}function V_(s,i,l,u){var p=u.children,y=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,s!==null){for(u=i.child=s.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,i.child=null;return z_(s,i,y,l,u)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&lh(i,y!==null?y.cachePool:null),y!==null?Ub(i,y):kp(),Fb(i);else return u=i.lanes=536870912,z_(s,i,y!==null?y.baseLanes|l:l,l,u)}else y!==null?(lh(i,y.cachePool),Ub(i,y),wi(),i.memoizedState=null):(s!==null&&lh(i,null),kp(),wi());return hn(s,i,p,l),i.child}function Jc(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function z_(s,i,l,u,p){var y=Np();return y=y===null?null:{parent:$t._currentValue,pool:y},i.memoizedState={baseLanes:l,cachePool:y},s!==null&&lh(i,null),kp(),Fb(i),s!==null&&Zo(s,i,u,!0),i.childLanes=p,null}function Th(s,i){return i=Ah({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function L_(s,i,l){return Ma(i,s.child,null,l),s=Th(i,i.pendingProps),s.flags|=2,Gn(i),i.memoizedState=null,s}function yR(s,i,l){var u=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(Ke){if(u.mode==="hidden")return s=Th(i,u),i.lanes=536870912,Jc(null,s);if(Pp(i),(s=pt)?(s=X0(s,ur),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:mi!==null?{id:ss,overflow:is}:null,retryLane:536870912,hydrationErrors:null},l=wb(s),l.return=i,i.child=l,un=i,pt=null)):s=null,s===null)throw gi(i);return i.lanes=536870912,null}return Th(i,u)}var y=s.memoizedState;if(y!==null){var _=y.dehydrated;if(Pp(i),p)if(i.flags&256)i.flags&=-257,i=L_(s,i,l);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ht||Zo(s,i,l,!1),p=(l&s.childLanes)!==0,Ht||p){if(u=mt,u!==null&&(_=xc(u,l),_!==0&&_!==y.retryLane))throw y.retryLane=_,Ia(s,_),Vn(u,s,_),ng;Ph(),i=L_(s,i,l)}else s=y.treeContext,pt=hr(_.nextSibling),un=i,Ke=!0,pi=null,ur=!1,s!==null&&Sb(i,s),i=Th(i,u),i.flags|=4096;return i}return s=Es(s.child,{mode:u.mode,children:u.children}),s.ref=i.ref,i.child=s,s.return=i,s}function Sh(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function rg(s,i,l,u,p){return Da(i),l=Vp(s,i,l,u,void 0,p),u=zp(),s!==null&&!Ht?(Lp(s,i,p),Rs(s,i,p)):(Ke&&u&&vp(i),i.flags|=1,hn(s,i,l,p),i.child)}function U_(s,i,l,u,p,y){return Da(i),i.updateQueue=null,l=$b(i,u,l,p),Bb(s),u=zp(),s!==null&&!Ht?(Lp(s,i,y),Rs(s,i,y)):(Ke&&u&&vp(i),i.flags|=1,hn(s,i,l,y),i.child)}function F_(s,i,l,u,p){if(Da(i),i.stateNode===null){var y=Ho,_=l.contextType;typeof _=="object"&&_!==null&&(y=dn(_)),y=new l(u,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=eg,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=u,y.state=i.memoizedState,y.refs={},Rp(i),_=l.contextType,y.context=typeof _=="object"&&_!==null?dn(_):Ho,y.state=i.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Wp(i,l,_,u),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&eg.enqueueReplaceState(y,y.state,null),Kc(i,u,y,p),Gc(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(s===null){y=i.stateNode;var S=i.memoizedProps,O=za(l,S);y.props=O;var K=y.context,ne=l.contextType;_=Ho,typeof ne=="object"&&ne!==null&&(_=dn(ne));var oe=l.getDerivedStateFromProps;ne=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,ne||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||K!==_)&&N_(i,y,u,_),vi=!1;var Y=i.memoizedState;y.state=Y,Kc(i,u,y,p),Gc(),K=i.memoizedState,S||Y!==K||vi?(typeof oe=="function"&&(Wp(i,l,oe,u),K=i.memoizedState),(O=vi||A_(i,l,O,u,Y,K,_))?(ne||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=K),y.props=u,y.state=K,y.context=_,u=O):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{y=i.stateNode,Cp(s,i),_=i.memoizedProps,ne=za(l,_),y.props=ne,oe=i.pendingProps,Y=y.context,K=l.contextType,O=Ho,typeof K=="object"&&K!==null&&(O=dn(K)),S=l.getDerivedStateFromProps,(K=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==oe||Y!==O)&&N_(i,y,u,O),vi=!1,Y=i.memoizedState,y.state=Y,Kc(i,u,y,p),Gc();var ee=i.memoizedState;_!==oe||Y!==ee||vi||s!==null&&s.dependencies!==null&&ah(s.dependencies)?(typeof S=="function"&&(Wp(i,l,S,u),ee=i.memoizedState),(ne=vi||A_(i,l,ne,u,Y,ee,O)||s!==null&&s.dependencies!==null&&ah(s.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ee,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ee,O)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&Y===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&Y===s.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=ee),y.props=u,y.state=ee,y.context=O,u=ne):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&Y===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&Y===s.memoizedState||(i.flags|=1024),u=!1)}return y=u,Sh(s,i),u=(i.flags&128)!==0,y||u?(y=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,s!==null&&u?(i.child=Ma(i,s.child,null,p),i.child=Ma(i,null,l,p)):hn(s,i,l,p),i.memoizedState=y.state,s=i.child):s=Rs(s,i,p),s}function B_(s,i,l,u){return Ca(),i.flags|=256,hn(s,i,l,u),i.child}var sg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ig(s){return{baseLanes:s,cachePool:jb()}}function ag(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=Qn),s}function $_(s,i,l){var u=i.pendingProps,p=!1,y=(i.flags&128)!==0,_;if((_=y)||(_=s!==null&&s.memoizedState===null?!1:(Pt.current&2)!==0),_&&(p=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,s===null){if(Ke){if(p?_i(i):wi(),(s=pt)?(s=X0(s,ur),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:mi!==null?{id:ss,overflow:is}:null,retryLane:536870912,hydrationErrors:null},l=wb(s),l.return=i,i.child=l,un=i,pt=null)):s=null,s===null)throw gi(i);return Bg(s)?i.lanes=32:i.lanes=536870912,null}var S=u.children;return u=u.fallback,p?(wi(),p=i.mode,S=Ah({mode:"hidden",children:S},p),u=Ra(u,p,l,null),S.return=i,u.return=i,S.sibling=u,i.child=S,u=i.child,u.memoizedState=ig(l),u.childLanes=ag(s,_,l),i.memoizedState=sg,Jc(null,u)):(_i(i),og(i,S))}var O=s.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(y)i.flags&256?(_i(i),i.flags&=-257,i=lg(s,i,l)):i.memoizedState!==null?(wi(),i.child=s.child,i.flags|=128,i=null):(wi(),S=u.fallback,p=i.mode,u=Ah({mode:"visible",children:u.children},p),S=Ra(S,p,l,null),S.flags|=2,u.return=i,S.return=i,u.sibling=S,i.child=u,Ma(i,s.child,null,l),u=i.child,u.memoizedState=ig(l),u.childLanes=ag(s,_,l),i.memoizedState=sg,i=Jc(null,u));else if(_i(i),Bg(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var K=_.dgst;_=K,u=Error(r(419)),u.stack="",u.digest=_,Uc({value:u,source:null,stack:null}),i=lg(s,i,l)}else if(Ht||Zo(s,i,l,!1),_=(l&s.childLanes)!==0,Ht||_){if(_=mt,_!==null&&(u=xc(_,l),u!==0&&u!==O.retryLane))throw O.retryLane=u,Ia(s,u),Vn(_,s,u),ng;Fg(S)||Ph(),i=lg(s,i,l)}else Fg(S)?(i.flags|=192,i.child=s.child,i=null):(s=O.treeContext,pt=hr(S.nextSibling),un=i,Ke=!0,pi=null,ur=!1,s!==null&&Sb(i,s),i=og(i,u.children),i.flags|=4096);return i}return p?(wi(),S=u.fallback,p=i.mode,O=s.child,K=O.sibling,u=Es(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,K!==null?S=Es(K,S):(S=Ra(S,p,l,null),S.flags|=2),S.return=i,u.return=i,u.sibling=S,i.child=u,Jc(null,u),u=i.child,S=s.child.memoizedState,S===null?S=ig(l):(p=S.cachePool,p!==null?(O=$t._currentValue,p=p.parent!==O?{parent:O,pool:O}:p):p=jb(),S={baseLanes:S.baseLanes|l,cachePool:p}),u.memoizedState=S,u.childLanes=ag(s,_,l),i.memoizedState=sg,Jc(s.child,u)):(_i(i),l=s.child,s=l.sibling,l=Es(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,s!==null&&(_=i.deletions,_===null?(i.deletions=[s],i.flags|=16):_.push(s)),i.child=l,i.memoizedState=null,l)}function og(s,i){return i=Ah({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Ah(s,i){return s=qn(22,s,null,i),s.lanes=0,s}function lg(s,i,l){return Ma(i,s.child,null,l),s=og(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function q_(s,i,l){s.lanes|=i;var u=s.alternate;u!==null&&(u.lanes|=i),Ep(s.return,i,l)}function cg(s,i,l,u,p,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p,treeForkCount:y}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=l,_.tailMode=p,_.treeForkCount=y)}function H_(s,i,l){var u=i.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var _=Pt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,se(Pt,_),hn(s,i,u,l),u=Ke?Lc:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&q_(s,l,i);else if(s.tag===19)q_(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&mh(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),cg(i,!1,p,l,y,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&mh(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}cg(i,!0,l,null,y,u);break;case"together":cg(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Rs(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Si|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Zo(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=Es(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Es(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function ug(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&ah(s)))}function vR(s,i,l){switch(i.tag){case 3:At(i,i.stateNode.containerInfo),yi(i,$t,s.memoizedState.cache),Ca();break;case 27:case 5:er(i);break;case 4:At(i,i.stateNode.containerInfo);break;case 10:yi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Pp(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(_i(i),i.flags|=128,null):(l&i.child.childLanes)!==0?$_(s,i,l):(_i(i),s=Rs(s,i,l),s!==null?s.sibling:null);_i(i);break;case 19:var p=(s.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Zo(s,i,l,!1),u=(l&i.childLanes)!==0),p){if(u)return H_(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),se(Pt,Pt.current),u)break;return null;case 22:return i.lanes=0,V_(s,i,l,i.pendingProps);case 24:yi(i,$t,s.memoizedState.cache)}return Rs(s,i,l)}function G_(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)Ht=!0;else{if(!ug(s,l)&&(i.flags&128)===0)return Ht=!1,vR(s,i,l);Ht=(s.flags&131072)!==0}else Ht=!1,Ke&&(i.flags&1048576)!==0&&Tb(i,Lc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(s=Oa(i.elementType),i.type=s,typeof s=="function")pp(s)?(u=za(s,u),i.tag=1,i=F_(null,i,s,u,l)):(i.tag=0,i=rg(null,i,s,u,l));else{if(s!=null){var p=s.$$typeof;if(p===le){i.tag=11,i=O_(null,i,s,u,l);break e}else if(p===I){i.tag=14,i=P_(null,i,s,u,l);break e}}throw i=Ge(s)||s,Error(r(306,i,""))}}return i;case 0:return rg(s,i,i.type,i.pendingProps,l);case 1:return u=i.type,p=za(u,i.pendingProps),F_(s,i,u,p,l);case 3:e:{if(At(i,i.stateNode.containerInfo),s===null)throw Error(r(387));u=i.pendingProps;var y=i.memoizedState;p=y.element,Cp(s,i),Kc(i,u,null,l);var _=i.memoizedState;if(u=_.cache,yi(i,$t,u),u!==y.cache&&Tp(i,[$t],l,!0),Gc(),u=_.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=B_(s,i,u,l);break e}else if(u!==p){p=or(Error(r(424)),i),Uc(p),i=B_(s,i,u,l);break e}else for(s=i.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,pt=hr(s.firstChild),un=i,Ke=!0,pi=null,ur=!0,l=Vb(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ca(),u===p){i=Rs(s,i,l);break e}hn(s,i,u,l)}i=i.child}return i;case 26:return Sh(s,i),s===null?(l=rw(i.type,null,i.pendingProps,null))?i.memoizedState=l:Ke||(l=i.type,s=i.pendingProps,u=Bh(Ie.current).createElement(l),u[Ut]=i,u[nn]=s,fn(u,l,s),Ft(u),i.stateNode=u):i.memoizedState=rw(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return er(i),s===null&&Ke&&(u=i.stateNode=ew(i.type,i.pendingProps,Ie.current),un=i,ur=!0,p=pt,Ci(i.type)?($g=p,pt=hr(u.firstChild)):pt=p),hn(s,i,i.pendingProps.children,l),Sh(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Ke&&((p=u=pt)&&(u=QR(u,i.type,i.pendingProps,ur),u!==null?(i.stateNode=u,un=i,pt=hr(u.firstChild),ur=!1,p=!0):p=!1),p||gi(i)),er(i),p=i.type,y=i.pendingProps,_=s!==null?s.memoizedProps:null,u=y.children,zg(p,y)?u=null:_!==null&&zg(p,_)&&(i.flags|=32),i.memoizedState!==null&&(p=Vp(s,i,cR,null,null,l),fu._currentValue=p),Sh(s,i),hn(s,i,u,l),i.child;case 6:return s===null&&Ke&&((s=l=pt)&&(l=ZR(l,i.pendingProps,ur),l!==null?(i.stateNode=l,un=i,pt=null,s=!0):s=!1),s||gi(i)),null;case 13:return $_(s,i,l);case 4:return At(i,i.stateNode.containerInfo),u=i.pendingProps,s===null?i.child=Ma(i,null,u,l):hn(s,i,u,l),i.child;case 11:return O_(s,i,i.type,i.pendingProps,l);case 7:return hn(s,i,i.pendingProps,l),i.child;case 8:return hn(s,i,i.pendingProps.children,l),i.child;case 12:return hn(s,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,yi(i,i.type,u.value),hn(s,i,u.children,l),i.child;case 9:return p=i.type._context,u=i.pendingProps.children,Da(i),p=dn(p),u=u(p),i.flags|=1,hn(s,i,u,l),i.child;case 14:return P_(s,i,i.type,i.pendingProps,l);case 15:return M_(s,i,i.type,i.pendingProps,l);case 19:return H_(s,i,l);case 31:return yR(s,i,l);case 22:return V_(s,i,l,i.pendingProps);case 24:return Da(i),u=dn($t),s===null?(p=Np(),p===null&&(p=mt,y=Sp(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),i.memoizedState={parent:u,cache:p},Rp(i),yi(i,$t,p)):((s.lanes&l)!==0&&(Cp(s,i),Kc(i,null,null,l),Gc()),p=s.memoizedState,y=i.memoizedState,p.parent!==u?(p={parent:u,cache:u},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),yi(i,$t,u)):(u=y.cache,yi(i,$t,u),u!==p.cache&&Tp(i,[$t],l,!0))),hn(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Cs(s){s.flags|=4}function dg(s,i,l,u,p){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(x0())s.flags|=8192;else throw Pa=uh,Ip}else s.flags&=-16777217}function K_(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!lw(i))if(x0())s.flags|=8192;else throw Pa=uh,Ip}function Nh(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?kd():536870912,s.lanes|=i,ol|=i)}function Wc(s,i){if(!Ke)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function gt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=l,i}function xR(s,i,l){var u=i.pendingProps;switch(xp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return gt(i),null;case 3:return l=i.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),As($t),nt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Qo(i)?Cs(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_p())),gt(i),null;case 26:var p=i.type,y=i.memoizedState;return s===null?(Cs(i),y!==null?(gt(i),K_(i,y)):(gt(i),dg(i,p,null,u,l))):y?y!==s.memoizedState?(Cs(i),gt(i),K_(i,y)):(gt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==u&&Cs(i),gt(i),dg(i,p,s,u,l)),null;case 27:if(Lr(i),l=Ie.current,p=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&Cs(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return gt(i),null}s=ue.current,Qo(i)?Ab(i):(s=ew(p,u,l),i.stateNode=s,Cs(i))}return gt(i),null;case 5:if(Lr(i),p=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&Cs(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return gt(i),null}if(y=ue.current,Qo(i))Ab(i);else{var _=Bh(Ie.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?_.createElement(p,{is:u.is}):_.createElement(p)}}y[Ut]=i,y[nn]=u;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=y;e:switch(fn(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Cs(i)}}return gt(i),dg(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,l),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==u&&Cs(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(s=Ie.current,Qo(i)){if(s=i.stateNode,l=i.memoizedProps,u=null,p=un,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[Ut]=i,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||$0(s.nodeValue,l)),s||gi(i,!0)}else s=Bh(s).createTextNode(u),s[Ut]=i,i.stateNode=s}return gt(i),null;case 31:if(l=i.memoizedState,s===null||s.memoizedState!==null){if(u=Qo(i),l!==null){if(s===null){if(!u)throw Error(r(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Ut]=i}else Ca(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),s=!1}else l=_p(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return i.flags&256?(Gn(i),i):(Gn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return gt(i),null;case 13:if(u=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Qo(i),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(r(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Ut]=i}else Ca(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),p=!1}else p=_p(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Gn(i),i):(Gn(i),null)}return Gn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=i.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),l!==s&&l&&(i.child.flags|=8192),Nh(i,i.updateQueue),gt(i),null);case 4:return nt(),s===null&&kg(i.stateNode.containerInfo),gt(i),null;case 10:return As(i.type),gt(i),null;case 19:if(q(Pt),u=i.memoizedState,u===null)return gt(i),null;if(p=(i.flags&128)!==0,y=u.rendering,y===null)if(p)Wc(u,!1);else{if(It!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(y=mh(s),y!==null){for(i.flags|=128,Wc(u,!1),s=y.updateQueue,i.updateQueue=s,Nh(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)_b(l,s),l=l.sibling;return se(Pt,Pt.current&1|2),Ke&&Ts(i,u.treeForkCount),i.child}s=s.sibling}u.tail!==null&&wn()>Dh&&(i.flags|=128,p=!0,Wc(u,!1),i.lanes=4194304)}else{if(!p)if(s=mh(y),s!==null){if(i.flags|=128,p=!0,s=s.updateQueue,i.updateQueue=s,Nh(i,s),Wc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Ke)return gt(i),null}else 2*wn()-u.renderingStartTime>Dh&&l!==536870912&&(i.flags|=128,p=!0,Wc(u,!1),i.lanes=4194304);u.isBackwards?(y.sibling=i.child,i.child=y):(s=u.last,s!==null?s.sibling=y:i.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=wn(),s.sibling=null,l=Pt.current,se(Pt,p?l&1|2:l&1),Ke&&Ts(i,u.treeForkCount),s):(gt(i),null);case 22:case 23:return Gn(i),Op(),u=i.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),l=i.updateQueue,l!==null&&Nh(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),s!==null&&q(ka),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),As($t),gt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function bR(s,i){switch(xp(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return As($t),nt(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return Lr(i),null;case 31:if(i.memoizedState!==null){if(Gn(i),i.alternate===null)throw Error(r(340));Ca()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(Gn(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ca()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return q(Pt),null;case 4:return nt(),null;case 10:return As(i.type),null;case 22:case 23:return Gn(i),Op(),s!==null&&q(ka),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return As($t),null;case 25:return null;default:return null}}function Q_(s,i){switch(xp(i),i.tag){case 3:As($t),nt();break;case 26:case 27:case 5:Lr(i);break;case 4:nt();break;case 31:i.memoizedState!==null&&Gn(i);break;case 13:Gn(i);break;case 19:q(Pt);break;case 10:As(i.type);break;case 22:case 23:Gn(i),Op(),s!==null&&q(ka);break;case 24:As($t)}}function eu(s,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&s)===s){u=void 0;var y=l.create,_=l.inst;u=y(),_.destroy=u}l=l.next}while(l!==p)}}catch(S){it(i,i.return,S)}}function Ei(s,i,l){try{var u=i.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){var _=u.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,p=i;var O=l,K=S;try{K()}catch(ne){it(p,O,ne)}}}u=u.next}while(u!==y)}}catch(ne){it(i,i.return,ne)}}function Z_(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{Lb(i,l)}catch(u){it(s,s.return,u)}}}function Y_(s,i,l){l.props=za(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){it(s,i,u)}}function tu(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(p){it(s,i,p)}}function as(s,i){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){it(s,i,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){it(s,i,p)}else l.current=null}function X_(s){var i=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){it(s,s.return,p)}}function hg(s,i,l){try{var u=s.stateNode;BR(u,s.type,l,i),u[nn]=i}catch(p){it(s,s.return,p)}}function J_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ci(s.type)||s.tag===4}function fg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||J_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ci(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function mg(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Nr));else if(u!==4&&(u===27&&Ci(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(mg(s,i,l),s=s.sibling;s!==null;)mg(s,i,l),s=s.sibling}function Ih(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(u!==4&&(u===27&&Ci(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Ih(s,i,l),s=s.sibling;s!==null;)Ih(s,i,l),s=s.sibling}function W_(s){var i=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);fn(i,u,l),i[Ut]=s,i[nn]=l}catch(y){it(s,s.return,y)}}var js=!1,Gt=!1,pg=!1,e0=typeof WeakSet=="function"?WeakSet:Set,sn=null;function _R(s,i){if(s=s.containerInfo,Mg=Zh,s=hb(s),lp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var _=0,S=-1,O=-1,K=0,ne=0,oe=s,Y=null;t:for(;;){for(var ee;oe!==l||p!==0&&oe.nodeType!==3||(S=_+p),oe!==y||u!==0&&oe.nodeType!==3||(O=_+u),oe.nodeType===3&&(_+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)Y=oe,oe=ee;for(;;){if(oe===s)break t;if(Y===l&&++K===p&&(S=_),Y===y&&++ne===u&&(O=_),(ee=oe.nextSibling)!==null)break;oe=Y,Y=oe.parentNode}oe=ee}l=S===-1||O===-1?null:{start:S,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Vg={focusedElem:s,selectionRange:l},Zh=!1,sn=i;sn!==null;)if(i=sn,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,sn=s;else for(;sn!==null;){switch(i=sn,y=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)p=s[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=i,p=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var ge=za(l.type,p);s=u.getSnapshotBeforeUpdate(ge,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ne){it(l,l.return,Ne)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)Ug(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ug(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,sn=s;break}sn=i.return}}function t0(s,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ks(s,l),u&4&&eu(5,l);break;case 1:if(ks(s,l),u&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(_){it(l,l.return,_)}else{var p=za(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(p,i,s.__reactInternalSnapshotBeforeUpdate)}catch(_){it(l,l.return,_)}}u&64&&Z_(l),u&512&&tu(l,l.return);break;case 3:if(ks(s,l),u&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Lb(s,i)}catch(_){it(l,l.return,_)}}break;case 27:i===null&&u&4&&W_(l);case 26:case 5:ks(s,l),i===null&&u&4&&X_(l),u&512&&tu(l,l.return);break;case 12:ks(s,l);break;case 31:ks(s,l),u&4&&s0(s,l);break;case 13:ks(s,l),u&4&&i0(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=CR.bind(null,l),YR(s,l))));break;case 22:if(u=l.memoizedState!==null||js,!u){i=i!==null&&i.memoizedState!==null||Gt,p=js;var y=Gt;js=u,(Gt=i)&&!y?Os(s,l,(l.subtreeFlags&8772)!==0):ks(s,l),js=p,Gt=y}break;case 30:break;default:ks(s,l)}}function n0(s){var i=s.alternate;i!==null&&(s.alternate=null,n0(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&jo(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var vt=null,kn=!1;function Ds(s,i,l){for(l=l.child;l!==null;)r0(s,i,l),l=l.sibling}function r0(s,i,l){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Er,l)}catch{}switch(l.tag){case 26:Gt||as(l,i),Ds(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Gt||as(l,i);var u=vt,p=kn;Ci(l.type)&&(vt=l.stateNode,kn=!1),Ds(s,i,l),uu(l.stateNode),vt=u,kn=p;break;case 5:Gt||as(l,i);case 6:if(u=vt,p=kn,vt=null,Ds(s,i,l),vt=u,kn=p,vt!==null)if(kn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(y){it(l,i,y)}else try{vt.removeChild(l.stateNode)}catch(y){it(l,i,y)}break;case 18:vt!==null&&(kn?(s=vt,Z0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),pl(s)):Z0(vt,l.stateNode));break;case 4:u=vt,p=kn,vt=l.stateNode.containerInfo,kn=!0,Ds(s,i,l),vt=u,kn=p;break;case 0:case 11:case 14:case 15:Ei(2,l,i),Gt||Ei(4,l,i),Ds(s,i,l);break;case 1:Gt||(as(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Y_(l,i,u)),Ds(s,i,l);break;case 21:Ds(s,i,l);break;case 22:Gt=(u=Gt)||l.memoizedState!==null,Ds(s,i,l),Gt=u;break;default:Ds(s,i,l)}}function s0(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{pl(s)}catch(l){it(i,i.return,l)}}}function i0(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{pl(s)}catch(l){it(i,i.return,l)}}function wR(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new e0),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new e0),i;default:throw Error(r(435,s.tag))}}function Rh(s,i){var l=wR(s);i.forEach(function(u){if(!l.has(u)){l.add(u);var p=jR.bind(null,s,u);u.then(p,p)}})}function On(s,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],y=s,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Ci(S.type)){vt=S.stateNode,kn=!1;break e}break;case 5:vt=S.stateNode,kn=!1;break e;case 3:case 4:vt=S.stateNode.containerInfo,kn=!0;break e}S=S.return}if(vt===null)throw Error(r(160));r0(y,_,p),vt=null,kn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)a0(i,s),i=i.sibling}var kr=null;function a0(s,i){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:On(i,s),Pn(s),u&4&&(Ei(3,s,s.return),eu(3,s),Ei(5,s,s.return));break;case 1:On(i,s),Pn(s),u&512&&(Gt||l===null||as(l,l.return)),u&64&&js&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=kr;if(On(i,s),Pn(s),u&512&&(Gt||l===null||as(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Gr]||y[Ut]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),fn(y,u,l),y[Ut]=s,Ft(y),u=y;break e;case"link":var _=aw("link","href",p).get(u+(l.href||""));if(_){for(var S=0;S<_.length;S++)if(y=_[S],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(S,1);break t}}y=p.createElement(u),fn(y,u,l),p.head.appendChild(y);break;case"meta":if(_=aw("meta","content",p).get(u+(l.content||""))){for(S=0;S<_.length;S++)if(y=_[S],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(S,1);break t}}y=p.createElement(u),fn(y,u,l),p.head.appendChild(y);break;default:throw Error(r(468,u))}y[Ut]=s,Ft(y),u=y}s.stateNode=u}else ow(p,s.type,s.stateNode);else s.stateNode=iw(p,u,s.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?ow(p,s.type,s.stateNode):iw(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&hg(s,s.memoizedProps,l.memoizedProps)}break;case 27:On(i,s),Pn(s),u&512&&(Gt||l===null||as(l,l.return)),l!==null&&u&4&&hg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(On(i,s),Pn(s),u&512&&(Gt||l===null||as(l,l.return)),s.flags&32){p=s.stateNode;try{Dn(p,"")}catch(ge){it(s,s.return,ge)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,hg(s,p,l!==null?l.memoizedProps:p)),u&1024&&(pg=!0);break;case 6:if(On(i,s),Pn(s),u&4){if(s.stateNode===null)throw Error(r(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ge){it(s,s.return,ge)}}break;case 3:if(Hh=null,p=kr,kr=$h(i.containerInfo),On(i,s),kr=p,Pn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{pl(i.containerInfo)}catch(ge){it(s,s.return,ge)}pg&&(pg=!1,o0(s));break;case 4:u=kr,kr=$h(s.stateNode.containerInfo),On(i,s),Pn(s),kr=u;break;case 12:On(i,s),Pn(s);break;case 31:On(i,s),Pn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Rh(s,u)));break;case 13:On(i,s),Pn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(jh=wn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Rh(s,u)));break;case 22:p=s.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,K=js,ne=Gt;if(js=K||p,Gt=ne||O,On(i,s),Gt=ne,js=K,Pn(s),u&8192)e:for(i=s.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(l===null||O||js||Gt||La(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){O=l=i;try{if(y=O.stateNode,p)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=O.stateNode;var oe=O.memoizedProps.style,Y=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ge){it(O,O.return,ge)}}}else if(i.tag===6){if(l===null){O=i;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(ge){it(O,O.return,ge)}}}else if(i.tag===18){if(l===null){O=i;try{var ee=O.stateNode;p?Y0(ee,!0):Y0(O.stateNode,!1)}catch(ge){it(O,O.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Rh(s,l))));break;case 19:On(i,s),Pn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Rh(s,u)));break;case 30:break;case 21:break;default:On(i,s),Pn(s)}}function Pn(s){var i=s.flags;if(i&2){try{for(var l,u=s.return;u!==null;){if(J_(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,y=fg(s);Ih(s,y,p);break;case 5:var _=l.stateNode;l.flags&32&&(Dn(_,""),l.flags&=-33);var S=fg(s);Ih(s,S,_);break;case 3:case 4:var O=l.stateNode.containerInfo,K=fg(s);mg(s,K,O);break;default:throw Error(r(161))}}catch(ne){it(s,s.return,ne)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function o0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;o0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function ks(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)t0(s,i.alternate,i),i=i.sibling}function La(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Ei(4,i,i.return),La(i);break;case 1:as(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Y_(i,i.return,l),La(i);break;case 27:uu(i.stateNode);case 26:case 5:as(i,i.return),La(i);break;case 22:i.memoizedState===null&&La(i);break;case 30:La(i);break;default:La(i)}s=s.sibling}}function Os(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,p=s,y=i,_=y.flags;switch(y.tag){case 0:case 11:case 15:Os(p,y,l),eu(4,y);break;case 1:if(Os(p,y,l),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){it(u,u.return,K)}if(u=y,p=u.updateQueue,p!==null){var S=u.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)zb(O[p],S)}catch(K){it(u,u.return,K)}}l&&_&64&&Z_(y),tu(y,y.return);break;case 27:W_(y);case 26:case 5:Os(p,y,l),l&&u===null&&_&4&&X_(y),tu(y,y.return);break;case 12:Os(p,y,l);break;case 31:Os(p,y,l),l&&_&4&&s0(p,y);break;case 13:Os(p,y,l),l&&_&4&&i0(p,y);break;case 22:y.memoizedState===null&&Os(p,y,l),tu(y,y.return);break;case 30:break;default:Os(p,y,l)}i=i.sibling}}function gg(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Fc(l))}function yg(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Fc(s))}function Or(s,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)l0(s,i,l,u),i=i.sibling}function l0(s,i,l,u){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Or(s,i,l,u),p&2048&&eu(9,i);break;case 1:Or(s,i,l,u);break;case 3:Or(s,i,l,u),p&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Fc(s)));break;case 12:if(p&2048){Or(s,i,l,u),s=i.stateNode;try{var y=i.memoizedProps,_=y.id,S=y.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){it(i,i.return,O)}}else Or(s,i,l,u);break;case 31:Or(s,i,l,u);break;case 13:Or(s,i,l,u);break;case 23:break;case 22:y=i.stateNode,_=i.alternate,i.memoizedState!==null?y._visibility&2?Or(s,i,l,u):nu(s,i):y._visibility&2?Or(s,i,l,u):(y._visibility|=2,sl(s,i,l,u,(i.subtreeFlags&10256)!==0||!1)),p&2048&&gg(_,i);break;case 24:Or(s,i,l,u),p&2048&&yg(i.alternate,i);break;default:Or(s,i,l,u)}}function sl(s,i,l,u,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=s,_=i,S=l,O=u,K=_.flags;switch(_.tag){case 0:case 11:case 15:sl(y,_,S,O,p),eu(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?sl(y,_,S,O,p):nu(y,_):(ne._visibility|=2,sl(y,_,S,O,p)),p&&K&2048&&gg(_.alternate,_);break;case 24:sl(y,_,S,O,p),p&&K&2048&&yg(_.alternate,_);break;default:sl(y,_,S,O,p)}i=i.sibling}}function nu(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,u=i,p=u.flags;switch(u.tag){case 22:nu(l,u),p&2048&&gg(u.alternate,u);break;case 24:nu(l,u),p&2048&&yg(u.alternate,u);break;default:nu(l,u)}i=i.sibling}}var ru=8192;function il(s,i,l){if(s.subtreeFlags&ru)for(s=s.child;s!==null;)c0(s,i,l),s=s.sibling}function c0(s,i,l){switch(s.tag){case 26:il(s,i,l),s.flags&ru&&s.memoizedState!==null&&lC(l,kr,s.memoizedState,s.memoizedProps);break;case 5:il(s,i,l);break;case 3:case 4:var u=kr;kr=$h(s.stateNode.containerInfo),il(s,i,l),kr=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=ru,ru=16777216,il(s,i,l),ru=u):il(s,i,l));break;default:il(s,i,l)}}function u0(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function su(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];sn=u,h0(u,s)}u0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)d0(s),s=s.sibling}function d0(s){switch(s.tag){case 0:case 11:case 15:su(s),s.flags&2048&&Ei(9,s,s.return);break;case 3:su(s);break;case 12:su(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,Ch(s)):su(s);break;default:su(s)}}function Ch(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];sn=u,h0(u,s)}u0(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Ei(8,i,i.return),Ch(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Ch(i));break;default:Ch(i)}s=s.sibling}}function h0(s,i){for(;sn!==null;){var l=sn;switch(l.tag){case 0:case 11:case 15:Ei(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Fc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,sn=u;else e:for(l=s;sn!==null;){u=sn;var p=u.sibling,y=u.return;if(n0(u),u===l){sn=null;break e}if(p!==null){p.return=y,sn=p;break e}sn=y}}}var ER={getCacheForType:function(s){var i=dn($t),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l},cacheSignal:function(){return dn($t).controller.signal}},TR=typeof WeakMap=="function"?WeakMap:Map,tt=0,mt=null,Le=null,Be=0,st=0,Kn=null,Ti=!1,al=!1,vg=!1,Ps=0,It=0,Si=0,Ua=0,xg=0,Qn=0,ol=0,iu=null,Mn=null,bg=!1,jh=0,f0=0,Dh=1/0,kh=null,Ai=null,Xt=0,Ni=null,ll=null,Ms=0,_g=0,wg=null,m0=null,au=0,Eg=null;function Zn(){return(tt&2)!==0&&Be!==0?Be&-Be:W.T!==null?Rg():Od()}function p0(){if(Qn===0)if((Be&536870912)===0||Ke){var s=fa;fa<<=1,(fa&3932160)===0&&(fa=262144),Qn=s}else Qn=536870912;return s=Hn.current,s!==null&&(s.flags|=32),Qn}function Vn(s,i,l){(s===mt&&(st===2||st===9)||s.cancelPendingCommit!==null)&&(cl(s,0),Ii(s,Be,Qn,!1)),ma(s,l),((tt&2)===0||s!==mt)&&(s===mt&&((tt&2)===0&&(Ua|=l),It===4&&Ii(s,Be,Qn,!1)),os(s))}function g0(s,i,l){if((tt&6)!==0)throw Error(r(327));var u=!l&&(i&127)===0&&(i&s.expiredLanes)===0||Tr(s,i),p=u?NR(s,i):Sg(s,i,!0),y=u;do{if(p===0){al&&!u&&Ii(s,i,0,!1);break}else{if(l=s.current.alternate,y&&!SR(l)){p=Sg(s,i,!1),y=!1;continue}if(p===2){if(y=i,s.errorRecoveryDisabledLanes&y)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=s;p=iu;var O=S.current.memoizedState.isDehydrated;if(O&&(cl(S,_).flags|=256),_=Sg(S,_,!1),_!==2){if(vg&&!O){S.errorRecoveryDisabledLanes|=y,Ua|=y,p=4;break e}y=Mn,Mn=p,y!==null&&(Mn===null?Mn=y:Mn.push.apply(Mn,y))}p=_}if(y=!1,p!==2)continue}}if(p===1){cl(s,0),Ii(s,i,0,!0);break}e:{switch(u=s,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ii(u,i,Qn,!Ti);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(p=jh+300-wn(),10<p)){if(Ii(u,i,Qn,!Ti),$r(u,0,!0)!==0)break e;Ms=i,u.timeoutHandle=K0(y0.bind(null,u,l,Mn,kh,bg,i,Qn,Ua,ol,Ti,y,"Throttled",-0,0),p);break e}y0(u,l,Mn,kh,bg,i,Qn,Ua,ol,Ti,y,null,-0,0)}}break}while(!0);os(s)}function y0(s,i,l,u,p,y,_,S,O,K,ne,oe,Y,ee){if(s.timeoutHandle=-1,oe=i.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nr},c0(i,y,oe);var ge=(y&62914560)===y?jh-wn():(y&4194048)===y?f0-wn():0;if(ge=cC(oe,ge),ge!==null){Ms=y,s.cancelPendingCommit=ge(S0.bind(null,s,i,y,l,u,p,_,S,O,ne,oe,null,Y,ee)),Ii(s,y,_,!K);return}}S0(s,i,y,l,u,p,_,S,O)}function SR(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],y=p.getSnapshot;p=p.value;try{if(!$n(y(),p))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ii(s,i,l,u){i&=~xg,i&=~Ua,s.suspendedLanes|=i,s.pingedLanes&=~i,u&&(s.warmLanes|=i),u=s.expirationTimes;for(var p=i;0<p;){var y=31-kt(p),_=1<<y;u[y]=-1,p&=~_}l!==0&&pa(s,l,i)}function Oh(){return(tt&6)===0?(ou(0),!1):!0}function Tg(){if(Le!==null){if(st===0)var s=Le.return;else s=Le,Ss=ja=null,Up(s),Wo=null,$c=0,s=Le;for(;s!==null;)Q_(s.alternate,s),s=s.return;Le=null}}function cl(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,HR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Ms=0,Tg(),mt=s,Le=l=Es(s.current,null),Be=i,st=0,Kn=null,Ti=!1,al=Tr(s,i),vg=!1,ol=Qn=xg=Ua=Si=It=0,Mn=iu=null,bg=!1,(i&8)!==0&&(i|=i&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=i;0<u;){var p=31-kt(u),y=1<<p;i|=s[p],u&=~y}return Ps=i,th(),l}function v0(s,i){Oe=null,W.H=Xc,i===Jo||i===ch?(i=Ob(),st=3):i===Ip?(i=Ob(),st=4):st=i===ng?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Kn=i,Le===null&&(It=1,Eh(s,or(i,s.current)))}function x0(){var s=Hn.current;return s===null?!0:(Be&4194048)===Be?dr===null:(Be&62914560)===Be||(Be&536870912)!==0?s===dr:!1}function b0(){var s=W.H;return W.H=Xc,s===null?Xc:s}function _0(){var s=W.A;return W.A=ER,s}function Ph(){It=4,Ti||(Be&4194048)!==Be&&Hn.current!==null||(al=!0),(Si&134217727)===0&&(Ua&134217727)===0||mt===null||Ii(mt,Be,Qn,!1)}function Sg(s,i,l){var u=tt;tt|=2;var p=b0(),y=_0();(mt!==s||Be!==i)&&(kh=null,cl(s,i)),i=!1;var _=It;e:do try{if(st!==0&&Le!==null){var S=Le,O=Kn;switch(st){case 8:Tg(),_=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(i=!0);var K=st;if(st=0,Kn=null,ul(s,S,O,K),l&&al){_=0;break e}break;default:K=st,st=0,Kn=null,ul(s,S,O,K)}}AR(),_=It;break}catch(ne){v0(s,ne)}while(!0);return i&&s.shellSuspendCounter++,Ss=ja=null,tt=u,W.H=p,W.A=y,Le===null&&(mt=null,Be=0,th()),_}function AR(){for(;Le!==null;)w0(Le)}function NR(s,i){var l=tt;tt|=2;var u=b0(),p=_0();mt!==s||Be!==i?(kh=null,Dh=wn()+500,cl(s,i)):al=Tr(s,i);e:do try{if(st!==0&&Le!==null){i=Le;var y=Kn;t:switch(st){case 1:st=0,Kn=null,ul(s,i,y,1);break;case 2:case 9:if(Db(y)){st=0,Kn=null,E0(i);break}i=function(){st!==2&&st!==9||mt!==s||(st=7),os(s)},y.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Db(y)?(st=0,Kn=null,E0(i)):(st=0,Kn=null,ul(s,i,y,7));break;case 5:var _=null;switch(Le.tag){case 26:_=Le.memoizedState;case 5:case 27:var S=Le;if(_?lw(_):S.stateNode.complete){st=0,Kn=null;var O=S.sibling;if(O!==null)Le=O;else{var K=S.return;K!==null?(Le=K,Mh(K)):Le=null}break t}}st=0,Kn=null,ul(s,i,y,5);break;case 6:st=0,Kn=null,ul(s,i,y,6);break;case 8:Tg(),It=6;break e;default:throw Error(r(462))}}IR();break}catch(ne){v0(s,ne)}while(!0);return Ss=ja=null,W.H=u,W.A=p,tt=l,Le!==null?0:(mt=null,Be=0,th(),It)}function IR(){for(;Le!==null&&!tp();)w0(Le)}function w0(s){var i=G_(s.alternate,s,Ps);s.memoizedProps=s.pendingProps,i===null?Mh(s):Le=i}function E0(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=U_(l,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=U_(l,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Up(i);default:Q_(l,i),i=Le=_b(i,Ps),i=G_(l,i,Ps)}s.memoizedProps=s.pendingProps,i===null?Mh(s):Le=i}function ul(s,i,l,u){Ss=ja=null,Up(i),Wo=null,$c=0;var p=i.return;try{if(gR(s,p,i,l,Be)){It=1,Eh(s,or(l,s.current)),Le=null;return}}catch(y){if(p!==null)throw Le=p,y;It=1,Eh(s,or(l,s.current)),Le=null;return}i.flags&32768?(Ke||u===1?s=!0:al||(Be&536870912)!==0?s=!1:(Ti=s=!0,(u===2||u===9||u===3||u===6)&&(u=Hn.current,u!==null&&u.tag===13&&(u.flags|=16384))),T0(i,s)):Mh(i)}function Mh(s){var i=s;do{if((i.flags&32768)!==0){T0(i,Ti);return}s=i.return;var l=xR(i.alternate,i,Ps);if(l!==null){Le=l;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=s}while(i!==null);It===0&&(It=5)}function T0(s,i){do{var l=bR(s.alternate,s);if(l!==null){l.flags&=32767,Le=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){Le=s;return}Le=s=l}while(s!==null);It=6,Le=null}function S0(s,i,l,u,p,y,_,S,O){s.cancelPendingCommit=null;do Vh();while(Xt!==0);if((tt&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(y=i.lanes|i.childLanes,y|=fp,sp(s,l,y,_,S,O),s===mt&&(Le=mt=null,Be=0),ll=i,Ni=s,Ms=l,_g=y,wg=p,m0=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,DR(si,function(){return C0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,p=he.p,he.p=2,_=tt,tt|=4;try{_R(s,i,l)}finally{tt=_,he.p=p,W.T=u}}Xt=1,A0(),N0(),I0()}}function A0(){if(Xt===1){Xt=0;var s=Ni,i=ll,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var u=he.p;he.p=2;var p=tt;tt|=4;try{a0(i,s);var y=Vg,_=hb(s.containerInfo),S=y.focusedElem,O=y.selectionRange;if(_!==S&&S&&S.ownerDocument&&db(S.ownerDocument.documentElement,S)){if(O!==null&&lp(S)){var K=O.start,ne=O.end;if(ne===void 0&&(ne=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(ne,S.value.length);else{var oe=S.ownerDocument||document,Y=oe&&oe.defaultView||window;if(Y.getSelection){var ee=Y.getSelection(),ge=S.textContent.length,Ne=Math.min(O.start,ge),ft=O.end===void 0?Ne:Math.min(O.end,ge);!ee.extend&&Ne>ft&&(_=ft,ft=Ne,Ne=_);var F=ub(S,Ne),L=ub(S,ft);if(F&&L&&(ee.rangeCount!==1||ee.anchorNode!==F.node||ee.anchorOffset!==F.offset||ee.focusNode!==L.node||ee.focusOffset!==L.offset)){var H=oe.createRange();H.setStart(F.node,F.offset),ee.removeAllRanges(),Ne>ft?(ee.addRange(H),ee.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),ee.addRange(H))}}}}for(oe=[],ee=S;ee=ee.parentNode;)ee.nodeType===1&&oe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<oe.length;S++){var re=oe[S];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Zh=!!Mg,Vg=Mg=null}finally{tt=p,he.p=u,W.T=l}}s.current=i,Xt=2}}function N0(){if(Xt===2){Xt=0;var s=Ni,i=ll,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var u=he.p;he.p=2;var p=tt;tt|=4;try{t0(s,i.alternate,i)}finally{tt=p,he.p=u,W.T=l}}Xt=3}}function I0(){if(Xt===4||Xt===3){Xt=0,Nd();var s=Ni,i=ll,l=Ms,u=m0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Xt=5:(Xt=0,ll=Ni=null,R0(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Ai=null),xs(l),i=i.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Er,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=W.T,p=he.p,he.p=2,W.T=null;try{for(var y=s.onRecoverableError,_=0;_<u.length;_++){var S=u[_];y(S.value,{componentStack:S.stack})}}finally{W.T=i,he.p=p}}(Ms&3)!==0&&Vh(),os(s),p=s.pendingLanes,(l&261930)!==0&&(p&42)!==0?s===Eg?au++:(au=0,Eg=s):au=0,ou(0)}}function R0(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Fc(i)))}function Vh(){return A0(),N0(),I0(),C0()}function C0(){if(Xt!==5)return!1;var s=Ni,i=_g;_g=0;var l=xs(Ms),u=W.T,p=he.p;try{he.p=32>l?32:l,W.T=null,l=wg,wg=null;var y=Ni,_=Ms;if(Xt=0,ll=Ni=null,Ms=0,(tt&6)!==0)throw Error(r(331));var S=tt;if(tt|=4,d0(y.current),l0(y,y.current,_,l),tt=S,ou(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Er,y)}catch{}return!0}finally{he.p=p,W.T=u,R0(s,i)}}function j0(s,i,l){i=or(l,i),i=tg(s.stateNode,i,2),s=bi(s,i,2),s!==null&&(ma(s,2),os(s))}function it(s,i,l){if(s.tag===3)j0(s,s,l);else for(;i!==null;){if(i.tag===3){j0(i,s,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ai===null||!Ai.has(u))){s=or(l,s),l=D_(2),u=bi(i,l,2),u!==null&&(k_(l,u,i,s),ma(u,2),os(u));break}}i=i.return}}function Ag(s,i,l){var u=s.pingCache;if(u===null){u=s.pingCache=new TR;var p=new Set;u.set(i,p)}else p=u.get(i),p===void 0&&(p=new Set,u.set(i,p));p.has(l)||(vg=!0,p.add(l),s=RR.bind(null,s,i,l),i.then(s,s))}function RR(s,i,l){var u=s.pingCache;u!==null&&u.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,mt===s&&(Be&l)===l&&(It===4||It===3&&(Be&62914560)===Be&&300>wn()-jh?(tt&2)===0&&cl(s,0):xg|=l,ol===Be&&(ol=0)),os(s)}function D0(s,i){i===0&&(i=kd()),s=Ia(s,i),s!==null&&(ma(s,i),os(s))}function CR(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),D0(s,l)}function jR(s,i){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),D0(s,l)}function DR(s,i){return Yt(s,i)}var zh=null,dl=null,Ng=!1,Lh=!1,Ig=!1,Ri=0;function os(s){s!==dl&&s.next===null&&(dl===null?zh=dl=s:dl=dl.next=s),Lh=!0,Ng||(Ng=!0,OR())}function ou(s,i){if(!Ig&&Lh){Ig=!0;do for(var l=!1,u=zh;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var _=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-kt(42|s)+1)-1,y&=p&~(_&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,M0(u,y))}else y=Be,y=$r(u,u===mt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Tr(u,y)||(l=!0,M0(u,y));u=u.next}while(l);Ig=!1}}function kR(){k0()}function k0(){Lh=Ng=!1;var s=0;Ri!==0&&qR()&&(s=Ri);for(var i=wn(),l=null,u=zh;u!==null;){var p=u.next,y=O0(u,i);y===0?(u.next=null,l===null?zh=p:l.next=p,p===null&&(dl=l)):(l=u,(s!==0||(y&3)!==0)&&(Lh=!0)),u=p}Xt!==0&&Xt!==5||ou(s),Ri!==0&&(Ri=0)}function O0(s,i){for(var l=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var _=31-kt(y),S=1<<_,O=p[_];O===-1?((S&l)===0||(S&u)!==0)&&(p[_]=rp(S,i)):O<=i&&(s.expiredLanes|=S),y&=~S}if(i=mt,l=Be,l=$r(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===i&&(st===2||st===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&ri(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Tr(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(u!==null&&ri(u),xs(l)){case 2:case 8:l=yc;break;case 32:l=si;break;case 268435456:l=Id;break;default:l=si}return u=P0.bind(null,s),l=Yt(l,u),s.callbackPriority=i,s.callbackNode=l,i}return u!==null&&u!==null&&ri(u),s.callbackPriority=2,s.callbackNode=null,2}function P0(s,i){if(Xt!==0&&Xt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Vh()&&s.callbackNode!==l)return null;var u=Be;return u=$r(s,s===mt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(g0(s,u,i),O0(s,wn()),s.callbackNode!=null&&s.callbackNode===l?P0.bind(null,s):null)}function M0(s,i){if(Vh())return null;g0(s,i,!0)}function OR(){GR(function(){(tt&6)!==0?Yt(gc,kR):k0()})}function Rg(){if(Ri===0){var s=Yo;s===0&&(s=Fr,Fr<<=1,(Fr&261888)===0&&(Fr=256)),Ri=s}return Ri}function V0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Po(""+s)}function z0(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function PR(s,i,l,u,p){if(i==="submit"&&l&&l.stateNode===p){var y=V0((p[nn]||null).action),_=u.submitter;_&&(i=(i=_[nn]||null)?V0(i.formAction):_.getAttribute("formAction"),i!==null&&(y=i,_=null));var S=new es("action","action",null,u,p);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ri!==0){var O=_?z0(p,_):new FormData(p);Zp(l,{pending:!0,data:O,method:p.method,action:y},null,O)}}else typeof y=="function"&&(S.preventDefault(),O=_?z0(p,_):new FormData(p),Zp(l,{pending:!0,data:O,method:p.method,action:y},y,O))},currentTarget:p}]})}}for(var Cg=0;Cg<hp.length;Cg++){var jg=hp[Cg],MR=jg.toLowerCase(),VR=jg[0].toUpperCase()+jg.slice(1);Dr(MR,"on"+VR)}Dr(pb,"onAnimationEnd"),Dr(gb,"onAnimationIteration"),Dr(yb,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(WI,"onTransitionRun"),Dr(eR,"onTransitionStart"),Dr(tR,"onTransitionCancel"),Dr(vb,"onTransitionEnd"),Yr("onMouseEnter",["mouseout","mouseover"]),Yr("onMouseLeave",["mouseout","mouseover"]),Yr("onPointerEnter",["pointerout","pointerover"]),Yr("onPointerLeave",["pointerout","pointerover"]),Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function L0(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],p=u.event;u=u.listeners;e:{var y=void 0;if(i)for(var _=u.length-1;0<=_;_--){var S=u[_],O=S.instance,K=S.currentTarget;if(S=S.listener,O!==y&&p.isPropagationStopped())break e;y=S,p.currentTarget=K;try{y(p)}catch(ne){eh(ne)}p.currentTarget=null,y=O}else for(_=0;_<u.length;_++){if(S=u[_],O=S.instance,K=S.currentTarget,S=S.listener,O!==y&&p.isPropagationStopped())break e;y=S,p.currentTarget=K;try{y(p)}catch(ne){eh(ne)}p.currentTarget=null,y=O}}}}function Ue(s,i){var l=i[Co];l===void 0&&(l=i[Co]=new Set);var u=s+"__bubble";l.has(u)||(U0(i,s,2,!1),l.add(u))}function Dg(s,i,l){var u=0;i&&(u|=4),U0(l,s,u,i)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function kg(s){if(!s[Uh]){s[Uh]=!0,bc.forEach(function(l){l!=="selectionchange"&&(zR.has(l)||Dg(l,!1,s),Dg(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Uh]||(i[Uh]=!0,Dg("selectionchange",!1,i))}}function U0(s,i,l,u){switch(pw(i)){case 2:var p=hC;break;case 8:p=fC;break;default:p=Qg}l=p.bind(null,i,l,s),p=void 0,!ba||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function Og(s,i,l,u,p){var y=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===p)break;if(_===4)for(_=u.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;S!==null;){if(_=Kr(S),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){u=y=_;continue e}S=S.parentNode}}u=u.return}ui(function(){var K=y,ne=rr(l),oe=[];e:{var Y=xb.get(s);if(Y!==void 0){var ee=es,ge=s;switch(s){case"keypress":if(wa(l)===0)break e;case"keydown":case"keyup":ee=Xd;break;case"focusin":ge="focus",ee=Ta;break;case"focusout":ge="blur",ee=Ta;break;case"beforeblur":case"afterblur":ee=Ta;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Bd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=b;break;case pb:case gb:case yb:ee=qd;break;case vb:ee=N;break;case"scroll":case"scrollend":ee=Dc;break;case"wheel":ee=J;break;case"copy":case"cut":case"paste":ee=Hd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=ws;break;case"toggle":case"beforetoggle":ee=ke}var Ne=(i&4)!==0,ft=!Ne&&(s==="scroll"||s==="scrollend"),F=Ne?Y!==null?Y+"Capture":null:Y;Ne=[];for(var L=K,H;L!==null;){var re=L;if(H=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||H===null||F===null||(re=Ir(L,F),re!=null&&Ne.push(cu(L,re,H))),ft)break;L=L.return}0<Ne.length&&(Y=new ee(Y,ge,null,l,ne),oe.push({event:Y,listeners:Ne}))}}if((i&7)===0){e:{if(Y=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",Y&&l!==Rc&&(ge=l.relatedTarget||l.fromElement)&&(Kr(ge)||ge[Hr]))break e;if((ee||Y)&&(Y=ne.window===ne?ne:(Y=ne.ownerDocument)?Y.defaultView||Y.parentWindow:window,ee?(ge=l.relatedTarget||l.toElement,ee=K,ge=ge?Kr(ge):null,ge!==null&&(ft=o(ge),Ne=ge.tag,ge!==ft||Ne!==5&&Ne!==27&&Ne!==6)&&(ge=null)):(ee=null,ge=K),ee!==ge)){if(Ne=kc,re="onMouseLeave",F="onMouseEnter",L="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=ws,re="onPointerLeave",F="onPointerEnter",L="pointer"),ft=ee==null?Y:Fn(ee),H=ge==null?Y:Fn(ge),Y=new Ne(re,L+"leave",ee,l,ne),Y.target=ft,Y.relatedTarget=H,re=null,Kr(ne)===K&&(Ne=new Ne(F,L+"enter",ge,l,ne),Ne.target=H,Ne.relatedTarget=ft,re=Ne),ft=re,ee&&ge)t:{for(Ne=LR,F=ee,L=ge,H=0,re=F;re;re=Ne(re))H++;re=0;for(var Te=L;Te;Te=Ne(Te))re++;for(;0<H-re;)F=Ne(F),H--;for(;0<re-H;)L=Ne(L),re--;for(;H--;){if(F===L||L!==null&&F===L.alternate){Ne=F;break t}F=Ne(F),L=Ne(L)}Ne=null}else Ne=null;ee!==null&&F0(oe,Y,ee,Ne,!1),ge!==null&&ft!==null&&F0(oe,ft,ge,Ne,!0)}}e:{if(Y=K?Fn(K):window,ee=Y.nodeName&&Y.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Y.type==="file")var Ye=sb;else if(nb(Y))if(ib)Ye=YI;else{Ye=QI;var be=KI}else ee=Y.nodeName,!ee||ee.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Oo(K.elementType)&&(Ye=sb):Ye=ZI;if(Ye&&(Ye=Ye(s,K))){rb(oe,Ye,l,ne);break e}be&&be(s,Y,K),s==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&Ac(Y,"number",Y.value)}switch(be=K?Fn(K):window,s){case"focusin":(nb(be)||be.contentEditable==="true")&&(Bo=be,cp=K,zc=null);break;case"focusout":zc=cp=Bo=null;break;case"mousedown":up=!0;break;case"contextmenu":case"mouseup":case"dragend":up=!1,fb(oe,l,ne);break;case"selectionchange":if(JI)break;case"keydown":case"keyup":fb(oe,l,ne)}var Pe;if(et)e:{switch(s){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Fo?Sa(s,l)&&($e="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&($e="onCompositionStart");$e&&(rs&&l.locale!=="ko"&&(Fo||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Fo&&(Pe=jc()):(Wr=ne,Cc="value"in Wr?Wr.value:Wr.textContent,Fo=!0)),be=Fh(K,$e),0<be.length&&($e=new ns($e,s,null,l,ne),oe.push({event:$e,listeners:be}),Pe?$e.data=Pe:(Pe=Uo(l),Pe!==null&&($e.data=Pe)))),(Pe=ir?$I(s,l):qI(s,l))&&($e=Fh(K,"onBeforeInput"),0<$e.length&&(be=new ns("onBeforeInput","beforeinput",null,l,ne),oe.push({event:be,listeners:$e}),be.data=Pe)),PR(oe,s,K,l,ne)}L0(oe,i)})}function cu(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Fh(s,i){for(var l=i+"Capture",u=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ir(s,l),p!=null&&u.unshift(cu(s,p,y)),p=Ir(s,i),p!=null&&u.push(cu(s,p,y))),s.tag===3)return u;s=s.return}return[]}function LR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function F0(s,i,l,u,p){for(var y=i._reactName,_=[];l!==null&&l!==u;){var S=l,O=S.alternate,K=S.stateNode;if(S=S.tag,O!==null&&O===u)break;S!==5&&S!==26&&S!==27||K===null||(O=K,p?(K=Ir(l,y),K!=null&&_.unshift(cu(l,K,O))):p||(K=Ir(l,y),K!=null&&_.push(cu(l,K,O)))),l=l.return}_.length!==0&&s.push({event:i,listeners:_})}var UR=/\r\n?/g,FR=/\u0000|\uFFFD/g;function B0(s){return(typeof s=="string"?s:""+s).replace(UR,`
`).replace(FR,"")}function $0(s,i){return i=B0(i),B0(s)===i}function ht(s,i,l,u,p,y){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Dn(s,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Dn(s,""+u);break;case"className":Bn(s,"class",u);break;case"tabIndex":Bn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(s,l,u);break;case"style":Ic(s,u,y);break;case"data":if(i!=="object"){Bn(s,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Po(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&ht(s,i,"name",p.name,p,null),ht(s,i,"formEncType",p.formEncType,p,null),ht(s,i,"formMethod",p.formMethod,p,null),ht(s,i,"formTarget",p.formTarget,p,null)):(ht(s,i,"encType",p.encType,p,null),ht(s,i,"method",p.method,p,null),ht(s,i,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Po(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Nr);break;case"onScroll":u!=null&&Ue("scroll",s);break;case"onScrollEnd":u!=null&&Ue("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Po(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Ue("beforetoggle",s),Ue("toggle",s),Do(s,"popover",u);break;case"xlinkActuate":Bt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Bt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Bt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Bt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Bt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Bt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Bt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Bt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Bt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Do(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Fd.get(l)||l,Do(s,l,u))}}function Pg(s,i,l,u,p,y){switch(l){case"style":Ic(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Dn(s,u):(typeof u=="number"||typeof u=="bigint")&&Dn(s,""+u);break;case"onScroll":u!=null&&Ue("scroll",s);break;case"onScrollEnd":u!=null&&Ue("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Nr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_c.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),i=l.slice(2,p?l.length-7:void 0),y=s[nn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(i,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,u,p);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Do(s,l,u)}}}function fn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",s),Ue("load",s);var u=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var _=l[y];if(_!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ht(s,i,y,_,l,null)}}p&&ht(s,i,"srcSet",l.srcSet,l,null),u&&ht(s,i,"src",l.src,l,null);return;case"input":Ue("invalid",s);var S=y=_=p=null,O=null,K=null;for(u in l)if(l.hasOwnProperty(u)){var ne=l[u];if(ne!=null)switch(u){case"name":p=ne;break;case"type":_=ne;break;case"checked":O=ne;break;case"defaultChecked":K=ne;break;case"value":y=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,i));break;default:ht(s,i,u,ne,l,null)}}zd(s,y,S,O,K,_,p,!1);return;case"select":Ue("invalid",s),u=_=y=null;for(p in l)if(l.hasOwnProperty(p)&&(S=l[p],S!=null))switch(p){case"value":y=S;break;case"defaultValue":_=S;break;case"multiple":u=S;default:ht(s,i,p,S,l,null)}i=y,l=_,s.multiple=!!u,i!=null?ai(s,!!u,i,!1):l!=null&&ai(s,!!u,l,!0);return;case"textarea":Ue("invalid",s),y=p=u=null;for(_ in l)if(l.hasOwnProperty(_)&&(S=l[_],S!=null))switch(_){case"value":u=S;break;case"defaultValue":p=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:ht(s,i,_,S,l,null)}oi(s,u,p,y);return;case"option":for(O in l)l.hasOwnProperty(O)&&(u=l[O],u!=null)&&(O==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ht(s,i,O,u,l,null));return;case"dialog":Ue("beforetoggle",s),Ue("toggle",s),Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":Ue("load",s);break;case"video":case"audio":for(u=0;u<lu.length;u++)Ue(lu[u],s);break;case"image":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"embed":case"source":case"link":Ue("error",s),Ue("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(u=l[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ht(s,i,K,u,l,null)}return;default:if(Oo(i)){for(ne in l)l.hasOwnProperty(ne)&&(u=l[ne],u!==void 0&&Pg(s,i,ne,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&ht(s,i,S,u,l,null))}function BR(s,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,_=null,S=null,O=null,K=null,ne=null;for(ee in l){var oe=l[ee];if(l.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":O=oe;default:u.hasOwnProperty(ee)||ht(s,i,ee,null,u,oe)}}for(var Y in u){var ee=u[Y];if(oe=l[Y],u.hasOwnProperty(Y)&&(ee!=null||oe!=null))switch(Y){case"type":y=ee;break;case"name":p=ee;break;case"checked":K=ee;break;case"defaultChecked":ne=ee;break;case"value":_=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,i));break;default:ee!==oe&&ht(s,i,Y,ee,u,oe)}}ko(s,_,S,O,K,ne,y,p);return;case"select":ee=_=S=Y=null;for(y in l)if(O=l[y],l.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":ee=O;default:u.hasOwnProperty(y)||ht(s,i,y,null,u,O)}for(p in u)if(y=u[p],O=l[p],u.hasOwnProperty(p)&&(y!=null||O!=null))switch(p){case"value":Y=y;break;case"defaultValue":S=y;break;case"multiple":_=y;default:y!==O&&ht(s,i,p,y,u,O)}i=S,l=_,u=ee,Y!=null?ai(s,!!l,Y,!1):!!u!=!!l&&(i!=null?ai(s,!!l,i,!0):ai(s,!!l,l?[]:"",!1));return;case"textarea":ee=Y=null;for(S in l)if(p=l[S],l.hasOwnProperty(S)&&p!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ht(s,i,S,null,u,p)}for(_ in u)if(p=u[_],y=l[_],u.hasOwnProperty(_)&&(p!=null||y!=null))switch(_){case"value":Y=p;break;case"defaultValue":ee=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&ht(s,i,_,p,u,y)}Ld(s,Y,ee);return;case"option":for(var ge in l)Y=l[ge],l.hasOwnProperty(ge)&&Y!=null&&!u.hasOwnProperty(ge)&&(ge==="selected"?s.selected=!1:ht(s,i,ge,null,u,Y));for(O in u)Y=u[O],ee=l[O],u.hasOwnProperty(O)&&Y!==ee&&(Y!=null||ee!=null)&&(O==="selected"?s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":ht(s,i,O,Y,u,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in l)Y=l[Ne],l.hasOwnProperty(Ne)&&Y!=null&&!u.hasOwnProperty(Ne)&&ht(s,i,Ne,null,u,Y);for(K in u)if(Y=u[K],ee=l[K],u.hasOwnProperty(K)&&Y!==ee&&(Y!=null||ee!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:ht(s,i,K,Y,u,ee)}return;default:if(Oo(i)){for(var ft in l)Y=l[ft],l.hasOwnProperty(ft)&&Y!==void 0&&!u.hasOwnProperty(ft)&&Pg(s,i,ft,void 0,u,Y);for(ne in u)Y=u[ne],ee=l[ne],!u.hasOwnProperty(ne)||Y===ee||Y===void 0&&ee===void 0||Pg(s,i,ne,Y,u,ee);return}}for(var F in l)Y=l[F],l.hasOwnProperty(F)&&Y!=null&&!u.hasOwnProperty(F)&&ht(s,i,F,null,u,Y);for(oe in u)Y=u[oe],ee=l[oe],!u.hasOwnProperty(oe)||Y===ee||Y==null&&ee==null||ht(s,i,oe,Y,u,ee)}function q0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $R(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var p=l[u],y=p.transferSize,_=p.initiatorType,S=p.duration;if(y&&S&&q0(_)){for(_=0,S=p.responseEnd,u+=1;u<l.length;u++){var O=l[u],K=O.startTime;if(K>S)break;var ne=O.transferSize,oe=O.initiatorType;ne&&q0(oe)&&(O=O.responseEnd,_+=ne*(O<S?1:(S-K)/(O-K)))}if(--u,i+=8*(y+_)/(p.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Mg=null,Vg=null;function Bh(s){return s.nodeType===9?s:s.ownerDocument}function H0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G0(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function zg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Lg=null;function qR(){var s=window.event;return s&&s.type==="popstate"?s===Lg?!1:(Lg=s,!0):(Lg=null,!1)}var K0=typeof setTimeout=="function"?setTimeout:void 0,HR=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,GR=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0<"u"?function(s){return Q0.resolve(null).then(s).catch(KR)}:K0;function KR(s){setTimeout(function(){throw s})}function Ci(s){return s==="head"}function Z0(s,i){var l=i,u=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(p),pl(i);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")uu(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,uu(l);for(var y=l.firstChild;y;){var _=y.nextSibling,S=y.nodeName;y[Gr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=_}}else l==="body"&&uu(s.ownerDocument.body);l=p}while(l);pl(i)}function Y0(s,i){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function Ug(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ug(l),jo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function QR(s,i,l,u){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Gr])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=hr(s.nextSibling),s===null)break}return null}function ZR(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=hr(s.nextSibling),s===null))return null;return s}function X0(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=hr(s.nextSibling),s===null))return null;return s}function Fg(s){return s.data==="$?"||s.data==="$~"}function Bg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function YR(s,i){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||l.readyState!=="loading")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function hr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var $g=null;function J0(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(i===0)return hr(s.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}s=s.nextSibling}return null}function W0(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return s;i--}else l!=="/$"&&l!=="/&"||i++}s=s.previousSibling}return null}function ew(s,i,l){switch(i=Bh(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function uu(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);jo(s)}var fr=new Map,tw=new Set;function $h(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Vs=he.d;he.d={f:XR,r:JR,D:WR,C:eC,L:tC,m:nC,X:sC,S:rC,M:iC};function XR(){var s=Vs.f(),i=Oh();return s||i}function JR(s){var i=nr(s);i!==null&&i.tag===5&&i.type==="form"?v_(i):Vs.r(s)}var hl=typeof document>"u"?null:document;function nw(s,i,l){var u=hl;if(u&&typeof i=="string"&&i){var p=jn(i);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),tw.has(p)||(tw.add(p),s={rel:s,crossOrigin:l,href:i},u.querySelector(p)===null&&(i=u.createElement("link"),fn(i,"link",s),Ft(i),u.head.appendChild(i)))}}function WR(s){Vs.D(s),nw("dns-prefetch",s,null)}function eC(s,i){Vs.C(s,i),nw("preconnect",s,i)}function tC(s,i,l){Vs.L(s,i,l);var u=hl;if(u&&s&&i){var p='link[rel="preload"][as="'+jn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+jn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+jn(l.imageSizes)+'"]')):p+='[href="'+jn(s)+'"]';var y=p;switch(i){case"style":y=fl(s);break;case"script":y=ml(s)}fr.has(y)||(s=x({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),fr.set(y,s),u.querySelector(p)!==null||i==="style"&&u.querySelector(du(y))||i==="script"&&u.querySelector(hu(y))||(i=u.createElement("link"),fn(i,"link",s),Ft(i),u.head.appendChild(i)))}}function nC(s,i){Vs.m(s,i);var l=hl;if(l&&s){var u=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+jn(u)+'"][href="'+jn(s)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ml(s)}if(!fr.has(y)&&(s=x({rel:"modulepreload",href:s},i),fr.set(y,s),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(hu(y)))return}u=l.createElement("link"),fn(u,"link",s),Ft(u),l.head.appendChild(u)}}}function rC(s,i,l){Vs.S(s,i,l);var u=hl;if(u&&s){var p=Qr(u).hoistableStyles,y=fl(s);i=i||"default";var _=p.get(y);if(!_){var S={loading:0,preload:null};if(_=u.querySelector(du(y)))S.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":i},l),(l=fr.get(y))&&qg(s,l);var O=_=u.createElement("link");Ft(O),fn(O,"link",s),O._p=new Promise(function(K,ne){O.onload=K,O.onerror=ne}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,qh(_,i,u)}_={type:"stylesheet",instance:_,count:1,state:S},p.set(y,_)}}}function sC(s,i){Vs.X(s,i);var l=hl;if(l&&s){var u=Qr(l).hoistableScripts,p=ml(s),y=u.get(p);y||(y=l.querySelector(hu(p)),y||(s=x({src:s,async:!0},i),(i=fr.get(p))&&Hg(s,i),y=l.createElement("script"),Ft(y),fn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function iC(s,i){Vs.M(s,i);var l=hl;if(l&&s){var u=Qr(l).hoistableScripts,p=ml(s),y=u.get(p);y||(y=l.querySelector(hu(p)),y||(s=x({src:s,async:!0,type:"module"},i),(i=fr.get(p))&&Hg(s,i),y=l.createElement("script"),Ft(y),fn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function rw(s,i,l,u){var p=(p=Ie.current)?$h(p):null;if(!p)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=fl(l.href),l=Qr(p).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=fl(l.href);var y=Qr(p).hoistableStyles,_=y.get(s);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,_),(y=p.querySelector(du(s)))&&!y._p&&(_.instance=y,_.state.loading=5),fr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},fr.set(s,l),y||aC(p,s,l,_.state))),i&&u===null)throw Error(r(528,""));return _}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ml(l),l=Qr(p).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function fl(s){return'href="'+jn(s)+'"'}function du(s){return'link[rel="stylesheet"]['+s+"]"}function sw(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function aC(s,i,l,u){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=s.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),fn(i,"link",l),Ft(i),s.head.appendChild(i))}function ml(s){return'[src="'+jn(s)+'"]'}function hu(s){return"script[async]"+s}function iw(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=s.querySelector('style[data-href~="'+jn(l.href)+'"]');if(u)return i.instance=u,Ft(u),u;var p=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ft(u),fn(u,"style",p),qh(u,l.precedence,s),i.instance=u;case"stylesheet":p=fl(l.href);var y=s.querySelector(du(p));if(y)return i.state.loading|=4,i.instance=y,Ft(y),y;u=sw(l),(p=fr.get(p))&&qg(u,p),y=(s.ownerDocument||s).createElement("link"),Ft(y);var _=y;return _._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),fn(y,"link",u),i.state.loading|=4,qh(y,l.precedence,s),i.instance=y;case"script":return y=ml(l.src),(p=s.querySelector(hu(y)))?(i.instance=p,Ft(p),p):(u=l,(p=fr.get(y))&&(u=x({},l),Hg(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),Ft(p),fn(p,"link",u),s.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,qh(u,l.precedence,s));return i.instance}function qh(s,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,_=0;_<u.length;_++){var S=u[_];if(S.dataset.precedence===i)y=S;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function qg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Hg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Hh=null;function aw(s,i,l){if(Hh===null){var u=new Map,p=Hh=new Map;p.set(l,u)}else p=Hh,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var y=l[p];if(!(y[Gr]||y[Ut]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(i)||"";_=s+_;var S=u.get(_);S?S.push(y):u.set(_,[y])}}return u}function ow(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function oC(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(s=i.disabled,typeof i.precedence=="string"&&s==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function lw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function lC(s,i,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=fl(u.href),y=i.querySelector(du(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=Gh.bind(s),i.then(s,s)),l.state.loading|=4,l.instance=y,Ft(y);return}y=i.ownerDocument||i,u=sw(u),(p=fr.get(p))&&qg(u,p),y=y.createElement("link"),Ft(y);var _=y;_._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),fn(y,"link",u),l.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Gh.bind(s),i.addEventListener("load",l),i.addEventListener("error",l))}}var Gg=0;function cC(s,i){return s.stylesheets&&s.count===0&&Qh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Qh(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+i);0<s.imgBytes&&Gg===0&&(Gg=62500*$R());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Qh(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Gg?50:800)+i);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Gh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Kh=null;function Qh(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Kh=new Map,i.forEach(uC,s),Kh=null,Gh.call(s))}function uC(s,i){if(!(i.state.loading&4)){var l=Kh.get(s);if(l)var u=l.get(null);else{l=new Map,Kh.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var _=p[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),u=_)}u&&l.set(null,u)}p=i.instance,_=p.getAttribute("data-precedence"),y=l.get(_)||u,y===u&&l.set(null,p),l.set(_,p),this.count++,u=Gh.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),i.state.loading|=4}}var fu={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function dC(s,i,l,u,p,y,_,S,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.hiddenUpdates=qr(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function cw(s,i,l,u,p,y,_,S,O,K,ne,oe){return s=new dC(s,i,l,_,O,K,ne,oe,S),i=1,y===!0&&(i|=24),y=qn(3,null,null,i),s.current=y,y.stateNode=s,i=Sp(),i.refCount++,s.pooledCache=i,i.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:i},Rp(y),s}function uw(s){return s?(s=Ho,s):Ho}function dw(s,i,l,u,p,y){p=uw(p),u.context===null?u.context=p:u.pendingContext=p,u=xi(i),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=bi(s,u,i),l!==null&&(Vn(l,s,i),Hc(l,s,i))}function hw(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Kg(s,i){hw(s,i),(s=s.alternate)&&hw(s,i)}function fw(s){if(s.tag===13||s.tag===31){var i=Ia(s,67108864);i!==null&&Vn(i,s,67108864),Kg(s,67108864)}}function mw(s){if(s.tag===13||s.tag===31){var i=Zn();i=ga(i);var l=Ia(s,i);l!==null&&Vn(l,s,i),Kg(s,i)}}var Zh=!0;function hC(s,i,l,u){var p=W.T;W.T=null;var y=he.p;try{he.p=2,Qg(s,i,l,u)}finally{he.p=y,W.T=p}}function fC(s,i,l,u){var p=W.T;W.T=null;var y=he.p;try{he.p=8,Qg(s,i,l,u)}finally{he.p=y,W.T=p}}function Qg(s,i,l,u){if(Zh){var p=Zg(u);if(p===null)Og(s,i,u,Yh,l),gw(s,u);else if(pC(p,s,i,l,u))u.stopPropagation();else if(gw(s,u),i&4&&-1<mC.indexOf(s)){for(;p!==null;){var y=nr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Br(y.pendingLanes);if(_!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var O=1<<31-kt(_);S.entanglements[1]|=O,_&=~O}os(y),(tt&6)===0&&(Dh=wn()+500,ou(0))}}break;case 31:case 13:S=Ia(y,2),S!==null&&Vn(S,y,2),Oh(),Kg(y,2)}if(y=Zg(u),y===null&&Og(s,i,u,Yh,l),y===p)break;p=y}p!==null&&u.stopPropagation()}else Og(s,i,u,null,l)}}function Zg(s){return s=rr(s),Yg(s)}var Yh=null;function Yg(s){if(Yh=null,s=Kr(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=c(i),s!==null)return s;s=null}else if(l===31){if(s=d(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Yh=s,null}function pw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ha()){case gc:return 2;case yc:return 8;case si:case np:return 32;case Id:return 268435456;default:return 32}default:return 32}}var Xg=!1,ji=null,Di=null,ki=null,mu=new Map,pu=new Map,Oi=[],mC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gw(s,i){switch(s){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":mu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(i.pointerId)}}function gu(s,i,l,u,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},i!==null&&(i=nr(i),i!==null&&fw(i)),s):(s.eventSystemFlags|=u,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function pC(s,i,l,u,p){switch(i){case"focusin":return ji=gu(ji,s,i,l,u,p),!0;case"dragenter":return Di=gu(Di,s,i,l,u,p),!0;case"mouseover":return ki=gu(ki,s,i,l,u,p),!0;case"pointerover":var y=p.pointerId;return mu.set(y,gu(mu.get(y)||null,s,i,l,u,p)),!0;case"gotpointercapture":return y=p.pointerId,pu.set(y,gu(pu.get(y)||null,s,i,l,u,p)),!0}return!1}function yw(s){var i=Kr(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){s.blockedOn=i,Sr(s.priority,function(){mw(l)});return}}else if(i===31){if(i=d(l),i!==null){s.blockedOn=i,Sr(s.priority,function(){mw(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xh(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Zg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Rc=u,l.target.dispatchEvent(u),Rc=null}else return i=nr(l),i!==null&&fw(i),s.blockedOn=l,!1;i.shift()}return!0}function vw(s,i,l){Xh(s)&&l.delete(i)}function gC(){Xg=!1,ji!==null&&Xh(ji)&&(ji=null),Di!==null&&Xh(Di)&&(Di=null),ki!==null&&Xh(ki)&&(ki=null),mu.forEach(vw),pu.forEach(vw)}function Jh(s,i){s.blockedOn===i&&(s.blockedOn=null,Xg||(Xg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gC)))}var Wh=null;function xw(s){Wh!==s&&(Wh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wh===s&&(Wh=null);for(var i=0;i<s.length;i+=3){var l=s[i],u=s[i+1],p=s[i+2];if(typeof u!="function"){if(Yg(u||l)===null)continue;break}var y=nr(l);y!==null&&(s.splice(i,3),i-=3,Zp(y,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function pl(s){function i(O){return Jh(O,s)}ji!==null&&Jh(ji,s),Di!==null&&Jh(Di,s),ki!==null&&Jh(ki,s),mu.forEach(i),pu.forEach(i);for(var l=0;l<Oi.length;l++){var u=Oi[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Oi.length&&(l=Oi[0],l.blockedOn===null);)yw(l),l.blockedOn===null&&Oi.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],y=l[u+1],_=p[nn]||null;if(typeof y=="function")_||xw(l);else if(_){var S=null;if(y&&y.hasAttribute("formAction")){if(p=y,_=y[nn]||null)S=_.formAction;else if(Yg(p)!==null)continue}else S=_.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),xw(l)}}}function bw(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Jg(s){this._internalRoot=s}ef.prototype.render=Jg.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,u=Zn();dw(l,u,s,i,null,null)},ef.prototype.unmount=Jg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;dw(s.current,2,null,s,null,null),Oh(),i[Hr]=null}};function ef(s){this._internalRoot=s}ef.prototype.unstable_scheduleHydration=function(s){if(s){var i=Od();s={blockedOn:null,target:s,priority:i};for(var l=0;l<Oi.length&&i!==0&&i<Oi[l].priority;l++);Oi.splice(l,0,s),l===0&&yw(s)}};var _w=e.version;if(_w!=="19.2.3")throw Error(r(527,_w,"19.2.3"));he.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=g(i),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var yC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tf.isDisabled&&tf.supportsFiber)try{Er=tf.inject(yC),ln=tf}catch{}}return vu.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,u="",p=I_,y=R_,_=C_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=cw(s,1,!1,null,null,l,u,null,p,y,_,bw),s[Hr]=i.current,kg(s),new Jg(i)},vu.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var u=!1,p="",y=I_,_=R_,S=C_,O=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(O=l.formState)),i=cw(s,1,!0,i,l??null,u,p,O,y,_,S,bw),i.context=uw(null),l=i.current,u=Zn(),u=ga(u),p=xi(u),p.callback=null,bi(l,p,u),l=u,i.current.lanes=l,ma(i,l),os(i),s[Hr]=i.current,kg(s),new ef(i)},vu.version="19.2.3",vu}var jw;function IC(){if(jw)return ty.exports;jw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ty.exports=NC(),ty.exports}var RC=IC();var Dw="popstate";function CC(t={}){function e(a,o){let{pathname:c="/",search:d="",hash:h=""}=Eo(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ay("",{pathname:c,search:d,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let h=a.location.href,g=h.indexOf("#");d=g===-1?h:h.slice(0,g)}return d+"#"+(typeof o=="string"?o:Bu(o))}function r(a,o){xr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return DC(e,n,r,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jC(){return Math.random().toString(36).substring(2,10)}function kw(t,e){return{usr:t.state,key:t.key,idx:e}}function Ay(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||r||jC()}}function Bu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Eo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function DC(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,d="POP",h=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function x(){d="POP";let P=v(),Z=P==null?null:P-g;g=P,h&&h({action:d,location:D.location,delta:Z})}function E(P,Z){d="PUSH";let X=Ay(D.location,P,Z);n&&n(X,P),g=v()+1;let Q=kw(X,g),le=D.createHref(X);try{c.pushState(Q,"",le)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;a.location.assign(le)}o&&h&&h({action:d,location:D.location,delta:1})}function T(P,Z){d="REPLACE";let X=Ay(D.location,P,Z);n&&n(X,P),g=v();let Q=kw(X,g),le=D.createHref(X);c.replaceState(Q,"",le),o&&h&&h({action:d,location:D.location,delta:0})}function j(P){return kC(P)}let D={get action(){return d},get location(){return t(a,c)},listen(P){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Dw,x),h=P,()=>{a.removeEventListener(Dw,x),h=null}},createHref(P){return e(a,P)},createURL:j,encodeLocation(P){let Z=j(P);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:E,replace:T,go(P){return c.go(P)}};return D}function kC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Bu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function RT(t,e,n="/"){return OC(t,e,n,!1)}function OC(t,e,n,r){let a=typeof e=="string"?Eo(e):e,o=Gs(a.pathname||"/",n);if(o==null)return null;let c=CT(t);PC(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let g=GC(o);d=qC(c[h],g,r)}return d}function CT(t,e=[],n=[],r="",a=!1){let o=(c,d,h=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&h)return;Tt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let x=Hs([r,v.relativePath]),E=n.concat(v);c.children&&c.children.length>0&&(Tt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),CT(c.children,e,E,x,h)),!(c.path==null&&!c.index)&&e.push({path:x,score:BC(x,c.index),routesMeta:E})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let h of jT(c.path))o(c,d,!0,h)}),e}function jT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=jT(r.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function PC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$C(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var MC=/^:[\w-]+$/,VC=3,zC=2,LC=1,UC=10,FC=-2,Ow=t=>t==="*";function BC(t,e){let n=t.split("/"),r=n.length;return n.some(Ow)&&(r+=FC),e&&(r+=zC),n.filter(a=>!Ow(a)).reduce((a,o)=>a+(MC.test(o)?VC:o===""?LC:UC),r)}function $C(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function qC(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],g=d===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",x=Uf({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},v),E=h.route;if(!x&&g&&n&&!r[r.length-1].route.index&&(x=Uf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!x)return null;Object.assign(a,x.params),c.push({params:a,pathname:Hs([o,x.pathname]),pathnameBase:YC(Hs([o,x.pathnameBase])),route:E}),x.pathnameBase!=="/"&&(o=Hs([o,x.pathnameBase]))}return c}function Uf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HC(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:x},E)=>{if(v==="*"){let j=d[E]||"";c=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const T=d[E];return x&&!T?g[v]=void 0:g[v]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:t}}function HC(t,e=!1,n=!0){xr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function GC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var DT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KC=t=>DT.test(t);function QC(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Eo(t):t,o;if(n)if(KC(n))o=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),xr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?o=Pw(n.substring(1),"/"):o=Pw(n,e)}else o=e;return{pathname:o,search:XC(r),hash:JC(a)}}function Pw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function iy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kT(t){let e=ZC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function OT(t,e,n,r=!1){let a;typeof t=="string"?a=Eo(t):(a={...t},Tt(!a.pathname||!a.pathname.includes("?"),iy("?","pathname","search",a)),Tt(!a.pathname||!a.pathname.includes("#"),iy("#","pathname","hash",a)),Tt(!a.search||!a.search.includes("#"),iy("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=n;else{let x=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),x-=1;a.pathname=E.join("/")}d=x>=0?e[x]:"/"}let h=QC(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(g||v)&&(h.pathname+="/"),h}var Hs=t=>t.join("/").replace(/\/\/+/g,"/"),YC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,WC=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ej(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function tj(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var PT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function MT(t,e){let n=t;if(typeof n!="string"||!DT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(PT)try{let o=new URL(window.location.href),c=n.startsWith("//")?new URL(o.protocol+n):new URL(n),d=Gs(c.pathname,e);c.origin===o.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{xr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VT=["POST","PUT","PATCH","DELETE"];new Set(VT);var nj=["GET",...VT];new Set(nj);var Wl=M.createContext(null);Wl.displayName="DataRouter";var Em=M.createContext(null);Em.displayName="DataRouterState";var rj=M.createContext(!1),zT=M.createContext({isTransitioning:!1});zT.displayName="ViewTransition";var sj=M.createContext(new Map);sj.displayName="Fetchers";var ij=M.createContext(null);ij.displayName="Await";var br=M.createContext(null);br.displayName="Navigation";var ld=M.createContext(null);ld.displayName="Location";var vs=M.createContext({outlet:null,matches:[],isDataRoute:!1});vs.displayName="Route";var _v=M.createContext(null);_v.displayName="RouteError";var LT="REACT_ROUTER_ERROR",aj="REDIRECT",oj="ROUTE_ERROR_RESPONSE";function lj(t){if(t.startsWith(`${LT}:${aj}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function cj(t){if(t.startsWith(`${LT}:${oj}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new WC(e.status,e.statusText,e.data)}catch{}}function uj(t,{relative:e}={}){Tt(cd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(br),{hash:a,pathname:o,search:c}=ud(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:Hs([n,o])),r.createHref({pathname:d,search:c,hash:a})}function cd(){return M.useContext(ld)!=null}function Js(){return Tt(cd(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(ld).location}var UT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FT(t){M.useContext(br).static||M.useLayoutEffect(t)}function BT(){let{isDataRoute:t}=M.useContext(vs);return t?Ej():dj()}function dj(){Tt(cd(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(Wl),{basename:e,navigator:n}=M.useContext(br),{matches:r}=M.useContext(vs),{pathname:a}=Js(),o=JSON.stringify(kT(r)),c=M.useRef(!1);return FT(()=>{c.current=!0}),M.useCallback((h,g={})=>{if(xr(c.current,UT),!c.current)return;if(typeof h=="number"){n.go(h);return}let v=OT(h,JSON.parse(o),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Hs([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,o,a,t])}M.createContext(null);function $T(){let{matches:t}=M.useContext(vs),e=t[t.length-1];return e?e.params:{}}function ud(t,{relative:e}={}){let{matches:n}=M.useContext(vs),{pathname:r}=Js(),a=JSON.stringify(kT(n));return M.useMemo(()=>OT(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function hj(t,e){return qT(t,e)}function qT(t,e,n,r,a){Tt(cd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=M.useContext(br),{matches:c}=M.useContext(vs),d=c[c.length-1],h=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",x=d&&d.route;{let X=x&&x.path||"";GT(g,!x||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let E=Js(),T;if(e){let X=typeof e=="string"?Eo(e):e;Tt(v==="/"||X.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${X.pathname}" was given in the \`location\` prop.`),T=X}else T=E;let j=T.pathname||"/",D=j;if(v!=="/"){let X=v.replace(/^\//,"").split("/");D="/"+j.replace(/^\//,"").split("/").slice(X.length).join("/")}let P=RT(t,{pathname:D});xr(x||P!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),xr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=yj(P&&P.map(X=>Object.assign({},X,{params:Object.assign({},h,X.params),pathname:Hs([v,o.encodeLocation?o.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?v:Hs([v,o.encodeLocation?o.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),c,n,r,a);return e&&Z?M.createElement(ld.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},Z):Z}function fj(){let t=wj(),e=ej(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:a},n):null,c)}var mj=M.createElement(fj,null),HT=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=cj(t.digest);n&&(t=n)}let e=t!==void 0?M.createElement(vs.Provider,{value:this.props.routeContext},M.createElement(_v.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement(pj,{error:t},e):e}};HT.contextType=rj;var ay=new WeakMap;function pj({children:t,error:e}){let{basename:n}=M.useContext(br);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=lj(e.digest);if(r){let a=ay.get(e);if(a)throw a;let o=MT(r.location,n);if(PT&&!ay.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw ay.set(e,c),c}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function gj({routeContext:t,match:e,children:n}){let r=M.useContext(Wl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(vs.Provider,{value:t},n)}function yj(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let v=o.findIndex(x=>x.route.id&&c?.[x.route.id]!==void 0);Tt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let d=!1,h=-1;if(n)for(let v=0;v<o.length;v++){let x=o[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(h=v),x.route.id){let{loaderData:E,errors:T}=n,j=x.route.loader&&!E.hasOwnProperty(x.route.id)&&(!T||T[x.route.id]===void 0);if(x.route.lazy||j){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let g=n&&r?(v,x)=>{r(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:tj(n.matches),errorInfo:x})}:void 0;return o.reduceRight((v,x,E)=>{let T,j=!1,D=null,P=null;n&&(T=c&&x.route.id?c[x.route.id]:void 0,D=x.route.errorElement||mj,d&&(h<0&&E===0?(GT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,P=null):h===E&&(j=!0,P=x.route.hydrateFallbackElement||null)));let Z=e.concat(o.slice(0,E+1)),X=()=>{let Q;return T?Q=D:j?Q=P:x.route.Component?Q=M.createElement(x.route.Component,null):x.route.element?Q=x.route.element:Q=v,M.createElement(gj,{match:x,routeContext:{outlet:v,matches:Z,isDataRoute:n!=null},children:Q})};return n&&(x.route.ErrorBoundary||x.route.errorElement||E===0)?M.createElement(HT,{location:n.location,revalidation:n.revalidation,component:D,error:T,children:X(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:g}):X()},null)}function wv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vj(t){let e=M.useContext(Wl);return Tt(e,wv(t)),e}function xj(t){let e=M.useContext(Em);return Tt(e,wv(t)),e}function bj(t){let e=M.useContext(vs);return Tt(e,wv(t)),e}function Ev(t){let e=bj(t),n=e.matches[e.matches.length-1];return Tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _j(){return Ev("useRouteId")}function wj(){let t=M.useContext(_v),e=xj("useRouteError"),n=Ev("useRouteError");return t!==void 0?t:e.errors?.[n]}function Ej(){let{router:t}=vj("useNavigate"),e=Ev("useNavigate"),n=M.useRef(!1);return FT(()=>{n.current=!0}),M.useCallback(async(a,o={})=>{xr(n.current,UT),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var Mw={};function GT(t,e,n){!e&&!Mw[t]&&(Mw[t]=!0,xr(!1,n))}M.memo(Tj);function Tj({routes:t,future:e,state:n,onError:r}){return qT(t,void 0,n,r,e)}function Ls(t){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Sj({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1,unstable_useTransitions:c}){Tt(!cd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:d,navigator:a,static:o,unstable_useTransitions:c,future:{}}),[d,a,o,c]);typeof n=="string"&&(n=Eo(n));let{pathname:g="/",search:v="",hash:x="",state:E=null,key:T="default"}=n,j=M.useMemo(()=>{let D=Gs(g,d);return D==null?null:{location:{pathname:D,search:v,hash:x,state:E,key:T},navigationType:r}},[d,g,v,x,E,T,r]);return xr(j!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:M.createElement(br.Provider,{value:h},M.createElement(ld.Provider,{children:e,value:j}))}function Aj({children:t,location:e}){return hj(Ny(t),e)}function Ny(t,e=[]){let n=[];return M.Children.forEach(t,(r,a)=>{if(!M.isValidElement(r))return;let o=[...e,a];if(r.type===M.Fragment){n.push.apply(n,Ny(r.props.children,o));return}Tt(r.type===Ls,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Ny(r.props.children,o)),n.push(c)}),n}var vf="get",xf="application/x-www-form-urlencoded";function Tm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Nj(t){return Tm(t)&&t.tagName.toLowerCase()==="button"}function Ij(t){return Tm(t)&&t.tagName.toLowerCase()==="form"}function Rj(t){return Tm(t)&&t.tagName.toLowerCase()==="input"}function Cj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jj(t,e){return t.button===0&&(!e||e==="_self")&&!Cj(t)}var nf=null;function Dj(){if(nf===null)try{new FormData(document.createElement("form"),0),nf=!1}catch{nf=!0}return nf}var kj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function oy(t){return t!=null&&!kj.has(t)?(xr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xf}"`),null):t}function Oj(t,e){let n,r,a,o,c;if(Ij(t)){let d=t.getAttribute("action");r=d?Gs(d,e):null,n=t.getAttribute("method")||vf,a=oy(t.getAttribute("enctype"))||xf,o=new FormData(t)}else if(Nj(t)||Rj(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?Gs(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||vf,a=oy(t.getAttribute("formenctype"))||oy(d.getAttribute("enctype"))||xf,o=new FormData(d,t),!Dj()){let{name:g,type:v,value:x}=t;if(v==="image"){let E=g?`${g}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else g&&o.append(g,x)}}else{if(Tm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vf,r=null,a=xf,c=t}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pj(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Gs(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function Mj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function zj(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await Mj(o,n);return c.links?c.links():[]}return[]}));return Bj(r.flat(1).filter(Vj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Vw(t,e,n,r,a,o){let c=(h,g)=>n[g]?h.route.id!==n[g].route.id:!0,d=(h,g)=>n[g].pathname!==h.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,g)=>c(h,g)||d(h,g)):o==="data"?e.filter((h,g)=>{let v=r.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,g)||d(h,g))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Lj(t,e,{includeHydrateFallback:n}={}){return Uj(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function Uj(t){return[...new Set(t)]}function Fj(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Bj(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(Fj(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function KT(){let t=M.useContext(Wl);return Tv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function $j(){let t=M.useContext(Em);return Tv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Sv=M.createContext(void 0);Sv.displayName="FrameworkContext";function QT(){let t=M.useContext(Sv);return Tv(t,"You must render this element inside a <HydratedRouter> element"),t}function qj(t,e){let n=M.useContext(Sv),[r,a]=M.useState(!1),[o,c]=M.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:g,onMouseLeave:v,onTouchStart:x}=e,E=M.useRef(null);M.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=Z=>{Z.forEach(X=>{c(X.isIntersecting)})},P=new IntersectionObserver(D,{threshold:.5});return E.current&&P.observe(E.current),()=>{P.disconnect()}}},[t]),M.useEffect(()=>{if(r){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[r]);let T=()=>{a(!0)},j=()=>{a(!1),c(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:xu(d,T),onBlur:xu(h,j),onMouseEnter:xu(g,T),onMouseLeave:xu(v,j),onTouchStart:xu(x,T)}]:[!1,E,{}]}function xu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Hj({page:t,...e}){let{router:n}=KT(),r=M.useMemo(()=>RT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?M.createElement(Kj,{page:t,matches:r,...e}):null}function Gj(t){let{manifest:e,routeModules:n}=QT(),[r,a]=M.useState([]);return M.useEffect(()=>{let o=!1;return zj(t,e,n).then(c=>{o||a(c)}),()=>{o=!0}},[t,e,n]),r}function Kj({page:t,matches:e,...n}){let r=Js(),{future:a,manifest:o,routeModules:c}=QT(),{basename:d}=KT(),{loaderData:h,matches:g}=$j(),v=M.useMemo(()=>Vw(t,e,g,o,r,"data"),[t,e,g,o,r]),x=M.useMemo(()=>Vw(t,e,g,o,r,"assets"),[t,e,g,o,r]),E=M.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let D=new Set,P=!1;if(e.forEach(X=>{let Q=o.routes[X.route.id];!Q||!Q.hasLoader||(!v.some(le=>le.route.id===X.route.id)&&X.route.id in h&&c[X.route.id]?.shouldRevalidate||Q.hasClientLoader?P=!0:D.add(X.route.id))}),D.size===0)return[];let Z=Pj(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return P&&D.size>0&&Z.searchParams.set("_routes",e.filter(X=>D.has(X.route.id)).map(X=>X.route.id).join(",")),[Z.pathname+Z.search]},[d,a.unstable_trailingSlashAwareDataRequests,h,r,o,v,e,t,c]),T=M.useMemo(()=>Lj(x,o),[x,o]),j=Gj(x);return M.createElement(M.Fragment,null,E.map(D=>M.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),T.map(D=>M.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),j.map(({key:D,link:P})=>M.createElement("link",{key:D,nonce:n.nonce,...P})))}function Qj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Zj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zj&&(window.__reactRouterVersion="7.12.0")}catch{}function Yj({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=M.useRef();a.current==null&&(a.current=CC({window:r,v5Compat:!0}));let o=a.current,[c,d]=M.useState({action:o.action,location:o.location}),h=M.useCallback(g=>{n===!1?d(g):M.startTransition(()=>d(g))},[n]);return M.useLayoutEffect(()=>o.listen(h),[o,h]),M.createElement(Sj,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:n})}var ZT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:d,target:h,to:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:E,...T},j){let{basename:D,unstable_useTransitions:P}=M.useContext(br),Z=typeof g=="string"&&ZT.test(g),X=MT(g,D);g=X.to;let Q=uj(g,{relative:a}),[le,G,ae]=qj(r,T),I=eD(g,{replace:c,state:d,target:h,preventScrollReset:v,relative:a,viewTransition:x,unstable_defaultShouldRevalidate:E,unstable_useTransitions:P});function A(z){e&&e(z),z.defaultPrevented||I(z)}let C=M.createElement("a",{...T,...ae,href:X.absoluteURL||Q,onClick:X.isExternal||o?e:A,ref:Qj(j,G),target:h,"data-discover":!Z&&n==="render"?"true":void 0});return le&&!Z?M.createElement(M.Fragment,null,C,M.createElement(Hj,{page:Q})):C});bt.displayName="Link";var Xj=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:d,children:h,...g},v){let x=ud(c,{relative:g.relative}),E=Js(),T=M.useContext(Em),{navigator:j,basename:D}=M.useContext(br),P=T!=null&&iD(x)&&d===!0,Z=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,X=E.pathname,Q=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(X=X.toLowerCase(),Q=Q?Q.toLowerCase():null,Z=Z.toLowerCase()),Q&&D&&(Q=Gs(Q,D)||Q);const le=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let G=X===Z||!a&&X.startsWith(Z)&&X.charAt(le)==="/",ae=Q!=null&&(Q===Z||!a&&Q.startsWith(Z)&&Q.charAt(Z.length)==="/"),I={isActive:G,isPending:ae,isTransitioning:P},A=G?e:void 0,C;typeof r=="function"?C=r(I):C=[r,G?"active":null,ae?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(I):o;return M.createElement(bt,{...g,"aria-current":A,className:C,ref:v,style:z,to:c,viewTransition:d},typeof h=="function"?h(I):h)});Xj.displayName="NavLink";var Jj=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:c=vf,action:d,onSubmit:h,relative:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:E,...T},j)=>{let{unstable_useTransitions:D}=M.useContext(br),P=rD(),Z=sD(d,{relative:g}),X=c.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&ZT.test(d),le=G=>{if(h&&h(G),G.defaultPrevented)return;G.preventDefault();let ae=G.nativeEvent.submitter,I=ae?.getAttribute("formmethod")||c,A=()=>P(ae||G.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:a,state:o,relative:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:E});D&&n!==!1?M.startTransition(()=>A()):A()};return M.createElement("form",{ref:j,method:X,action:Z,onSubmit:r?h:le,...T,"data-discover":!Q&&t==="render"?"true":void 0})});Jj.displayName="Form";function Wj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YT(t){let e=M.useContext(Wl);return Tt(e,Wj(t)),e}function eD(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h}={}){let g=BT(),v=Js(),x=ud(t,{relative:o});return M.useCallback(E=>{if(jj(E,e)){E.preventDefault();let T=n!==void 0?n:Bu(v)===Bu(x),j=()=>g(t,{replace:T,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d});h?M.startTransition(()=>j()):j()}},[v,g,x,n,r,e,t,a,o,c,d,h])}var tD=0,nD=()=>`__${String(++tD)}__`;function rD(){let{router:t}=YT("useSubmit"),{basename:e}=M.useContext(br),n=_j(),r=t.fetch,a=t.navigate;return M.useCallback(async(o,c={})=>{let{action:d,method:h,encType:g,formData:v,body:x}=Oj(o,e);if(c.navigate===!1){let E=c.fetcherKey||nD();await r(E,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:x,formMethod:c.method||h,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:x,formMethod:c.method||h,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,n])}function sD(t,{relative:e}={}){let{basename:n}=M.useContext(br),r=M.useContext(vs);Tt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...ud(t||".",{relative:e})},c=Js();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(v=>v==="")){d.delete("index"),h.filter(x=>x).forEach(x=>d.append("index",x));let v=d.toString();o.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Hs([n,o.pathname])),Bu(o)}function iD(t,{relative:e}={}){let n=M.useContext(zT);Tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=YT("useViewTransitionState"),a=ud(t,{relative:e});if(!n.isTransitioning)return!1;let o=Gs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Gs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Uf(a.pathname,c)!=null||Uf(a.pathname,o)!=null}var ec=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},aD={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},oD=class{#e=aD;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Ya=new oD;function lD(t){setTimeout(t,0)}var io=typeof window>"u"||"Deno"in globalThis;function An(){}function cD(t,e){return typeof t=="function"?t(e):t}function Iy(t){return typeof t=="number"&&t>=0&&t!==1/0}function XT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Qi(t,e){return typeof t=="function"?t(e):t}function mr(t,e){return typeof t=="function"?t(e):t}function zw(t,e){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:c,stale:d}=t;if(c){if(r){if(e.queryHash!==Av(c,e.options))return!1}else if(!$u(e.queryKey,c))return!1}if(n!=="all"){const h=e.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||a&&a!==e.state.fetchStatus||o&&!o(e))}function Lw(t,e){const{exact:n,status:r,predicate:a,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(ao(e.options.mutationKey)!==ao(o))return!1}else if(!$u(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function Av(t,e){return(e?.queryKeyHashFn||ao)(t)}function ao(t){return JSON.stringify(t,(e,n)=>Ry(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function $u(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>$u(t[n],e[n])):!1}var uD=Object.prototype.hasOwnProperty;function JT(t,e){if(t===e)return t;const n=Uw(t)&&Uw(e);if(!n&&!(Ry(t)&&Ry(e)))return e;const a=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),c=o.length,d=n?new Array(c):{};let h=0;for(let g=0;g<c;g++){const v=n?g:o[g],x=t[v],E=e[v];if(x===E){d[v]=x,(n?g<a:uD.call(t,v))&&h++;continue}if(x===null||E===null||typeof x!="object"||typeof E!="object"){d[v]=E;continue}const T=JT(x,E);d[v]=T,T===x&&h++}return a===c&&h===a?t:d}function Ff(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Uw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ry(t){if(!Fw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Fw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Fw(t){return Object.prototype.toString.call(t)==="[object Object]"}function dD(t){return new Promise(e=>{Ya.setTimeout(e,t)})}function Cy(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?JT(t,e):e}function hD(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function fD(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Nv=Symbol();function WT(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Nv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Iv(t,e){return typeof t=="function"?t(...e):!!t}function mD(t,e,n){let r=!1,a;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(a??=e(),r||(r=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),t}var pD=class extends ec{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!io&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Rv=new pD;function jy(){let t,e;const n=new Promise((a,o)=>{t=a,e=o});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),e(a)},n}var gD=lD;function yD(){let t=[],e=0,n=d=>{d()},r=d=>{d()},a=gD;const o=d=>{e?t.push(d):a(()=>{n(d)})},c=()=>{const d=t;t=[],d.length&&a(()=>{r(()=>{d.forEach(h=>{n(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},batchCalls:d=>(...h)=>{o(()=>{d(...h)})},schedule:o,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{a=d}}}var Wt=yD(),vD=class extends ec{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!io&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Bf=new vD;function xD(t){return Math.min(1e3*2**t,3e4)}function eS(t){return(t??"online")==="online"?Bf.isOnline():!0}var Dy=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function tS(t){let e=!1,n=0,r;const a=jy(),o=()=>a.status!=="pending",c=D=>{if(!o()){const P=new Dy(D);E(P),t.onCancel?.(P)}},d=()=>{e=!0},h=()=>{e=!1},g=()=>Rv.isFocused()&&(t.networkMode==="always"||Bf.isOnline())&&t.canRun(),v=()=>eS(t.networkMode)&&t.canRun(),x=D=>{o()||(r?.(),a.resolve(D))},E=D=>{o()||(r?.(),a.reject(D))},T=()=>new Promise(D=>{r=P=>{(o()||g())&&D(P)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),j=()=>{if(o())return;let D;const P=n===0?t.initialPromise:void 0;try{D=P??t.fn()}catch(Z){D=Promise.reject(Z)}Promise.resolve(D).then(x).catch(Z=>{if(o())return;const X=t.retry??(io?0:3),Q=t.retryDelay??xD,le=typeof Q=="function"?Q(n,Z):Q,G=X===!0||typeof X=="number"&&n<X||typeof X=="function"&&X(n,Z);if(e||!G){E(Z);return}n++,t.onFail?.(n,Z),dD(le).then(()=>g()?void 0:T()).then(()=>{e?E(Z):j()})})};return{promise:a,status:()=>a.status,cancel:c,continue:()=>(r?.(),a),cancelRetry:d,continueRetry:h,canStart:v,start:()=>(v()?j():T().then(j),a)}}var nS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Iy(this.gcTime)&&(this.#e=Ya.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(io?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ya.clearTimeout(this.#e),this.#e=void 0)}},bD=class extends nS{#e;#t;#n;#s;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=$w(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=$w(this.options);n.data!==void 0&&(this.setState(Bw(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=Cy(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(An).catch(An):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>mr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Nv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Qi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!XT(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},o=()=>{const h=WT(this.options,n),v=(()=>{const x={client:this.#s,queryKey:this.queryKey,meta:this.meta};return a(x),x})();return this.#o=!1,this.options.persister?this.options.persister(h,v,this):h(v)},d=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return a(h),h})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#i({type:"fetch",meta:d.fetchOptions?.meta}),this.#r=tS({initialPromise:n?.initialPromise,fn:d.fetchFn,onCancel:h=>{h instanceof Dy&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(h,g)=>{this.#i({type:"failed",failureCount:h,error:g})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const h=await this.#r.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Dy){if(h.silent)return this.#r.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#i({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...rS(r.data,this.options),fetchMeta:e.meta??null};case"success":const a={...r,...Bw(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Wt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function rS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Bw(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function $w(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var _D=class extends ec{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#o=jy(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#p;#h;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),qw(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ky(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ky(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#_(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!Ff(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Hw(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||mr(this.options.enabled,this.#t)!==mr(e.enabled,this.#t)||Qi(this.options.staleTime,this.#t)!==Qi(e.staleTime,this.#t))&&this.#g();const a=this.#y();r&&(this.#t!==n||mr(this.options.enabled,this.#t)!==mr(e.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return ED(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(An)),e}#g(){this.#b();const t=Qi(this.options.staleTime,this.#t);if(io||this.#s.isStale||!Iy(t))return;const n=XT(this.#s.dataUpdatedAt,t)+1;this.#c=Ya.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#_(),this.#l=t,!(io||mr(this.options.enabled,this.#t)===!1||!Iy(this.#l)||this.#l===0)&&(this.#u=Ya.setInterval(()=>{(this.options.refetchIntervalInBackground||Rv.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#b(){this.#c&&(Ya.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#u&&(Ya.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,a=this.#s,o=this.#r,c=this.#a,h=t!==n?t.state:this.#n,{state:g}=t;let v={...g},x=!1,E;if(e._optimisticResults){const A=this.hasListeners(),C=!A&&qw(t,e),z=A&&Hw(t,n,e,r);(C||z)&&(v={...v,...rS(g.data,t.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:T,errorUpdatedAt:j,status:D}=v;E=v.data;let P=!1;if(e.placeholderData!==void 0&&E===void 0&&D==="pending"){let A;a?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(A=a.data,P=!0):A=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,A!==void 0&&(D="success",E=Cy(a?.data,A,e),x=!0)}if(e.select&&E!==void 0&&!P)if(a&&E===o?.data&&e.select===this.#p)E=this.#h;else try{this.#p=e.select,E=e.select(E),E=Cy(a?.data,E,e),this.#h=E,this.#i=null}catch(A){this.#i=A}this.#i&&(T=this.#i,E=this.#h,j=Date.now(),D="error");const Z=v.fetchStatus==="fetching",X=D==="pending",Q=D==="error",le=X&&Z,G=E!==void 0,I={status:D,fetchStatus:v.fetchStatus,isPending:X,isSuccess:D==="success",isError:Q,isInitialLoading:le,isLoading:le,data:E,dataUpdatedAt:v.dataUpdatedAt,error:T,errorUpdatedAt:j,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>h.dataUpdateCount||v.errorUpdateCount>h.errorUpdateCount,isFetching:Z,isRefetching:Z&&!X,isLoadingError:Q&&!G,isPaused:v.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:Q&&G,isStale:Cv(t,e),refetch:this.refetch,promise:this.#o,isEnabled:mr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=V=>{I.status==="error"?V.reject(I.error):I.data!==void 0&&V.resolve(I.data)},C=()=>{const V=this.#o=I.promise=jy();A(V)},z=this.#o;switch(z.status){case"pending":t.queryHash===n.queryHash&&A(z);break;case"fulfilled":(I.status==="error"||I.data!==z.value)&&C();break;case"rejected":(I.status!=="error"||I.error!==z.reason)&&C();break}}return I}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),Ff(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#m.size)return!0;const o=new Set(a??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(c=>{const d=c;return this.#s[d]!==t[d]&&o.has(d)})};this.#E({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#E(t){Wt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function wD(t,e){return mr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function qw(t,e){return wD(t,e)||t.state.data!==void 0&&ky(t,e,e.refetchOnMount)}function ky(t,e,n){if(mr(e.enabled,t)!==!1&&Qi(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Cv(t,e)}return!1}function Hw(t,e,n,r){return(t!==e||mr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Cv(t,n)}function Cv(t,e){return mr(e.enabled,t)!==!1&&t.isStaleByTime(Qi(e.staleTime,t))}function ED(t,e){return!Ff(t.getCurrentResult(),e)}function Gw(t){return{onFetch:(e,n)=>{const r=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const g=async()=>{let v=!1;const x=j=>{mD(j,()=>e.signal,()=>v=!0)},E=WT(e.options,e.fetchOptions),T=async(j,D,P)=>{if(v)return Promise.reject();if(D==null&&j.pages.length)return Promise.resolve(j);const X=(()=>{const ae={client:e.client,queryKey:e.queryKey,pageParam:D,direction:P?"backward":"forward",meta:e.options.meta};return x(ae),ae})(),Q=await E(X),{maxPages:le}=e.options,G=P?fD:hD;return{pages:G(j.pages,Q,le),pageParams:G(j.pageParams,D,le)}};if(a&&o.length){const j=a==="backward",D=j?TD:Kw,P={pages:o,pageParams:c},Z=D(r,P);d=await T(P,Z,j)}else{const j=t??o.length;do{const D=h===0?c[0]??r.initialPageParam:Kw(r,d);if(h>0&&D==null)break;d=await T(d,D),h++}while(h<j)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=g}}}function Kw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function TD(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var SD=class extends nS{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||sS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=tS({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(c,d)=>{this.#r({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",o=!this.#s.canStart();try{if(a)n();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,r);const d=await this.options.onMutate?.(e,r);d!==this.state.context&&this.#r({type:"pending",context:d,variables:e,isPaused:o})}const c=await this.#s.start();return await this.#n.config.onSuccess?.(c,e,this.state.context,this,r),await this.options.onSuccess?.(c,e,this.state.context,r),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(c,null,e,this.state.context,r),this.#r({type:"success",data:c}),c}catch(c){try{await this.#n.config.onError?.(c,e,this.state.context,this,r)}catch(d){Promise.reject(d)}try{await this.options.onError?.(c,e,this.state.context,r)}catch(d){Promise.reject(d)}try{await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,r)}catch(d){Promise.reject(d)}try{await this.options.onSettled?.(void 0,c,e,this.state.context,r)}catch(d){Promise.reject(d)}throw this.#r({type:"error",error:c}),c}finally{this.#n.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Wt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function sS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var AD=class extends ec{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new SD({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=rf(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=rf(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=rf(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(a=>a.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=rf(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Wt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Lw(e,n))}findAll(t={}){return this.getAll().filter(e=>Lw(t,e))}notify(t){Wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Wt.batch(()=>Promise.all(t.map(e=>e.continue().catch(An))))}};function rf(t){return t.options.scope?.id}var ND=class extends ec{#e;#t=void 0;#n;#s;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Ff(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&ao(n.mutationKey)!==ao(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??sS();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Wt.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(e.data,null,n,r,a)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(void 0,e.error,n,r,a)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},ID=class extends ec{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,a=e.queryHash??Av(r,e);let o=this.get(a);return o||(o=new bD({client:t,queryKey:r,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>zw(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>zw(t,n)):e}notify(t){Wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},RD=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new ID,this.#t=t.mutationCache||new AD,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Rv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Bf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Qi(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,c=cD(e,o);if(c!==void 0)return this.#e.build(this,r).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return Wt.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Wt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Wt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Wt.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(An).catch(An)}invalidateQueries(t,e={}){return Wt.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Wt.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(An)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(An)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Qi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(An).catch(An)}fetchInfiniteQuery(t){return t.behavior=Gw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(An).catch(An)}ensureInfiniteQueryData(t){return t.behavior=Gw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Bf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(ao(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{$u(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(ao(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{$u(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Av(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Nv&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},iS=M.createContext(void 0),tc=t=>{const e=M.useContext(iS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},CD=({client:t,children:e})=>(M.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(iS.Provider,{value:t,children:e})),aS=M.createContext(!1),jD=()=>M.useContext(aS);aS.Provider;function DD(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var kD=M.createContext(DD()),OD=()=>M.useContext(kD),PD=(t,e,n)=>{const r=n?.state.error&&typeof t.throwOnError=="function"?Iv(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},MD=t=>{M.useEffect(()=>{t.clearReset()},[t])},VD=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||Iv(n,[t.error,r])),zD=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},LD=(t,e)=>t.isLoading&&t.isFetching&&!e,UD=(t,e)=>t?.suspense&&e.isPending,Qw=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function FD(t,e,n){const r=jD(),a=OD(),o=tc(),c=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(c);const d=o.getQueryCache().get(c.queryHash);c._optimisticResults=r?"isRestoring":"optimistic",zD(c),PD(c,a,d),MD(a);const h=!o.getQueryCache().get(c.queryHash),[g]=M.useState(()=>new e(o,c)),v=g.getOptimisticResult(c),x=!r&&t.subscribed!==!1;if(M.useSyncExternalStore(M.useCallback(E=>{const T=x?g.subscribe(Wt.batchCalls(E)):An;return g.updateResult(),T},[g,x]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),M.useEffect(()=>{g.setOptions(c)},[c,g]),UD(c,v))throw Qw(c,g,a);if(VD({result:v,errorResetBoundary:a,throwOnError:c.throwOnError,query:d,suspense:c.suspense}))throw v.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(c,v),c.experimental_prefetchInRender&&!io&&LD(v,r)&&(h?Qw(c,g,a):d?.promise)?.catch(An).finally(()=>{g.updateResult()}),c.notifyOnChangeProps?v:g.trackResult(v)}function oS(t,e){return FD(t,_D)}function Sm(t,e){const n=tc(),[r]=M.useState(()=>new ND(n,t));M.useEffect(()=>{r.setOptions(t)},[r,t]);const a=M.useSyncExternalStore(M.useCallback(c=>r.subscribe(Wt.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=M.useCallback((c,d)=>{r.mutate(c,d).catch(An)},[r]);if(a.error&&Iv(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}const BD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$D=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Zw=t=>{const e=$D(t);return e.charAt(0).toUpperCase()+e.slice(1)},lS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),qD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var HD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GD=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...d},h)=>M.createElement("svg",{ref:h,...HD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lS("lucide",a),...!o&&!qD(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>M.createElement(g,v)),...Array.isArray(o)?o:[o]]));const We=(t,e)=>{const n=M.forwardRef(({className:r,...a},o)=>M.createElement(GD,{ref:o,iconNode:e,className:lS(`lucide-${BD(Zw(t))}`,`lucide-${t}`,r),...a}));return n.displayName=Zw(t),n};const KD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Yw=We("activity",KD);const QD=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],ZD=We("arrow-down",QD);const YD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],XD=We("arrow-left",YD);const JD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bf=We("arrow-right",JD);const WD=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ek=We("arrow-up",WD);const tk=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],nk=We("calculator",tk);const rk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],oo=We("calendar",rk);const sk=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ik=We("chart-column",sk);const ak=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cS=We("chevron-down",ak);const ok=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Xw=We("chevron-left",ok);const lk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],uS=We("chevron-up",lk);const ck=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uk=We("circle-check-big",ck);const dk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$f=We("clock",dk);const hk=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],dS=We("crown",hk);const fk=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Du=We("external-link",fk);const mk=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],pk=We("house",mk);const gk=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],hS=We("map-pin",gk);const yk=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],vk=We("menu",yk);const xk=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],bk=We("pen-line",xk);const _k=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],wk=We("play",_k);const Ek=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Tk=We("plus",Ek);const Sk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ak=We("rotate-ccw",Sk);const Nk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],fS=We("search",Nk);const Ik=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Jw=We("star",Ik);const Rk=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],Ck=We("swords",Rk);const jk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Pl=We("target",jk);const Dk=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Oy=We("trending-up",Dk);const kk=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ln=We("trophy",kk);const Ok=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Pk=We("user-plus",Ok);const Mk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],mS=We("user",Mk);const Vk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ml=We("users",Vk);const zk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pS=We("x",zk);function gS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=gS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Lk(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=gS(t))&&(r&&(r+=" "),r+=e);return r}const Uk=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},Fk=(t,e)=>({classGroupId:t,validator:e}),yS=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),qf="-",Ww=[],Bk="arbitrary..",$k=t=>{const e=Hk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return qk(c);const d=c.split(qf),h=d[0]===""&&d.length>1?1:0;return vS(d,h,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const h=r[c],g=n[c];return h?g?Uk(g,h):h:g||Ww}return n[c]||Ww}}},vS=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],o=n.nextPart.get(a);if(o){const g=vS(t,e+1,o);if(g)return g}const c=n.validators;if(c===null)return;const d=e===0?t.join(qf):t.slice(e).join(qf),h=c.length;for(let g=0;g<h;g++){const v=c[g];if(v.validator(d))return v.classGroupId}},qk=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?Bk+r:void 0})(),Hk=t=>{const{theme:e,classGroups:n}=t;return Gk(n,e)},Gk=(t,e)=>{const n=yS();for(const r in t){const a=t[r];jv(a,n,r,e)}return n},jv=(t,e,n,r)=>{const a=t.length;for(let o=0;o<a;o++){const c=t[o];Kk(c,e,n,r)}},Kk=(t,e,n,r)=>{if(typeof t=="string"){Qk(t,e,n);return}if(typeof t=="function"){Zk(t,e,n,r);return}Yk(t,e,n,r)},Qk=(t,e,n)=>{const r=t===""?e:xS(e,t);r.classGroupId=n},Zk=(t,e,n,r)=>{if(Xk(t)){jv(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Fk(n,t))},Yk=(t,e,n,r)=>{const a=Object.entries(t),o=a.length;for(let c=0;c<o;c++){const[d,h]=a[c];jv(h,xS(e,d),n,r)}},xS=(t,e)=>{let n=t;const r=e.split(qf),a=r.length;for(let o=0;o<a;o++){const c=r[o];let d=n.nextPart.get(c);d||(d=yS(),n.nextPart.set(c,d)),n=d}return n},Xk=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Jk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const a=(o,c)=>{n[o]=c,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let c=n[o];if(c!==void 0)return c;if((c=r[o])!==void 0)return a(o,c),c},set(o,c){o in n?n[o]=c:a(o,c)}}},Py="!",eE=":",Wk=[],tE=(t,e,n,r,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),eO=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const o=[];let c=0,d=0,h=0,g;const v=a.length;for(let D=0;D<v;D++){const P=a[D];if(c===0&&d===0){if(P===eE){o.push(a.slice(h,D)),h=D+1;continue}if(P==="/"){g=D;continue}}P==="["?c++:P==="]"?c--:P==="("?d++:P===")"&&d--}const x=o.length===0?a:a.slice(h);let E=x,T=!1;x.endsWith(Py)?(E=x.slice(0,-1),T=!0):x.startsWith(Py)&&(E=x.slice(1),T=!0);const j=g&&g>h?g-h:void 0;return tE(o,T,E,j)};if(e){const a=e+eE,o=r;r=c=>c.startsWith(a)?o(c.slice(a.length)):tE(Wk,!1,c,void 0,!0)}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},tO=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let o=0;o<n.length;o++){const c=n[o],d=c[0]==="[",h=e.has(c);d||h?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(c)):a.push(c)}return a.length>0&&(a.sort(),r.push(...a)),r}},nO=t=>({cache:Jk(t.cacheSize),parseClassName:eO(t),sortModifiers:tO(t),...$k(t)}),rO=/\s+/,sO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=e,c=[],d=t.trim().split(rO);let h="";for(let g=d.length-1;g>=0;g-=1){const v=d[g],{isExternal:x,modifiers:E,hasImportantModifier:T,baseClassName:j,maybePostfixModifierPosition:D}=n(v);if(x){h=v+(h.length>0?" "+h:h);continue}let P=!!D,Z=r(P?j.substring(0,D):j);if(!Z){if(!P){h=v+(h.length>0?" "+h:h);continue}if(Z=r(j),!Z){h=v+(h.length>0?" "+h:h);continue}P=!1}const X=E.length===0?"":E.length===1?E[0]:o(E).join(":"),Q=T?X+Py:X,le=Q+Z;if(c.indexOf(le)>-1)continue;c.push(le);const G=a(Z,P);for(let ae=0;ae<G.length;++ae){const I=G[ae];c.push(Q+I)}h=v+(h.length>0?" "+h:h)}return h},iO=(...t)=>{let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=bS(n))&&(a&&(a+=" "),a+=r);return a},bS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=bS(t[r]))&&(n&&(n+=" "),n+=e);return n},aO=(t,...e)=>{let n,r,a,o;const c=h=>{const g=e.reduce((v,x)=>x(v),t());return n=nO(g),r=n.cache.get,a=n.cache.set,o=d,d(h)},d=h=>{const g=r(h);if(g)return g;const v=sO(h,n);return a(h,v),v};return o=c,(...h)=>o(iO(...h))},oO=[],Jt=t=>{const e=n=>n[t]||oO;return e.isThemeGetter=!0,e},_S=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,wS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lO=/^\d+\/\d+$/,cO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,hO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gl=t=>lO.test(t),Ve=t=>!!t&&!Number.isNaN(Number(t)),Mi=t=>!!t&&Number.isInteger(Number(t)),ly=t=>t.endsWith("%")&&Ve(t.slice(0,-1)),zs=t=>cO.test(t),mO=()=>!0,pO=t=>uO.test(t)&&!dO.test(t),ES=()=>!1,gO=t=>hO.test(t),yO=t=>fO.test(t),vO=t=>!ye(t)&&!ve(t),xO=t=>nc(t,AS,ES),ye=t=>_S.test(t),Fa=t=>nc(t,NS,pO),cy=t=>nc(t,TO,Ve),nE=t=>nc(t,TS,ES),bO=t=>nc(t,SS,yO),sf=t=>nc(t,IS,gO),ve=t=>wS.test(t),bu=t=>rc(t,NS),_O=t=>rc(t,SO),rE=t=>rc(t,TS),wO=t=>rc(t,AS),EO=t=>rc(t,SS),af=t=>rc(t,IS,!0),nc=(t,e,n)=>{const r=_S.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},rc=(t,e,n=!1)=>{const r=wS.exec(t);return r?r[1]?e(r[1]):n:!1},TS=t=>t==="position"||t==="percentage",SS=t=>t==="image"||t==="url",AS=t=>t==="length"||t==="size"||t==="bg-size",NS=t=>t==="length",TO=t=>t==="number",SO=t=>t==="family-name",IS=t=>t==="shadow",AO=()=>{const t=Jt("color"),e=Jt("font"),n=Jt("text"),r=Jt("font-weight"),a=Jt("tracking"),o=Jt("leading"),c=Jt("breakpoint"),d=Jt("container"),h=Jt("spacing"),g=Jt("radius"),v=Jt("shadow"),x=Jt("inset-shadow"),E=Jt("text-shadow"),T=Jt("drop-shadow"),j=Jt("blur"),D=Jt("perspective"),P=Jt("aspect"),Z=Jt("ease"),X=Jt("animate"),Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],G=()=>[...le(),ve,ye],ae=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],A=()=>[ve,ye,h],C=()=>[gl,"full","auto",...A()],z=()=>[Mi,"none","subgrid",ve,ye],V=()=>["auto",{span:["full",Mi,ve,ye]},Mi,ve,ye],U=()=>[Mi,"auto",ve,ye],k=()=>["auto","min","max","fr",ve,ye],Ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ze=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...A()],he=()=>[gl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],ce=()=>[t,ve,ye],Me=()=>[...le(),rE,nE,{position:[ve,ye]}],Fe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",wO,xO,{size:[ve,ye]}],q=()=>[ly,bu,Fa],se=()=>["","none","full",g,ve,ye],ue=()=>["",Ve,bu,Fa],Ee=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_e=()=>[Ve,ly,rE,nE],At=()=>["","none",j,ve,ye],nt=()=>["none",Ve,ve,ye],er=()=>["none",Ve,ve,ye],Lr=()=>[Ve,ve,ye],wr=()=>[gl,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[zs],breakpoint:[zs],color:[mO],container:[zs],"drop-shadow":[zs],ease:["in","out","in-out"],font:[vO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[zs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[zs],shadow:[zs],spacing:["px",Ve],text:[zs],"text-shadow":[zs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",gl,ye,ve,P]}],container:["container"],columns:[{columns:[Ve,ye,ve,d]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:G()}],overflow:[{overflow:ae()}],"overflow-x":[{"overflow-x":ae()}],"overflow-y":[{"overflow-y":ae()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Mi,"auto",ve,ye]}],basis:[{basis:[gl,"full","auto",d,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ve,gl,"auto","initial","none",ye]}],grow:[{grow:["",Ve,ve,ye]}],shrink:[{shrink:["",Ve,ve,ye]}],order:[{order:[Mi,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Ge(),"normal"]}],"justify-items":[{"justify-items":[...Ze(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ze()]}],"align-content":[{content:["normal",...Ge()]}],"align-items":[{items:[...Ze(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ze(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ge()}],"place-items":[{"place-items":[...Ze(),"baseline"]}],"place-self":[{"place-self":["auto",...Ze()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:he()}],w:[{w:[d,"screen",...he()]}],"min-w":[{"min-w":[d,"screen","none",...he()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...he()]}],h:[{h:["screen","lh",...he()]}],"min-h":[{"min-h":["screen","lh","none",...he()]}],"max-h":[{"max-h":["screen","lh",...he()]}],"font-size":[{text:["base",n,bu,Fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ve,cy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ly,ye]}],"font-family":[{font:[_O,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ve,ye]}],"line-clamp":[{"line-clamp":[Ve,"none",ve,cy]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ce()}],"text-color":[{text:ce()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ve,"from-font","auto",ve,Fa]}],"text-decoration-color":[{decoration:ce()}],"underline-offset":[{"underline-offset":[Ve,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Me()}],"bg-repeat":[{bg:Fe()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Mi,ve,ye],radial:["",ve,ye],conic:[Mi,ve,ye]},EO,bO]}],"bg-color":[{bg:ce()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:ce()}],"gradient-via":[{via:ce()}],"gradient-to":[{to:ce()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ee(),"hidden","none"]}],"divide-style":[{divide:[...Ee(),"hidden","none"]}],"border-color":[{border:ce()}],"border-color-x":[{"border-x":ce()}],"border-color-y":[{"border-y":ce()}],"border-color-s":[{"border-s":ce()}],"border-color-e":[{"border-e":ce()}],"border-color-t":[{"border-t":ce()}],"border-color-r":[{"border-r":ce()}],"border-color-b":[{"border-b":ce()}],"border-color-l":[{"border-l":ce()}],"divide-color":[{divide:ce()}],"outline-style":[{outline:[...Ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ve,ve,ye]}],"outline-w":[{outline:["",Ve,bu,Fa]}],"outline-color":[{outline:ce()}],shadow:[{shadow:["","none",v,af,sf]}],"shadow-color":[{shadow:ce()}],"inset-shadow":[{"inset-shadow":["none",x,af,sf]}],"inset-shadow-color":[{"inset-shadow":ce()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ce()}],"ring-offset-w":[{"ring-offset":[Ve,Fa]}],"ring-offset-color":[{"ring-offset":ce()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":ce()}],"text-shadow":[{"text-shadow":["none",E,af,sf]}],"text-shadow-color":[{"text-shadow":ce()}],opacity:[{opacity:[Ve,ve,ye]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":_e()}],"mask-image-linear-to-pos":[{"mask-linear-to":_e()}],"mask-image-linear-from-color":[{"mask-linear-from":ce()}],"mask-image-linear-to-color":[{"mask-linear-to":ce()}],"mask-image-t-from-pos":[{"mask-t-from":_e()}],"mask-image-t-to-pos":[{"mask-t-to":_e()}],"mask-image-t-from-color":[{"mask-t-from":ce()}],"mask-image-t-to-color":[{"mask-t-to":ce()}],"mask-image-r-from-pos":[{"mask-r-from":_e()}],"mask-image-r-to-pos":[{"mask-r-to":_e()}],"mask-image-r-from-color":[{"mask-r-from":ce()}],"mask-image-r-to-color":[{"mask-r-to":ce()}],"mask-image-b-from-pos":[{"mask-b-from":_e()}],"mask-image-b-to-pos":[{"mask-b-to":_e()}],"mask-image-b-from-color":[{"mask-b-from":ce()}],"mask-image-b-to-color":[{"mask-b-to":ce()}],"mask-image-l-from-pos":[{"mask-l-from":_e()}],"mask-image-l-to-pos":[{"mask-l-to":_e()}],"mask-image-l-from-color":[{"mask-l-from":ce()}],"mask-image-l-to-color":[{"mask-l-to":ce()}],"mask-image-x-from-pos":[{"mask-x-from":_e()}],"mask-image-x-to-pos":[{"mask-x-to":_e()}],"mask-image-x-from-color":[{"mask-x-from":ce()}],"mask-image-x-to-color":[{"mask-x-to":ce()}],"mask-image-y-from-pos":[{"mask-y-from":_e()}],"mask-image-y-to-pos":[{"mask-y-to":_e()}],"mask-image-y-from-color":[{"mask-y-from":ce()}],"mask-image-y-to-color":[{"mask-y-to":ce()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":_e()}],"mask-image-radial-to-pos":[{"mask-radial-to":_e()}],"mask-image-radial-from-color":[{"mask-radial-from":ce()}],"mask-image-radial-to-color":[{"mask-radial-to":ce()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":le()}],"mask-image-conic-pos":[{"mask-conic":[Ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":_e()}],"mask-image-conic-to-pos":[{"mask-conic-to":_e()}],"mask-image-conic-from-color":[{"mask-conic-from":ce()}],"mask-image-conic-to-color":[{"mask-conic-to":ce()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Me()}],"mask-repeat":[{mask:Fe()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:At()}],brightness:[{brightness:[Ve,ve,ye]}],contrast:[{contrast:[Ve,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",T,af,sf]}],"drop-shadow-color":[{"drop-shadow":ce()}],grayscale:[{grayscale:["",Ve,ve,ye]}],"hue-rotate":[{"hue-rotate":[Ve,ve,ye]}],invert:[{invert:["",Ve,ve,ye]}],saturate:[{saturate:[Ve,ve,ye]}],sepia:[{sepia:["",Ve,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":At()}],"backdrop-brightness":[{"backdrop-brightness":[Ve,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Ve,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ve,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ve,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",Ve,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Ve,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Ve,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Ve,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ve,"initial",ve,ye]}],ease:[{ease:["linear","initial",Z,ve,ye]}],delay:[{delay:[Ve,ve,ye]}],animate:[{animate:["none",X,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[D,ve,ye]}],"perspective-origin":[{"perspective-origin":G()}],rotate:[{rotate:nt()}],"rotate-x":[{"rotate-x":nt()}],"rotate-y":[{"rotate-y":nt()}],"rotate-z":[{"rotate-z":nt()}],scale:[{scale:er()}],"scale-x":[{"scale-x":er()}],"scale-y":[{"scale-y":er()}],"scale-z":[{"scale-z":er()}],"scale-3d":["scale-3d"],skew:[{skew:Lr()}],"skew-x":[{"skew-x":Lr()}],"skew-y":[{"skew-y":Lr()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:G()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:wr()}],"translate-x":[{"translate-x":wr()}],"translate-y":[{"translate-y":wr()}],"translate-z":[{"translate-z":wr()}],"translate-none":["translate-none"],accent:[{accent:ce()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ce()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...ce()]}],"stroke-w":[{stroke:[Ve,bu,Fa,cy]}],stroke:[{stroke:["none",...ce()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},NO=aO(AO);function on(...t){return NO(Lk(t))}const IO=(t,e)=>{let n=null,r=0,a=0;return t.map(o=>{const c=e(o);return a+=1,(n===null||c!==n)&&(r=a,n=c),{...o,rank:r}})},Fi=qs.forwardRef(({variant:t="primary",size:e="md",icon:n,iconPosition:r="left",loading:a=!1,className:o,children:c,disabled:d,...h},g)=>{const v="inline-flex items-center justify-center font-bold rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background disabled:opacity-50 disabled:cursor-not-allowed",x={primary:"bg-primary text-white hover:bg-primary-hover focus:ring-primary/50 shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 hover:scale-105",secondary:"bg-surface-highlight text-text-main border-2 border-border hover:border-primary/50 hover:bg-surface-alt focus:ring-primary/30 shadow-lg hover:shadow-xl",success:"bg-success text-white hover:bg-success/90 focus:ring-success/50 shadow-lg shadow-success/20 hover:shadow-xl hover:shadow-success/30 hover:scale-105",warning:"bg-warning text-white hover:bg-warning/90 focus:ring-warning/50 shadow-lg shadow-warning/20 hover:shadow-xl hover:shadow-warning/30 hover:scale-105",error:"bg-error text-white hover:bg-error/90 focus:ring-error/50 shadow-lg shadow-error/20 hover:shadow-xl hover:shadow-error/30 hover:scale-105",ghost:"bg-transparent text-text-main hover:bg-surface-highlight border-2 border-transparent hover:border-border focus:ring-primary/30",premium:"bg-gradient-to-r from-primary to-primary-hover text-white hover:from-primary-hover hover:to-primary focus:ring-primary/50 shadow-2xl hover:shadow-3xl transform hover:scale-110"},E={sm:"px-3 py-2 text-sm gap-2 min-h-[2.25rem]",md:"px-4 py-3 text-base gap-2 min-h-[2.75rem]",lg:"px-6 py-4 text-lg gap-3 min-h-[3.25rem]",xl:"px-8 py-5 text-xl gap-3 min-h-[3.75rem]"},T={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6",xl:"h-7 w-7"},j=()=>f.jsx("div",{className:on("animate-spin rounded-full border-2 border-current border-t-transparent",T[e])}),D=()=>{if(a)return f.jsx(j,{});if(!n)return null;if(qs.isValidElement(n)){const P=n.props?.className||"";return qs.cloneElement(n,{className:on(T[e],P)})}return n};return f.jsxs("button",{ref:g,className:on(v,x[t]??x.primary,E[e]??E.md,o),disabled:d||a,...h,children:[r==="left"&&D(),a?"Loading...":c,r==="right"&&D()]})});Fi.displayName="Button";const RO=({children:t})=>{const[e,n]=M.useState(!1),r=Js(),a=[{name:"Home",href:"/",icon:pk},{name:"Standings",href:"/standings",icon:Ln},{name:"Schedule",href:"/schedule",icon:oo},{name:"Players",href:"/players",icon:Ml},{name:"Format",href:"/format",icon:Pl},{name:"Admin",href:"/admin",icon:nk}];return f.jsxs("div",{className:"min-h-screen bg-background",children:[f.jsxs("nav",{className:"bg-gradient-to-r from-surface via-surface-alt to-surface text-text-main sticky top-0 z-50 shadow-2xl border-b border-border/50 backdrop-blur-md",children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsx("div",{className:"flex items-center",children:f.jsxs(bt,{to:"/",className:"flex items-center space-x-3 group",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary to-warning rounded-full blur-lg opacity-30 group-hover:opacity-50 transition-opacity duration-300"}),f.jsx("div",{className:"relative w-10 h-10 bg-gradient-to-br from-primary to-warning rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-all duration-300",children:f.jsx(Ln,{className:"h-6 w-6 text-white"})})]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-black text-xl tracking-tight bg-gradient-to-r from-primary to-warning bg-clip-text text-transparent group-hover:from-warning group-hover:to-primary transition-all duration-300",children:"Paddle Up"}),f.jsx("div",{className:"text-xs text-text-muted font-semibold tracking-wider uppercase",children:"Premier League"})]})]})}),f.jsx("div",{className:"hidden md:block",children:f.jsx("div",{className:"ml-10 flex items-baseline space-x-1",children:a.map(o=>{const c=o.icon,d=r.pathname===o.href;return f.jsxs(bt,{to:o.href,className:on("px-4 py-2 rounded-xl text-sm font-bold transition-all duration-300 flex items-center space-x-2 group relative overflow-hidden",d?"bg-gradient-to-r from-primary to-primary-hover text-white shadow-lg shadow-primary/30 scale-105":"text-text-muted hover:bg-surface-highlight hover:text-text-main hover:shadow-md hover:scale-105"),children:[f.jsx(c,{className:on("h-4 w-4 transition-transform duration-300",d?"text-white":"group-hover:scale-110")}),f.jsx("span",{children:o.name}),d&&f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 to-warning/10 blur-xl -z-10"})]},o.name)})})}),f.jsx("div",{className:"md:hidden",children:f.jsxs(Fi,{onClick:()=>n(!e),variant:"ghost",size:"sm",className:"relative overflow-hidden",children:[f.jsx("div",{className:"relative z-10",children:e?f.jsx(pS,{className:"h-6 w-6"}):f.jsx(vk,{className:"h-6 w-6"})}),e&&f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-warning/20 blur-sm"})]})})]})}),e&&f.jsx("div",{className:"md:hidden",children:f.jsx("div",{className:"px-2 pt-2 pb-3 space-y-2 sm:px-3 bg-gradient-to-br from-surface via-surface-alt to-surface border-t border-border/50 shadow-xl",children:a.map(o=>{const c=o.icon,d=r.pathname===o.href;return f.jsxs(bt,{to:o.href,onClick:()=>n(!1),className:on("block px-4 py-3 rounded-xl text-base font-bold flex items-center space-x-3 transition-all duration-300 group relative overflow-hidden",d?"bg-gradient-to-r from-primary to-primary-hover text-white shadow-lg shadow-primary/30":"text-text-muted hover:bg-surface-highlight hover:text-text-main hover:shadow-md hover:scale-[1.02]"),children:[f.jsx(c,{className:on("h-5 w-5 transition-transform duration-300",d?"text-white":"group-hover:scale-110")}),f.jsx("span",{children:o.name}),d&&f.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:f.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]},o.name)})})})]}),f.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsxs("div",{className:"relative",children:[t,f.jsx("div",{className:"fixed top-20 right-10 w-32 h-32 bg-gradient-to-br from-primary/5 to-transparent rounded-full blur-3xl -z-10 pointer-events-none"}),f.jsx("div",{className:"fixed bottom-20 left-10 w-40 h-40 bg-gradient-to-tr from-success/5 to-transparent rounded-full blur-3xl -z-10 pointer-events-none"})]})}),f.jsxs("footer",{className:"relative overflow-hidden bg-gradient-to-br from-surface via-surface-alt to-surface text-text-muted py-12 mt-auto border-t border-border/50",children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"text-center space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary/20 to-warning/20 rounded-full flex items-center justify-center",children:f.jsx(Ln,{className:"h-5 w-5 text-primary"})}),f.jsx("span",{className:"font-black text-lg text-text-main",children:"Paddle Up Premier League"})]}),f.jsxs("div",{className:"flex items-center justify-center space-x-6 pt-6",children:[f.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-primary/10 rounded-xl border border-primary/20",children:[f.jsx(Ln,{className:"h-4 w-4 text-primary"}),f.jsx("span",{className:"text-xs font-semibold text-primary",children:"Premier League"})]}),f.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-success/10 rounded-xl border border-success/20",children:[f.jsx(Pl,{className:"h-4 w-4 text-success"}),f.jsx("span",{className:"text-xs font-semibold text-success",children:"3.5+ DUPR"})]}),f.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-warning/10 rounded-xl border border-warning/20",children:[f.jsx(Ml,{className:"h-4 w-4 text-warning"}),f.jsx("span",{className:"text-xs font-semibold text-warning",children:"Elite Players"})]})]})]})}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})]})},cs=(t,e=3)=>e===5?DO(t):e===2?CO(t):jO(t),CO=t=>t<1?0:t===1?1e3:t===2?700:t>=8?Math.floor(cs(t-7)/10):t>=3?Math.floor(cs(t-2)/2):0,jO=t=>t<1?0:t===1?1e3:t===2?800:t===3?cs(2)*3/4:t===4?cs(2)*3/5:t>=11?Math.floor(cs(t-10)/10):t>=5?Math.floor(cs(t-3)/2):0,DO=t=>t<1?0:t===1?1e3:t===2?875:t===3?750:t===4?650:t===5?575:t>=19?Math.floor(cs(t-18)/10):t>=6?Math.floor(cs(t-5)/2):0,Dv=t=>{if(!t.isCompleted||!Array.isArray(t.standings)||t.standings.length===0)return null;const e=t.standings,n=[];return e.forEach((r,a)=>{const o=a+1,c=Math.ceil(o/4),d=(o-1)%4+1,h=cs(o);n.push({playerId:r,court:c,position:d,rank:o,pointsEarned:h})}),n},kO=t=>{const e=new Map;return t.forEach(n=>{if(!n.standings||n.standings.length===0)return;const r={id:n.id,date:n.startDateTime?n.startDateTime.toISOString():n.id,isCompleted:!0,standings:n.standings},a=Dv(r);a&&a.forEach(o=>{const c=o.playerId,d=o.pointsEarned||0,h=e.get(c)||{points:0,events:0,champWins:0};h.points+=d,h.events+=1,o.rank===1&&(h.champWins+=1),e.set(c,h)})}),e},OO=()=>{};var sE={};const RS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},PO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],c=t[n++],d=t[n++],h=((a&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},CS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],c=a+1<t.length,d=c?t[a+1]:0,h=a+2<t.length,g=h?t[a+2]:0,v=o>>2,x=(o&3)<<4|d>>4;let E=(d&15)<<2|g>>6,T=g&63;h||(T=64,c||(E=64)),r.push(n[v],n[x],n[E],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const x=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||d==null||g==null||x==null)throw new MO;const E=o<<2|d>>4;if(r.push(E),g!==64){const T=d<<4&240|g>>2;if(r.push(T),x!==64){const j=g<<6&192|x;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VO=function(t){const e=RS(t);return CS.encodeByteArray(e,!0)},Hf=function(t){return VO(t).replace(/\./g,"")},jS=function(t){try{return CS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function DS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zO=()=>DS().__FIREBASE_DEFAULTS__,LO=()=>{if(typeof process>"u"||typeof sE>"u")return;const t=sE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jS(t[1]);return e&&JSON.parse(e)},Am=()=>{try{return OO()||zO()||LO()||UO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kS=t=>Am()?.emulatorHosts?.[t],FO=t=>{const e=kS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},OS=()=>Am()?.config,PS=t=>Am()?.[`_${t}`];class BO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function sc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function MS(t){return(await fetch(t,{credentials:"include"})).ok}function $O(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Hf(JSON.stringify(n)),Hf(JSON.stringify(c)),""].join(".")}const ku={};function qO(){const t={prod:[],emulator:[]};for(const e of Object.keys(ku))ku[e]?t.emulator.push(e):t.prod.push(e);return t}function HO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let iE=!1;function VS(t,e){if(typeof window>"u"||typeof document>"u"||!sc(window.location.host)||ku[t]===e||ku[t]||iE)return;ku[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=qO().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function h(E,T){E.setAttribute("width","24"),E.setAttribute("id",T),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{iE=!0,c()},E}function v(E,T){E.setAttribute("id",T),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function x(){const E=HO(r),T=n("text"),j=document.getElementById(T)||document.createElement("span"),D=n("learnmore"),P=document.getElementById(D)||document.createElement("a"),Z=n("preprendIcon"),X=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Q=E.element;d(Q),v(P,D);const le=g();h(X,Z),Q.append(X,j,P,le),document.body.appendChild(Q)}o?(j.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function zS(){const t=Am()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YO(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LS(){return!zS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function US(){return!zS()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function FS(){try{return typeof indexedDB=="object"}catch{return!1}}function XO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const JO="FirebaseError";class Ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JO,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dd.prototype.create)}}class dd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?WO(o,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ws(a,d,r)}}function WO(t,e){return t.replace(e4,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const e4=/\{\$([^}]+)}/g;function t4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],c=e[a];if(aE(o)&&aE(c)){if(!lo(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function aE(t){return t!==null&&typeof t=="object"}function hd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function n4(t,e){const n=new r4(t,e);return n.subscribe.bind(n)}class r4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");s4(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=uy),a.error===void 0&&(a.error=uy),a.complete===void 0&&(a.complete=uy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function uy(){}function _n(t){return t&&t._delegate?t._delegate:t}class co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $a="[DEFAULT]";class i4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new BO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o4(e))try{this.getOrInitializeService({instanceIdentifier:$a})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=$a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$a){return this.instances.has(e)}getOptions(e=$a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:a4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$a){return this.component?this.component.multipleInstances?e:$a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a4(t){return t===$a?void 0:t}function o4(t){return t.instantiationMode==="EAGER"}class l4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const c4={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},u4=qe.INFO,d4={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},h4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=d4[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kv{constructor(e){this.name=e,this._logLevel=u4,this._logHandler=h4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const f4=(t,e)=>e.some(n=>t instanceof n);let oE,lE;function m4(){return oE||(oE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p4(){return lE||(lE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BS=new WeakMap,My=new WeakMap,$S=new WeakMap,dy=new WeakMap,Ov=new WeakMap;function g4(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Zi(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&BS.set(n,t)}).catch(()=>{}),Ov.set(e,t),e}function y4(t){if(My.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});My.set(t,e)}let Vy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return My.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$S.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function v4(t){Vy=t(Vy)}function x4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hy(this),e,...n);return $S.set(r,e.sort?e.sort():[e]),Zi(r)}:p4().includes(t)?function(...e){return t.apply(hy(this),e),Zi(BS.get(this))}:function(...e){return Zi(t.apply(hy(this),e))}}function b4(t){return typeof t=="function"?x4(t):(t instanceof IDBTransaction&&y4(t),f4(t,m4())?new Proxy(t,Vy):t)}function Zi(t){if(t instanceof IDBRequest)return g4(t);if(dy.has(t))return dy.get(t);const e=b4(t);return e!==t&&(dy.set(t,e),Ov.set(e,t)),e}const hy=t=>Ov.get(t);function _4(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),d=Zi(c);return r&&c.addEventListener("upgradeneeded",h=>{r(Zi(c.result),h.oldVersion,h.newVersion,Zi(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const w4=["get","getKey","getAll","getAllKeys","count"],E4=["put","add","delete","clear"],fy=new Map;function cE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fy.get(e))return fy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=E4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||w4.includes(n)))return;const o=async function(c,...d){const h=this.transaction(c,a?"readwrite":"readonly");let g=h.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&h.done]))[0]};return fy.set(e,o),o}v4(t=>({...t,get:(e,n,r)=>cE(e,n)||t.get(e,n,r),has:(e,n)=>!!cE(e,n)||t.has(e,n)}));class T4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(S4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function S4(t){return t.getComponent()?.type==="VERSION"}const zy="@firebase/app",uE="0.14.6";const Ks=new kv("@firebase/app"),A4="@firebase/app-compat",N4="@firebase/analytics-compat",I4="@firebase/analytics",R4="@firebase/app-check-compat",C4="@firebase/app-check",j4="@firebase/auth",D4="@firebase/auth-compat",k4="@firebase/database",O4="@firebase/data-connect",P4="@firebase/database-compat",M4="@firebase/functions",V4="@firebase/functions-compat",z4="@firebase/installations",L4="@firebase/installations-compat",U4="@firebase/messaging",F4="@firebase/messaging-compat",B4="@firebase/performance",$4="@firebase/performance-compat",q4="@firebase/remote-config",H4="@firebase/remote-config-compat",G4="@firebase/storage",K4="@firebase/storage-compat",Q4="@firebase/firestore",Z4="@firebase/ai",Y4="@firebase/firestore-compat",X4="firebase",J4="12.6.0";const Ly="[DEFAULT]",W4={[zy]:"fire-core",[A4]:"fire-core-compat",[I4]:"fire-analytics",[N4]:"fire-analytics-compat",[C4]:"fire-app-check",[R4]:"fire-app-check-compat",[j4]:"fire-auth",[D4]:"fire-auth-compat",[k4]:"fire-rtdb",[O4]:"fire-data-connect",[P4]:"fire-rtdb-compat",[M4]:"fire-fn",[V4]:"fire-fn-compat",[z4]:"fire-iid",[L4]:"fire-iid-compat",[U4]:"fire-fcm",[F4]:"fire-fcm-compat",[B4]:"fire-perf",[$4]:"fire-perf-compat",[q4]:"fire-rc",[H4]:"fire-rc-compat",[G4]:"fire-gcs",[K4]:"fire-gcs-compat",[Q4]:"fire-fst",[Y4]:"fire-fst-compat",[Z4]:"fire-vertex","fire-js":"fire-js",[X4]:"fire-js-all"};const qu=new Map,eP=new Map,Uy=new Map;function dE(t,e){try{t.container.addComponent(e)}catch(n){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vl(t){const e=t.name;if(Uy.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;Uy.set(e,t);for(const n of qu.values())dE(n,t);for(const n of eP.values())dE(n,t);return!0}function Pv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mr(t){return t==null?!1:t.settings!==void 0}const tP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new dd("app","Firebase",tP);class nP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}const ic=J4;function qS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ly,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Yi.create("bad-app-name",{appName:String(a)});if(n||(n=OS()),!n)throw Yi.create("no-options");const o=qu.get(a);if(o){if(lo(n,o.options)&&lo(r,o.config))return o;throw Yi.create("duplicate-app",{appName:a})}const c=new l4(a);for(const h of Uy.values())c.addComponent(h);const d=new nP(n,r,c);return qu.set(a,d),d}function HS(t=Ly){const e=qu.get(t);if(!e&&t===Ly&&OS())return qS();if(!e)throw Yi.create("no-app",{appName:t});return e}function hE(){return Array.from(qu.values())}function Xi(t,e,n){let r=W4[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(c.join(" "));return}Vl(new co(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const rP="firebase-heartbeat-database",sP=1,Hu="firebase-heartbeat-store";let my=null;function GS(){return my||(my=_4(rP,sP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yi.create("idb-open",{originalErrorMessage:t.message})})),my}async function iP(t){try{const n=(await GS()).transaction(Hu),r=await n.objectStore(Hu).get(KS(t));return await n.done,r}catch(e){if(e instanceof Ws)Ks.warn(e.message);else{const n=Yi.create("idb-get",{originalErrorMessage:e?.message});Ks.warn(n.message)}}}async function fE(t,e){try{const r=(await GS()).transaction(Hu,"readwrite");await r.objectStore(Hu).put(e,KS(t)),await r.done}catch(n){if(n instanceof Ws)Ks.warn(n.message);else{const r=Yi.create("idb-set",{originalErrorMessage:n?.message});Ks.warn(r.message)}}}function KS(t){return`${t.name}!${t.options.appId}`}const aP=1024,oP=30;class lP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=mE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>oP){const a=dP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ks.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mE(),{heartbeatsToSend:n,unsentEntries:r}=cP(this._heartbeatsCache.heartbeats),a=Hf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ks.warn(e),""}}}function mE(){return new Date().toISOString().substring(0,10)}function cP(t,e=aP){const n=[];let r=t.slice();for(const a of t){const o=n.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),pE(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),pE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FS()?XO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function pE(t){return Hf(JSON.stringify({version:2,heartbeats:t})).length}function dP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function hP(t){Vl(new co("platform-logger",e=>new T4(e),"PRIVATE")),Vl(new co("heartbeat",e=>new lP(e),"PRIVATE")),Xi(zy,uE,t),Xi(zy,uE,"esm2020"),Xi("fire-js","")}hP("");var gE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ji,QS;(function(){var t;function e(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(z,V,U){for(var k=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)k[Ge-2]=arguments[Ge];return A.prototype[V].apply(z,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,A,C){C||(C=0);const z=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)z[V]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(V=0;V<16;++V)z[V]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],V=I.g[2];let U=I.g[3],k;k=A+(U^C&(V^U))+z[0]+3614090360&4294967295,A=C+(k<<7&4294967295|k>>>25),k=U+(V^A&(C^V))+z[1]+3905402710&4294967295,U=A+(k<<12&4294967295|k>>>20),k=V+(C^U&(A^C))+z[2]+606105819&4294967295,V=U+(k<<17&4294967295|k>>>15),k=C+(A^V&(U^A))+z[3]+3250441966&4294967295,C=V+(k<<22&4294967295|k>>>10),k=A+(U^C&(V^U))+z[4]+4118548399&4294967295,A=C+(k<<7&4294967295|k>>>25),k=U+(V^A&(C^V))+z[5]+1200080426&4294967295,U=A+(k<<12&4294967295|k>>>20),k=V+(C^U&(A^C))+z[6]+2821735955&4294967295,V=U+(k<<17&4294967295|k>>>15),k=C+(A^V&(U^A))+z[7]+4249261313&4294967295,C=V+(k<<22&4294967295|k>>>10),k=A+(U^C&(V^U))+z[8]+1770035416&4294967295,A=C+(k<<7&4294967295|k>>>25),k=U+(V^A&(C^V))+z[9]+2336552879&4294967295,U=A+(k<<12&4294967295|k>>>20),k=V+(C^U&(A^C))+z[10]+4294925233&4294967295,V=U+(k<<17&4294967295|k>>>15),k=C+(A^V&(U^A))+z[11]+2304563134&4294967295,C=V+(k<<22&4294967295|k>>>10),k=A+(U^C&(V^U))+z[12]+1804603682&4294967295,A=C+(k<<7&4294967295|k>>>25),k=U+(V^A&(C^V))+z[13]+4254626195&4294967295,U=A+(k<<12&4294967295|k>>>20),k=V+(C^U&(A^C))+z[14]+2792965006&4294967295,V=U+(k<<17&4294967295|k>>>15),k=C+(A^V&(U^A))+z[15]+1236535329&4294967295,C=V+(k<<22&4294967295|k>>>10),k=A+(V^U&(C^V))+z[1]+4129170786&4294967295,A=C+(k<<5&4294967295|k>>>27),k=U+(C^V&(A^C))+z[6]+3225465664&4294967295,U=A+(k<<9&4294967295|k>>>23),k=V+(A^C&(U^A))+z[11]+643717713&4294967295,V=U+(k<<14&4294967295|k>>>18),k=C+(U^A&(V^U))+z[0]+3921069994&4294967295,C=V+(k<<20&4294967295|k>>>12),k=A+(V^U&(C^V))+z[5]+3593408605&4294967295,A=C+(k<<5&4294967295|k>>>27),k=U+(C^V&(A^C))+z[10]+38016083&4294967295,U=A+(k<<9&4294967295|k>>>23),k=V+(A^C&(U^A))+z[15]+3634488961&4294967295,V=U+(k<<14&4294967295|k>>>18),k=C+(U^A&(V^U))+z[4]+3889429448&4294967295,C=V+(k<<20&4294967295|k>>>12),k=A+(V^U&(C^V))+z[9]+568446438&4294967295,A=C+(k<<5&4294967295|k>>>27),k=U+(C^V&(A^C))+z[14]+3275163606&4294967295,U=A+(k<<9&4294967295|k>>>23),k=V+(A^C&(U^A))+z[3]+4107603335&4294967295,V=U+(k<<14&4294967295|k>>>18),k=C+(U^A&(V^U))+z[8]+1163531501&4294967295,C=V+(k<<20&4294967295|k>>>12),k=A+(V^U&(C^V))+z[13]+2850285829&4294967295,A=C+(k<<5&4294967295|k>>>27),k=U+(C^V&(A^C))+z[2]+4243563512&4294967295,U=A+(k<<9&4294967295|k>>>23),k=V+(A^C&(U^A))+z[7]+1735328473&4294967295,V=U+(k<<14&4294967295|k>>>18),k=C+(U^A&(V^U))+z[12]+2368359562&4294967295,C=V+(k<<20&4294967295|k>>>12),k=A+(C^V^U)+z[5]+4294588738&4294967295,A=C+(k<<4&4294967295|k>>>28),k=U+(A^C^V)+z[8]+2272392833&4294967295,U=A+(k<<11&4294967295|k>>>21),k=V+(U^A^C)+z[11]+1839030562&4294967295,V=U+(k<<16&4294967295|k>>>16),k=C+(V^U^A)+z[14]+4259657740&4294967295,C=V+(k<<23&4294967295|k>>>9),k=A+(C^V^U)+z[1]+2763975236&4294967295,A=C+(k<<4&4294967295|k>>>28),k=U+(A^C^V)+z[4]+1272893353&4294967295,U=A+(k<<11&4294967295|k>>>21),k=V+(U^A^C)+z[7]+4139469664&4294967295,V=U+(k<<16&4294967295|k>>>16),k=C+(V^U^A)+z[10]+3200236656&4294967295,C=V+(k<<23&4294967295|k>>>9),k=A+(C^V^U)+z[13]+681279174&4294967295,A=C+(k<<4&4294967295|k>>>28),k=U+(A^C^V)+z[0]+3936430074&4294967295,U=A+(k<<11&4294967295|k>>>21),k=V+(U^A^C)+z[3]+3572445317&4294967295,V=U+(k<<16&4294967295|k>>>16),k=C+(V^U^A)+z[6]+76029189&4294967295,C=V+(k<<23&4294967295|k>>>9),k=A+(C^V^U)+z[9]+3654602809&4294967295,A=C+(k<<4&4294967295|k>>>28),k=U+(A^C^V)+z[12]+3873151461&4294967295,U=A+(k<<11&4294967295|k>>>21),k=V+(U^A^C)+z[15]+530742520&4294967295,V=U+(k<<16&4294967295|k>>>16),k=C+(V^U^A)+z[2]+3299628645&4294967295,C=V+(k<<23&4294967295|k>>>9),k=A+(V^(C|~U))+z[0]+4096336452&4294967295,A=C+(k<<6&4294967295|k>>>26),k=U+(C^(A|~V))+z[7]+1126891415&4294967295,U=A+(k<<10&4294967295|k>>>22),k=V+(A^(U|~C))+z[14]+2878612391&4294967295,V=U+(k<<15&4294967295|k>>>17),k=C+(U^(V|~A))+z[5]+4237533241&4294967295,C=V+(k<<21&4294967295|k>>>11),k=A+(V^(C|~U))+z[12]+1700485571&4294967295,A=C+(k<<6&4294967295|k>>>26),k=U+(C^(A|~V))+z[3]+2399980690&4294967295,U=A+(k<<10&4294967295|k>>>22),k=V+(A^(U|~C))+z[10]+4293915773&4294967295,V=U+(k<<15&4294967295|k>>>17),k=C+(U^(V|~A))+z[1]+2240044497&4294967295,C=V+(k<<21&4294967295|k>>>11),k=A+(V^(C|~U))+z[8]+1873313359&4294967295,A=C+(k<<6&4294967295|k>>>26),k=U+(C^(A|~V))+z[15]+4264355552&4294967295,U=A+(k<<10&4294967295|k>>>22),k=V+(A^(U|~C))+z[6]+2734768916&4294967295,V=U+(k<<15&4294967295|k>>>17),k=C+(U^(V|~A))+z[13]+1309151649&4294967295,C=V+(k<<21&4294967295|k>>>11),k=A+(V^(C|~U))+z[4]+4149444226&4294967295,A=C+(k<<6&4294967295|k>>>26),k=U+(C^(A|~V))+z[11]+3174756917&4294967295,U=A+(k<<10&4294967295|k>>>22),k=V+(A^(U|~C))+z[2]+718787259&4294967295,V=U+(k<<15&4294967295|k>>>17),k=C+(U^(V|~A))+z[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+U&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,z=this.C;let V=this.h,U=0;for(;U<A;){if(V==0)for(;U<=C;)a(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<A;)if(z[V++]=I.charCodeAt(U++),V==this.blockSize){a(this,z),V=0;break}}else for(;U<A;)if(z[V++]=I[U++],V==this.blockSize){a(this,z),V=0;break}}this.h=V,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let z=0;z<32;z+=8)I[A++]=this.g[C]>>>z&255;return I};function o(I,A){var C=d;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function c(I,A){this.h=A;const C=[];let z=!0;for(let V=I.length-1;V>=0;V--){const U=I[V]|0;z&&U==A||(C[V]=U,z=!1)}this.g=C}var d={};function h(I){return-128<=I&&I<128?o(I,function(A){return new c([A|0],A<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return P(g(-I));const A=[];let C=1;for(let z=0;I>=C;z++)A[z]=I/C|0,C*=4294967296;return new c(A,0)}function v(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return P(v(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(A,8));let z=x;for(let U=0;U<I.length;U+=8){var V=Math.min(8,I.length-U);const k=parseInt(I.substring(U,U+V),A);V<8?(V=g(Math.pow(A,V)),z=z.j(V).add(g(k))):(z=z.j(C),z=z.add(g(k)))}return z}var x=h(0),E=h(1),T=h(16777216);t=c.prototype,t.m=function(){if(D(this))return-P(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const z=this.i(C);I+=(z>=0?z:4294967296+z)*A,A*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(j(this))return"0";if(D(this))return"-"+P(this).toString(I);const A=g(Math.pow(I,6));var C=this;let z="";for(;;){const V=le(C,A).g;C=Z(C,V.j(A));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=V,j(C))return U+z;for(;U.length<6;)U="0"+U;z=U+z}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function j(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function D(I){return I.h==-1}t.l=function(I){return I=Z(this,I),D(I)?-1:j(I)?0:1};function P(I){const A=I.g.length,C=[];for(let z=0;z<A;z++)C[z]=~I.g[z];return new c(C,~I.h).add(E)}t.abs=function(){return D(this)?P(this):this},t.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let z=0;for(let V=0;V<=A;V++){let U=z+(this.i(V)&65535)+(I.i(V)&65535),k=(U>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);z=k>>>16,U&=65535,k&=65535,C[V]=k<<16|U}return new c(C,C[C.length-1]&-2147483648?-1:0)};function Z(I,A){return I.add(P(A))}t.j=function(I){if(j(this)||j(I))return x;if(D(this))return D(I)?P(this).j(P(I)):P(P(this).j(I));if(D(I))return P(this.j(P(I)));if(this.l(T)<0&&I.l(T)<0)return g(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var z=0;z<2*A;z++)C[z]=0;for(z=0;z<this.g.length;z++)for(let V=0;V<I.g.length;V++){const U=this.i(z)>>>16,k=this.i(z)&65535,Ge=I.i(V)>>>16,Ze=I.i(V)&65535;C[2*z+2*V]+=k*Ze,X(C,2*z+2*V),C[2*z+2*V+1]+=U*Ze,X(C,2*z+2*V+1),C[2*z+2*V+1]+=k*Ge,X(C,2*z+2*V+1),C[2*z+2*V+2]+=U*Ge,X(C,2*z+2*V+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new c(C,0)};function X(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function Q(I,A){this.g=I,this.h=A}function le(I,A){if(j(A))throw Error("division by zero");if(j(I))return new Q(x,x);if(D(I))return A=le(P(I),A),new Q(P(A.g),P(A.h));if(D(A))return A=le(I,P(A)),new Q(P(A.g),A.h);if(I.g.length>30){if(D(I)||D(A))throw Error("slowDivide_ only works with positive integers.");for(var C=E,z=A;z.l(I)<=0;)C=G(C),z=G(z);var V=ae(C,1),U=ae(z,1);for(z=ae(z,2),C=ae(C,2);!j(z);){var k=U.add(z);k.l(I)<=0&&(V=V.add(C),U=k),z=ae(z,1),C=ae(C,1)}return A=Z(I,V.j(A)),new Q(V,A)}for(V=x;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),z=Math.ceil(Math.log(C)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),U=g(C),k=U.j(A);D(k)||k.l(I)>0;)C-=z,U=g(C),k=U.j(A);j(U)&&(U=E),V=V.add(U),I=Z(I,k)}return new Q(V,I)}t.B=function(I){return le(this,I).h},t.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let z=0;z<A;z++)C[z]=this.i(z)&I.i(z);return new c(C,this.h&I.h)},t.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let z=0;z<A;z++)C[z]=this.i(z)|I.i(z);return new c(C,this.h|I.h)},t.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let z=0;z<A;z++)C[z]=this.i(z)^I.i(z);return new c(C,this.h^I.h)};function G(I){const A=I.g.length+1,C=[];for(let z=0;z<A;z++)C[z]=I.i(z)<<1|I.i(z-1)>>>31;return new c(C,I.h)}function ae(I,A){const C=A>>5;A%=32;const z=I.g.length-C,V=[];for(let U=0;U<z;U++)V[U]=A>0?I.i(U+C)>>>A|I.i(U+C+1)<<32-A:I.i(U+C);return new c(V,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,QS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Ji=c}).apply(typeof gE<"u"?gE:typeof self<"u"?self:typeof window<"u"?window:{});var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ZS,Au,YS,_f,Fy,XS,JS,WS;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof of=="object"&&of];for(var b=0;b<m.length;++b){var w=m[b];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function a(m,b){if(b)e:{var w=r;m=m.split(".");for(var N=0;N<m.length-1;N++){var $=m[N];if(!($ in w))break e;w=w[$]}m=m[m.length-1],N=w[m],b=b(N),b!=N&&b!=null&&e(w,m,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(b){var w=[],N;for(N in b)Object.prototype.hasOwnProperty.call(b,N)&&w.push([N,b[N]]);return w}});var o=o||{},c=this||self;function d(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function h(m,b,w){return m.call.apply(m.bind,arguments)}function g(m,b,w){return g=h,g.apply(null,arguments)}function v(m,b){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),m.apply(this,N)}}function x(m,b){function w(){}w.prototype=b.prototype,m.Z=b.prototype,m.prototype=new w,m.prototype.constructor=m,m.Ob=function(N,$,J){for(var me=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)me[ke-2]=arguments[ke];return b.prototype[$].apply(N,me)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function T(m){const b=m.length;if(b>0){const w=Array(b);for(let N=0;N<b;N++)w[N]=m[N];return w}return[]}function j(m,b){for(let N=1;N<arguments.length;N++){const $=arguments[N];var w=typeof $;if(w=w!="object"?w:$?Array.isArray($)?"array":w:"null",w=="array"||w=="object"&&typeof $.length=="number"){w=m.length||0;const J=$.length||0;m.length=w+J;for(let me=0;me<J;me++)m[w+me]=$[me]}else m.push($)}}class D{constructor(b,w){this.i=b,this.j=w,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function P(m){c.setTimeout(()=>{throw m},0)}function Z(){var m=I;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class X{constructor(){this.h=this.g=null}add(b,w){const N=Q.get();N.set(b,w),this.h?this.h.next=N:this.g=N,this.h=N}}var Q=new D(()=>new le,m=>m.reset());class le{constructor(){this.next=this.g=this.h=null}set(b,w){this.h=b,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let G,ae=!1,I=new X,A=()=>{const m=Promise.resolve(void 0);G=()=>{m.then(C)}};function C(){for(var m;m=Z();){try{m.h.call(m.g)}catch(w){P(w)}var b=Q;b.j(m),b.h<100&&(b.h++,m.next=b.g,b.g=m)}ae=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const w=()=>{};c.addEventListener("test",w,b),c.removeEventListener("test",w,b)}catch{}return m})();function k(m){return/^[\s\xa0]*$/.test(m)}function Ge(m,b){V.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,b)}x(Ge,V),Ge.prototype.init=function(m,b){const w=this.type=m.type,N=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget,b||(w=="mouseover"?b=m.fromElement:w=="mouseout"&&(b=m.toElement)),this.relatedTarget=b,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Ge.Z.h.call(this)},Ge.prototype.h=function(){Ge.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),W=0;function he(m,b,w,N,$){this.listener=m,this.proxy=null,this.src=b,this.type=w,this.capture=!!N,this.ha=$,this.key=++W,this.da=this.fa=!1}function ce(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Me(m,b,w){for(const N in m)b.call(w,m[N],N,m)}function Fe(m,b){for(const w in m)b.call(void 0,m[w],w,m)}function R(m){const b={};for(const w in m)b[w]=m[w];return b}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(m,b){let w,N;for(let $=1;$<arguments.length;$++){N=arguments[$];for(w in N)m[w]=N[w];for(let J=0;J<q.length;J++)w=q[J],Object.prototype.hasOwnProperty.call(N,w)&&(m[w]=N[w])}}function ue(m){this.src=m,this.g={},this.h=0}ue.prototype.add=function(m,b,w,N,$){const J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);const me=Ie(m,b,N,$);return me>-1?(b=m[me],w||(b.fa=!1)):(b=new he(b,this.src,J,!!N,$),b.fa=w,m.push(b)),b};function Ee(m,b){const w=b.type;if(w in m.g){var N=m.g[w],$=Array.prototype.indexOf.call(N,b,void 0),J;(J=$>=0)&&Array.prototype.splice.call(N,$,1),J&&(ce(b),m.g[w].length==0&&(delete m.g[w],m.h--))}}function Ie(m,b,w,N){for(let $=0;$<m.length;++$){const J=m[$];if(!J.da&&J.listener==b&&J.capture==!!w&&J.ha==N)return $}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),At={};function nt(m,b,w,N,$){if(Array.isArray(b)){for(let J=0;J<b.length;J++)nt(m,b[J],w,N,$);return null}return w=pc(w),m&&m[Ze]?m.J(b,w,d(N)?!!N.capture:!1,$):er(m,b,w,!1,N,$)}function er(m,b,w,N,$,J){if(!b)throw Error("Invalid event type");const me=d($)?!!$.capture:!!$;let ke=da(m);if(ke||(m[_e]=ke=new ue(m)),w=ke.add(b,w,N,me,J),w.proxy)return w;if(N=Lr(),w.proxy=N,N.src=m,N.listener=w,m.addEventListener)U||($=me),$===void 0&&($=!1),m.addEventListener(b.toString(),N,$);else if(m.attachEvent)m.attachEvent(Ur(b.toString()),N);else if(m.addListener&&m.removeListener)m.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Lr(){function m(w){return b.call(m.src,m.listener,w)}const b=fc;return m}function wr(m,b,w,N,$){if(Array.isArray(b))for(var J=0;J<b.length;J++)wr(m,b[J],w,N,$);else N=d(N)?!!N.capture:!!N,w=pc(w),m&&m[Ze]?(m=m.i,J=String(b).toString(),J in m.g&&(b=m.g[J],w=Ie(b,w,N,$),w>-1&&(ce(b[w]),Array.prototype.splice.call(b,w,1),b.length==0&&(delete m.g[J],m.h--)))):m&&(m=da(m))&&(b=m.g[b.toString()],m=-1,b&&(m=Ie(b,w,N,$)),(w=m>-1?b[m]:null)&&Io(w))}function Io(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[Ze])Ee(b.i,m);else{var w=m.type,N=m.proxy;b.removeEventListener?b.removeEventListener(w,N,m.capture):b.detachEvent?b.detachEvent(Ur(w),N):b.addListener&&b.removeListener&&b.removeListener(N),(w=da(b))?(Ee(w,m),w.h==0&&(w.src=null,b[_e]=null)):ce(m)}}}function Ur(m){return m in At?At[m]:At[m]="on"+m}function fc(m,b){if(m.da)m=!0;else{b=new Ge(b,this);const w=m.listener,N=m.ha||m.src;m.fa&&Io(m),m=w.call(N,b)}return m}function da(m){return m=m[_e],m instanceof ue?m:null}var mc="__closure_events_fn_"+(Math.random()*1e9>>>0);function pc(m){return typeof m=="function"?m:(m[mc]||(m[mc]=function(b){return m.handleEvent(b)}),m[mc])}function zt(){z.call(this),this.i=new ue(this),this.M=this,this.G=null}x(zt,z),zt.prototype[Ze]=!0,zt.prototype.removeEventListener=function(m,b,w,N){wr(this,m,b,w,N)};function Yt(m,b){var w,N=m.G;if(N)for(w=[];N;N=N.G)w.push(N);if(m=m.M,N=b.type||b,typeof b=="string")b=new V(b,m);else if(b instanceof V)b.target=b.target||m;else{var $=b;b=new V(N,m),se(b,$)}$=!0;let J,me;if(w)for(me=w.length-1;me>=0;me--)J=b.g=w[me],$=ri(J,N,!0,b)&&$;if(J=b.g=m,$=ri(J,N,!0,b)&&$,$=ri(J,N,!1,b)&&$,w)for(me=0;me<w.length;me++)J=b.g=w[me],$=ri(J,N,!1,b)&&$}zt.prototype.N=function(){if(zt.Z.N.call(this),this.i){var m=this.i;for(const b in m.g){const w=m.g[b];for(let N=0;N<w.length;N++)ce(w[N]);delete m.g[b],m.h--}}this.G=null},zt.prototype.J=function(m,b,w,N){return this.i.add(String(m),b,!1,w,N)},zt.prototype.K=function(m,b,w,N){return this.i.add(String(m),b,!0,w,N)};function ri(m,b,w,N){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();let $=!0;for(let J=0;J<b.length;++J){const me=b[J];if(me&&!me.da&&me.capture==w){const ke=me.listener,Ot=me.ha||me.src;me.fa&&Ee(m.i,me),$=ke.call(Ot,N)!==!1&&$}}return $&&!N.defaultPrevented}function tp(m,b){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=g(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(m,b||0)}function Nd(m){m.g=tp(()=>{m.g=null,m.i&&(m.i=!1,Nd(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class wn extends z{constructor(b,w){super(),this.m=b,this.l=w,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Nd(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(m){z.call(this),this.h=m,this.g={}}x(ha,z);var gc=[];function yc(m){Me(m.g,function(b,w){this.g.hasOwnProperty(w)&&Io(b)},m),m.g={}}ha.prototype.N=function(){ha.Z.N.call(this),yc(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var si=c.JSON.stringify,np=c.JSON.parse,Id=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Rd(){}function Cd(){}var Er={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){V.call(this,"d")}x(ln,V);function tr(){V.call(this,"c")}x(tr,V);var kt={},jd=null;function Ro(){return jd=jd||new zt}kt.Ia="serverreachability";function Dd(m){V.call(this,kt.Ia,m)}x(Dd,V);function Fr(m){const b=Ro();Yt(b,new Dd(b))}kt.STAT_EVENT="statevent";function fa(m,b){V.call(this,kt.STAT_EVENT,m),this.stat=b}x(fa,V);function Lt(m){const b=Ro();Yt(b,new fa(b,m))}kt.Ja="timingevent";function Br(m,b){V.call(this,kt.Ja,m),this.size=b}x(Br,V);function $r(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},b)}function Tr(){this.g=!0}Tr.prototype.ua=function(){this.g=!1};function rp(m,b,w,N,$,J){m.info(function(){if(m.g)if(J){var me="",ke=J.split("&");for(let et=0;et<ke.length;et++){var Ot=ke[et].split("=");if(Ot.length>1){const yt=Ot[0];Ot=Ot[1];const ir=yt.split("_");me=ir.length>=2&&ir[1]=="type"?me+(yt+"="+Ot+"&"):me+(yt+"=redacted&")}}}else me=null;else me=J;return"XMLHTTP REQ ("+N+") [attempt "+$+"]: "+b+`
`+w+`
`+me})}function kd(m,b,w,N,$,J,me){m.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+$+"]: "+b+`
`+w+`
`+J+" "+me})}function qr(m,b,w,N){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+sp(m,w)+(N?" "+N:"")})}function ma(m,b){m.info(function(){return"TIMEOUT: "+b})}Tr.prototype.info=function(){};function sp(m,b){if(!m.g)return b;if(!b)return null;try{const J=JSON.parse(b);if(J){for(m=0;m<J.length;m++)if(Array.isArray(J[m])){var w=J[m];if(!(w.length<2)){var N=w[1];if(Array.isArray(N)&&!(N.length<1)){var $=N[0];if($!="noop"&&$!="stop"&&$!="close")for(let me=1;me<N.length;me++)N[me]=""}}}}return si(J)}catch{return b}}var pa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xc;function ga(){}x(ga,Rd),ga.prototype.g=function(){return new XMLHttpRequest},xc=new ga;function xs(m){return encodeURIComponent(String(m))}function Od(m){var b=1;m=m.split(":");const w=[];for(;b>0&&m.length;)w.push(m.shift()),b--;return m.length&&w.push(m.join(":")),w}function Sr(m,b,w,N){this.j=m,this.i=b,this.l=w,this.S=N||1,this.V=new ha(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ar}function Ar(){this.i=null,this.g="",this.h=!1}var Ut={},nn={};function Hr(m,b,w){m.M=1,m.A=ya(Bt(b)),m.u=w,m.R=!0,Co(m,null)}function Co(m,b){m.F=Date.now(),Gr(m),m.B=Bt(m.A);var w=m.B,N=m.S;Array.isArray(N)||(N=[String(N)]),Oo(w.i,"t",N),m.C=0,w=m.j.L,m.h=new Ar,m.g=Zd(m.j,w?b:null,!m.u),m.P>0&&(m.O=new wn(g(m.Y,m,m.g),m.P)),b=m.V,w=m.g,N=m.ba;var $="readystatechange";Array.isArray($)||($&&(gc[0]=$.toString()),$=gc);for(let J=0;J<$.length;J++){const me=nt(w,$[J],N||b.handleEvent,!1,b.h||b);if(!me)break;b.g[me.key]=me}b=m.J?R(m.J):{},m.u?(m.v||(m.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,b)):(m.v="GET",m.g.ea(m.B,m.v,null,b)),Fr(),rp(m.i,m.v,m.B,m.l,m.S,m.u)}Sr.prototype.ba=function(m){m=m.target;const b=this.O;b&&Rr(m)==3?b.j():this.Y(m)},Sr.prototype.Y=function(m){try{if(m==this.g)e:{const ke=Rr(this.g),Ot=this.g.ya(),et=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||ke!=4||Ot==7||(Ot==8||et<=0?Fr(3):Fr(2)),Kr(this);var b=this.g.ca();this.X=b;var w=ip(this);if(this.o=b==200,kd(this.i,this.v,this.B,this.l,this.S,ke,b),this.o){if(this.U&&!this.L){t:{if(this.g){var N,$=this.g;if((N=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(N)){var J=N;break t}}J=null}if(m=J)qr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qr(this,m);else{this.o=!1,this.m=3,Lt(12),Fn(this),nr(this);break e}}if(this.R){m=!0;let yt;for(;!this.K&&this.C<w.length;)if(yt=Md(this,w),yt==nn){ke==4&&(this.m=4,Lt(14),m=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Ut){this.m=4,Lt(15),qr(this.i,this.l,w,"[Invalid Chunk]"),m=!1;break}else qr(this.i,this.l,yt,null),Qr(this,yt);if(Pd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||w.length!=0||this.h.h||(this.m=1,Lt(16),m=!1),this.o=this.o&&m,!m)qr(this.i,this.l,w,"[Invalid Chunked Response]"),Fn(this),nr(this);else if(w.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Oc(me),me.P=!0,Lt(11))}}else qr(this.i,this.l,w,null),Qr(this,w);ke==4&&Fn(this),this.o&&!this.K&&(ke==4?Hd(this.j,this):(this.o=!1,Gr(this)))}else _s(this.g),b==400&&w.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),Fn(this),nr(this)}}}catch{}};function ip(m){if(!Pd(m))return m.g.la();const b=cn(m.g);if(b==="")return"";let w="";const N=b.length,$=Rr(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Fn(m),nr(m),"";m.h.i=new c.TextDecoder}for(let J=0;J<N;J++)m.h.h=!0,w+=m.h.i.decode(b[J],{stream:!($&&J==N-1)});return b.length=0,m.h.g+=w,m.C=0,m.h.g}function Pd(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Md(m,b){var w=m.C,N=b.indexOf(`
`,w);return N==-1?nn:(w=Number(b.substring(w,N)),isNaN(w)?Ut:(N+=1,N+w>b.length?nn:(b=b.slice(N,N+w),m.C=N+w,b)))}Sr.prototype.cancel=function(){this.K=!0,Fn(this)};function Gr(m){m.T=Date.now()+m.H,jo(m,m.H)}function jo(m,b){if(m.D!=null)throw Error("WatchDog timer not null");m.D=$r(g(m.aa,m),b)}function Kr(m){m.D&&(c.clearTimeout(m.D),m.D=null)}Sr.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ma(this.i,this.B),this.M!=2&&(Fr(),Lt(17)),Fn(this),this.m=2,nr(this)):jo(this,this.T-m)};function nr(m){m.j.I==0||m.K||Hd(m.j,m)}function Fn(m){Kr(m);var b=m.O;b&&typeof b.dispose=="function"&&b.dispose(),m.O=null,yc(m.V),m.g&&(b=m.g,m.g=null,b.abort(),b.dispose())}function Qr(m,b){try{var w=m.j;if(w.I!=0&&(w.g==m||Yr(w.h,m))){if(!m.L&&Yr(w.h,m)&&w.I==3){try{var N=w.Ba.g.parse(b)}catch{N=null}if(Array.isArray(N)&&N.length==3){var $=N;if($[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<m.F)Lo(w),hi(w);else break e;Ta(w),Lt(18)}}else w.xa=$[1],0<w.xa-w.K&&$[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=$r(g(w.Va,w),6e3));Zr(w.h)<=1&&w.ta&&(w.ta=void 0)}else ns(w,11)}else if((m.L||w.g==m)&&Lo(w),!k(b))for($=w.Ba.g.parse(b),b=0;b<$.length;b++){let et=$[b];const yt=et[0];if(!(yt<=w.K))if(w.K=yt,et=et[1],w.I==2)if(et[0]=="c"){w.M=et[1],w.ba=et[2];const ir=et[3];ir!=null&&(w.ka=ir,w.j.info("VER="+w.ka));const rs=et[4];rs!=null&&(w.za=rs,w.j.info("SVER="+w.za));const Cr=et[5];Cr!=null&&typeof Cr=="number"&&Cr>0&&(N=1.5*Cr,w.O=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const jr=m.g;if(jr){const Sa=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sa){var J=N.h;J.g||Sa.indexOf("spdy")==-1&&Sa.indexOf("quic")==-1&&Sa.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(wc(J,J.h),J.h=null))}if(N.G){const Uo=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(N.wa=Uo,rt(N.J,N.G,Uo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-m.F,w.j.info("Handshake RTT: "+w.T+"ms")),N=w;var me=m;if(N.na=Qd(N,N.L?N.ba:null,N.W),me.L){Ec(N.h,me);var ke=me,Ot=N.O;Ot&&(ke.H=Ot),ke.D&&(Kr(ke),Gr(ke)),N.g=me}else $d(N);w.i.length>0&&ts(w)}else et[0]!="stop"&&et[0]!="close"||ns(w,7);else w.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?ns(w,7):Dc(w):et[0]!="noop"&&w.l&&w.l.qa(et),w.A=0)}}Fr(4)}catch{}}var Ft=class{constructor(m,b){this.g=m,this.map=b}};function bc(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _c(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Zr(m){return m.h?1:m.g?m.g.size:0}function Yr(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function wc(m,b){m.g?m.g.add(b):m.h=b}function Ec(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}bc.prototype.cancel=function(){if(this.i=Tc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Tc(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const w of m.g.values())b=b.concat(w.G);return b}return T(m.i)}var Vd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Do(m,b){if(m){m=m.split("&");for(let w=0;w<m.length;w++){const N=m[w].indexOf("=");let $,J=null;N>=0?($=m[w].substring(0,N),J=m[w].substring(N+1)):$=m[w],b($,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Bn(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;m instanceof Bn?(this.l=m.l,rn(this,m.j),this.o=m.o,this.g=m.g,ii(this,m.u),this.h=m.h,Sc(this,Fd(m.i)),this.m=m.m):m&&(b=String(m).match(Vd))?(this.l=!1,rn(this,b[1]||"",!0),this.o=Xr(b[2]||""),this.g=Xr(b[3]||"",!0),ii(this,b[4]),this.h=Xr(b[5]||"",!0),Sc(this,b[6]||"",!0),this.m=Xr(b[7]||"")):(this.l=!1,this.i=new oi(null,this.l))}Bn.prototype.toString=function(){const m=[];var b=this.j;b&&m.push(va(b,ko,!0),":");var w=this.g;return(w||b=="file")&&(m.push("//"),(b=this.o)&&m.push(va(b,ko,!0),"@"),m.push(xs(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&m.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&m.push("/"),m.push(va(w,w.charAt(0)=="/"?Ac:zd,!0))),(w=this.i.toString())&&m.push("?",w),(w=this.m)&&m.push("#",va(w,Ld)),m.join("")},Bn.prototype.resolve=function(m){const b=Bt(this);let w=!!m.j;w?rn(b,m.j):w=!!m.o,w?b.o=m.o:w=!!m.g,w?b.g=m.g:w=m.u!=null;var N=m.h;if(w)ii(b,m.u);else if(w=!!m.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var $=b.h.lastIndexOf("/");$!=-1&&(N=b.h.slice(0,$+1)+N)}if($=N,$==".."||$==".")N="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){N=$.lastIndexOf("/",0)==0,$=$.split("/");const J=[];for(let me=0;me<$.length;){const ke=$[me++];ke=="."?N&&me==$.length&&J.push(""):ke==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),N&&me==$.length&&J.push("")):(J.push(ke),N=!0)}N=J.join("/")}else N=$}return w?b.h=N:w=m.i.toString()!=="",w?Sc(b,Fd(m.i)):w=!!m.m,w&&(b.m=m.m),b};function Bt(m){return new Bn(m)}function rn(m,b,w){m.j=w?Xr(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function ii(m,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);m.u=b}else m.u=null}function Sc(m,b,w){b instanceof oi?(m.i=b,Po(m.i,m.l)):(w||(b=va(b,ai)),m.i=new oi(b,m.l))}function rt(m,b,w){m.i.set(b,w)}function ya(m){return rt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Xr(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function va(m,b,w){return typeof m=="string"?(m=encodeURI(m).replace(b,jn),w&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function jn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var ko=/[#\/\?@]/g,zd=/[#\?:]/g,Ac=/[#\?]/g,ai=/[#\?@]/g,Ld=/#/g;function oi(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function Dn(m){m.g||(m.g=new Map,m.h=0,m.i&&Do(m.i,function(b,w){m.add(decodeURIComponent(b.replace(/\+/g," ")),w)}))}t=oi.prototype,t.add=function(m,b){Dn(this),this.i=null,m=li(this,m);let w=this.g.get(m);return w||this.g.set(m,w=[]),w.push(b),this.h+=1,this};function Ud(m,b){Dn(m),b=li(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function Nc(m,b){return Dn(m),b=li(m,b),m.g.has(b)}t.forEach=function(m,b){Dn(this),this.g.forEach(function(w,N){w.forEach(function($){m.call(b,$,N,this)},this)},this)};function Ic(m,b){Dn(m);let w=[];if(typeof b=="string")Nc(m,b)&&(w=w.concat(m.g.get(li(m,b))));else for(m=Array.from(m.g.values()),b=0;b<m.length;b++)w=w.concat(m[b]);return w}t.set=function(m,b){return Dn(this),this.i=null,m=li(this,m),Nc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},t.get=function(m,b){return m?(m=Ic(this,m),m.length>0?String(m[0]):b):b};function Oo(m,b,w){Ud(m,b),w.length>0&&(m.i=null,m.g.set(li(m,b),T(w)),m.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(let N=0;N<b.length;N++){var w=b[N];const $=xs(w);w=Ic(this,w);for(let J=0;J<w.length;J++){let me=$;w[J]!==""&&(me+="="+xs(w[J])),m.push(me)}}return this.i=m.join("&")};function Fd(m){const b=new oi;return b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),b}function li(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function Po(m,b){b&&!m.j&&(Dn(m),m.i=null,m.g.forEach(function(w,N){const $=N.toLowerCase();N!=$&&(Ud(this,N),Oo(this,$,w))},m)),m.j=b}function Nr(m,b){const w=new Tr;if(c.Image){const N=new Image;N.onload=v(rr,w,"TestLoadImage: loaded",!0,b,N),N.onerror=v(rr,w,"TestLoadImage: error",!1,b,N),N.onabort=v(rr,w,"TestLoadImage: abort",!1,b,N),N.ontimeout=v(rr,w,"TestLoadImage: timeout",!1,b,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=m}else b(!1)}function Rc(m,b){const w=new Tr,N=new AbortController,$=setTimeout(()=>{N.abort(),rr(w,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:N.signal}).then(J=>{clearTimeout($),J.ok?rr(w,"TestPingServer: ok",!0,b):rr(w,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout($),rr(w,"TestPingServer: error",!1,b)})}function rr(m,b,w,N,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),N(w)}catch{}}function ci(){this.g=new Id}function Jr(m){this.i=m.Sb||null,this.h=m.ab||!1}x(Jr,Rd),Jr.prototype.g=function(){return new xa(this.i,this.h)};function xa(m,b){zt.call(this),this.H=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(xa,zt),t=xa.prototype,t.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=b,this.readyState=1,Ir(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(b.body=m),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Mo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Mo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?ui(this):Ir(this),this.readyState==3&&Mo(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,ui(this))},t.Na=function(m){this.g&&(this.response=m,ui(this))},t.ga=function(){this.g&&ui(this)};function ui(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Ir(m)}t.setRequestHeader=function(m,b){this.A.append(m,b)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var w=b.next();!w.done;)w=w.value,m.push(w[0]+": "+w[1]),w=b.next();return m.join(`\r
`)};function Ir(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function sr(m){let b="";return Me(m,function(w,N){b+=N,b+=":",b+=w,b+=`\r
`}),b}function ba(m,b,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=sr(w),typeof m=="string"?w!=null&&xs(w):rt(m,b,w))}function ut(m){zt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(ut,zt);var Wr=/^https?$/i,Cc=["POST","PUT"];t=ut.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,b,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xc.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(J){_a(this,J);return}if(m=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var $ in N)w.set($,N[$]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const J of N.keys())w.set(J,N.get(J));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),$=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(Cc,b,void 0)>=0)||N||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,me]of w)this.g.setRequestHeader(J,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(J){_a(this,J)}};function _a(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.o=5,jc(m),bs(m)}function jc(m){m.A||(m.A=!0,Yt(m,"complete"),Yt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Yt(this,"complete"),Yt(this,"abort"),bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?wa(this):this.Xa())},t.Xa=function(){wa(this)};function wa(m){if(m.h&&typeof o<"u"){if(m.v&&Rr(m)==4)setTimeout(m.Ca.bind(m),0);else if(Yt(m,"readystatechange"),Rr(m)==4){m.h=!1;try{const J=m.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var w;if(!(w=b)){var N;if(N=J===0){let me=String(m.D).match(Vd)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),N=!Wr.test(me?me.toLowerCase():"")}w=N}if(w)Yt(m,"complete"),Yt(m,"success");else{m.o=6;try{var $=Rr(m)>2?m.g.statusText:""}catch{$=""}m.l=$+" ["+m.ca()+"]",jc(m)}}finally{bs(m)}}}}function bs(m,b){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const w=m.g;m.g=null,b||Yt(m,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Rr(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Rr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),np(b)}};function cn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function _s(m){const b={};m=(m.g&&Rr(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<m.length;N++){if(k(m[N]))continue;var w=Od(m[N]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=b[$]||[];b[$]=J,J.push(w)}Fe(b,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(m,b,w){return w&&w.internalChannelParams&&w.internalChannelParams[m]||b}function di(m){this.za=0,this.i=[],this.j=new Tr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=es("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=es("baseRetryDelayMs",5e3,m),this.Za=es("retryDelaySeedMs",1e4,m),this.Ta=es("forwardChannelMaxRetries",2,m),this.va=es("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new bc(m&&m.concurrentRequestLimit),this.Ba=new ci,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=di.prototype,t.ka=8,t.I=1,t.connect=function(m,b,w,N){Lt(0),this.W=m,this.H=b||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.J=Qd(this,null,this.W),ts(this)};function Dc(m){if(Vo(m),m.I==3){var b=m.V++,w=Bt(m.J);if(rt(w,"SID",m.M),rt(w,"RID",b),rt(w,"TYPE","terminate"),Ea(m,w),b=new Sr(m,m.j,b),b.M=2,b.A=ya(Bt(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=b.A,w=!0),w||(b.g=Zd(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Gr(b)}Kd(m)}function hi(m){m.g&&(Oc(m),m.g.cancel(),m.g=null)}function Vo(m){hi(m),m.v&&(c.clearTimeout(m.v),m.v=null),Lo(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function ts(m){if(!_c(m.h)&&!m.m){m.m=!0;var b=m.Ea;G||A(),ae||(G(),ae=!0),I.add(b,m),m.D=0}}function zo(m,b){return Zr(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=b.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=$r(g(m.Ea,m,b),Gd(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const $=new Sr(this,this.j,m);let J=this.o;if(this.U&&(J?(J=R(J),se(J,this.U)):J=this.U),this.u!==null||this.R||($.J=J,J=null),this.S)e:{for(var b=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(b+=N,b>4096){b=w;break e}if(b===4096||w===this.i.length-1){b=w+1;break e}}b=1e3}else b=1e3;b=Bd(this,$,b),w=Bt(this.J),rt(w,"RID",m),rt(w,"CVER",22),this.G&&rt(w,"X-HTTP-Session-Id",this.G),Ea(this,w),J&&(this.R?b="headers="+xs(sr(J))+"&"+b:this.u&&ba(w,this.u,J)),wc(this.h,$),this.Ra&&rt(w,"TYPE","init"),this.S?(rt(w,"$req",b),rt(w,"SID","null"),$.U=!0,Hr($,w,null)):Hr($,w,b),this.I=2}}else this.I==3&&(m?kc(this,m):this.i.length==0||_c(this.h)||kc(this))};function kc(m,b){var w;b?w=b.l:w=m.V++;const N=Bt(m.J);rt(N,"SID",m.M),rt(N,"RID",w),rt(N,"AID",m.K),Ea(m,N),m.u&&m.o&&ba(N,m.u,m.o),w=new Sr(m,m.j,w,m.D+1),m.u===null&&(w.J=m.o),b&&(m.i=b.G.concat(m.i)),b=Bd(m,w,1e3),w.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),wc(m.h,w),Hr(w,N,b)}function Ea(m,b){m.H&&Me(m.H,function(w,N){rt(b,N,w)}),m.l&&Me({},function(w,N){rt(b,N,w)})}function Bd(m,b,w){w=Math.min(m.i.length,w);const N=m.l?g(m.l.Ka,m.l,m):null;e:{var $=m.i;let ke=-1;for(;;){const Ot=["count="+w];ke==-1?w>0?(ke=$[0].g,Ot.push("ofs="+ke)):ke=0:Ot.push("ofs="+ke);let et=!0;for(let yt=0;yt<w;yt++){var J=$[yt].g;const ir=$[yt].map;if(J-=ke,J<0)ke=Math.max(0,$[yt].g-100),et=!1;else try{J="req"+J+"_"||"";try{var me=ir instanceof Map?ir:Object.entries(ir);for(const[rs,Cr]of me){let jr=Cr;d(Cr)&&(jr=si(Cr)),Ot.push(J+rs+"="+encodeURIComponent(jr))}}catch(rs){throw Ot.push(J+"type="+encodeURIComponent("_badmap")),rs}}catch{N&&N(ir)}}if(et){me=Ot.join("&");break e}}me=void 0}return m=m.i.splice(0,w),b.G=m,me}function $d(m){if(!m.g&&!m.v){m.Y=1;var b=m.Da;G||A(),ae||(G(),ae=!0),I.add(b,m),m.A=0}}function Ta(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=$r(g(m.Da,m),Gd(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,qd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=$r(g(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),hi(this),qd(this))};function Oc(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function qd(m){m.g=new Sr(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var b=Bt(m.na);rt(b,"RID","rpc"),rt(b,"SID",m.M),rt(b,"AID",m.K),rt(b,"CI",m.F?"0":"1"),!m.F&&m.ia&&rt(b,"TO",m.ia),rt(b,"TYPE","xmlhttp"),Ea(m,b),m.u&&m.o&&ba(b,m.u,m.o),m.O&&(m.g.H=m.O);var w=m.g;m=m.ba,w.M=1,w.A=ya(Bt(b)),w.u=null,w.R=!0,Co(w,m)}t.Va=function(){this.C!=null&&(this.C=null,hi(this),Ta(this),Lt(19))};function Lo(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Hd(m,b){var w=null;if(m.g==b){Lo(m),Oc(m),m.g=null;var N=2}else if(Yr(m.h,b))w=b.G,Ec(m.h,b),N=1;else return;if(m.I!=0){if(b.o)if(N==1){w=b.u?b.u.length:0,b=Date.now()-b.F;var $=m.D;N=Ro(),Yt(N,new Br(N,w)),ts(m)}else $d(m);else if($=b.m,$==3||$==0&&b.X>0||!(N==1&&zo(m,b)||N==2&&Ta(m)))switch(w&&w.length>0&&(b=m.h,b.i=b.i.concat(w)),$){case 1:ns(m,5);break;case 4:ns(m,10);break;case 3:ns(m,6);break;default:ns(m,2)}}}function Gd(m,b){let w=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(w*=2),w*b}function ns(m,b){if(m.j.info("Error code "+b),b==2){var w=g(m.bb,m),N=m.Ua;const $=!N;N=new Bn(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||rn(N,"https"),ya(N),$?Nr(N.toString(),w):Rc(N.toString(),w)}else Lt(2);m.I=0,m.l&&m.l.pa(b),Kd(m),Vo(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Kd(m){if(m.I=0,m.ja=[],m.l){const b=Tc(m.h);(b.length!=0||m.i.length!=0)&&(j(m.ja,b),j(m.ja,m.i),m.h.i.length=0,T(m.i),m.i.length=0),m.l.oa()}}function Qd(m,b,w){var N=w instanceof Bn?Bt(w):new Bn(w);if(N.g!="")b&&(N.g=b+"."+N.g),ii(N,N.u);else{var $=c.location;N=$.protocol,b=b?b+"."+$.hostname:$.hostname,$=+$.port;const J=new Bn(null);N&&rn(J,N),b&&(J.g=b),$&&ii(J,$),w&&(J.h=w),N=J}return w=m.G,b=m.wa,w&&b&&rt(N,w,b),rt(N,"VER",m.ka),Ea(m,N),N}function Zd(m,b,w){if(b&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Aa&&!m.ma?new ut(new Jr({ab:w})):new ut(m.ma),b.Fa(m.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yd(){}t=Yd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function fi(){}fi.prototype.g=function(m,b){return new En(m,b)};function En(m,b){zt.call(this),this.g=new di(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(m?m["X-WebChannel-Client-Profile"]=b.sa:m={"X-WebChannel-Client-Profile":b.sa}),this.g.U=m,(m=b&&b.Qb)&&!k(m)&&(this.g.u=m),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!k(b)&&(this.g.G=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new ws(this)}x(En,zt),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Dc(this.g)},En.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var w={};w.__data__=m,m=w}else this.v&&(w={},w.__data__=si(m),m=w);b.i.push(new Ft(b.Ya++,m)),b.I==3&&ts(b)},En.prototype.N=function(){this.g.l=null,delete this.j,Dc(this.g),delete this.g,En.Z.N.call(this)};function Xd(m){ln.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){e:{for(const w in b){m=w;break e}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}x(Xd,ln);function Jd(){tr.call(this),this.status=1}x(Jd,tr);function ws(m){this.g=m}x(ws,Yd),ws.prototype.ra=function(){Yt(this.g,"a")},ws.prototype.qa=function(m){Yt(this.g,new Xd(m))},ws.prototype.pa=function(m){Yt(this.g,new Jd)},ws.prototype.oa=function(){Yt(this.g,"b")},fi.prototype.createWebChannel=fi.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,WS=function(){return new fi},JS=function(){return Ro()},XS=kt,Fy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pa.NO_ERROR=0,pa.TIMEOUT=8,pa.HTTP_ERROR=6,_f=pa,vc.COMPLETE="complete",YS=vc,Cd.EventType=Er,Er.OPEN="a",Er.CLOSE="b",Er.ERROR="c",Er.MESSAGE="d",zt.prototype.listen=zt.prototype.J,Au=Cd,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,ZS=ut}).apply(typeof of<"u"?of:typeof self<"u"?self:typeof window<"u"?window:{});const yE="@firebase/firestore",vE="4.9.3";class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let ac="12.7.0";const uo=new kv("@firebase/firestore");function El(){return uo.logLevel}function de(t,...e){if(uo.logLevel<=qe.DEBUG){const n=e.map(Mv);uo.debug(`Firestore (${ac}): ${t}`,...n)}}function Nn(t,...e){if(uo.logLevel<=qe.ERROR){const n=e.map(Mv);uo.error(`Firestore (${ac}): ${t}`,...n)}}function ho(t,...e){if(uo.logLevel<=qe.WARN){const n=e.map(Mv);uo.warn(`Firestore (${ac}): ${t}`,...n)}}function Mv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,eA(t,r,n)}function eA(t,e,n){let r=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Nn(r),new Error(r)}function we(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||eA(e,a,r)}function je(t,e){return t}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class tA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class mP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class pP{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new hs,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},d=h=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new hs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new tA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class gP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new gP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){we(this.o===void 0,3512);const r=o=>{o.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Vv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=xP(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function By(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return py(a)===py(o)?Ce(a,o):py(a)?1:-1}return Ce(t.length,e.length)}const bP=55296,_P=57343;function py(t){const e=t.charCodeAt(0);return e>=bP&&e<=_P}function zl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}function nA(t){return t+"\0"}const bE="__name__";class ls{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ls.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ls?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=ls.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Ce(e.length,n.length)}static compareSegments(e,n){const r=ls.isNumericId(e),a=ls.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?ls.extractNumericId(e).compare(ls.extractNumericId(n)):By(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class Je extends ls{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const wP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends ls{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return wP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bE}static keyField(){return new Et([bE])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(o(),a++)}if(o(),c)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Je.fromString(e))}static fromName(e){return new pe(Je.fromString(e).popFirst(5))}static empty(){return new pe(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Je(e.slice()))}}function rA(t,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EP(t,e,n,r){if(e===!0&&r===!0)throw new fe(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _E(t){if(!pe.isDocumentKey(t))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wE(t){if(pe.isDocumentKey(t))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function Jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nm(t);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function TP(t,e){if(e<=0)throw new fe(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function fd(t,e){if(!sA(t))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new fe(te.INVALID_ARGUMENT,n);return!0}const EE=-62135596800,TE=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*TE);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<EE)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TE}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fd(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-EE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Qt("string",at._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new at(0,0))}static max(){return new Ae(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gu=-1;class Gf{constructor(e,n,r,a){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=a}}function $y(t){return t.fields.find((e=>e.kind===2))}function qa(t){return t.fields.filter((e=>e.kind!==2))}Gf.UNKNOWN_ID=-1;class wf{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ku{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ku(0,Wn.min())}}function SP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Wn(a,pe.empty(),e)}function iA(t){return new Wn(t.readTime,t.key,Gu)}class Wn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wn(Ae.min(),pe.empty(),Gu)}static max(){return new Wn(Ae.max(),pe.empty(),Gu)}}function zv(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}const aA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function To(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==aA)throw t;de("LocalStore","Unexpectedly lost primary lease")}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):B.reject(n)}static resolve(e){return new B(((n,r)=>{n(e)}))}static reject(e){return new B(((n,r)=>{r(e)}))}static waitFor(e){return new B(((n,r)=>{let a=0,o=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++o,c&&o===a&&n()}),(h=>r(h)))})),c=!0,o===a&&n()}))}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next((a=>a?B.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new B(((r,a)=>{const o=e.length,c=new Array(o);let d=0;for(let h=0;h<o;h++){const g=h;n(e[g]).next((v=>{c[g]=v,++d,d===o&&r(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new B(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}const Yn="SimpleDb";class Im{static open(e,n,r,a){try{return new Im(n,e.transaction(a,r))}catch(o){throw new Ou(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new hs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Ou(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=Lv(r.target.error);this.S.reject(new Ou(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(de(Yn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new NP(n)}}class Wi{static delete(e){return de(Yn,"Removing database:",e),Ga(DS().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!FS())return!1;if(Wi.F())return!0;const e=en(),n=Wi.M(e),r=0<n&&n<10,a=lA(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Wi.M(en())===12.2&&Nn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(de(Yn,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const c=o.target.result;n(c)},a.onblocked=()=>{r(new Ou(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const c=o.target.error;c.name==="VersionError"?r(new fe(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new fe(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new Ou(e,c))},a.onupgradeneeded=o=>{de(Yn,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const c=o.target.result;this.N.k(c,a.transaction,o.oldVersion,this.version).next((()=>{de(Yn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,a){const o=n==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const d=Im.open(this.db,e,o?"readonly":"readwrite",r),h=a(d).next((g=>(d.C(),g))).catch((g=>(d.abort(g),B.reject(g)))).toPromise();return h.catch((()=>{})),await d.D,h}catch(d){const h=d,g=h.name!=="FirebaseError"&&c<3;if(de(Yn,"Transaction failed with error:",h.message,"Retrying:",g),this.close(),!g)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function lA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class AP{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Ga(this.U.delete())}}class Ou extends fe{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function aa(t){return t.name==="IndexedDbTransactionError"}class NP{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(de(Yn,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(de(Yn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ga(r)}add(e){return de(Yn,"ADD",this.store.name,e,e),Ga(this.store.add(e))}get(e){return Ga(this.store.get(e)).next((n=>(n===void 0&&(n=null),de(Yn,"GET",this.store.name,e,n),n)))}delete(e){return de(Yn,"DELETE",this.store.name,e),Ga(this.store.delete(e))}count(){return de(Yn,"COUNT",this.store.name),Ga(this.store.count())}J(e,n){const r=this.options(e,n),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(r.range);return new B(((c,d)=>{o.onerror=h=>{d(h.target.error)},o.onsuccess=h=>{c(h.target.result)}}))}{const o=this.cursor(r),c=[];return this.H(o,((d,h)=>{c.push(h)})).next((()=>c))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new B(((a,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{a(c.target.result)}}))}Z(e,n){de(Yn,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const a=this.cursor(r);return this.H(a,((o,c,d)=>d.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const a=this.cursor(r);return this.H(a,n)}te(e){const n=this.cursor({});return new B(((r,a)=>{n.onerror=o=>{const c=Lv(o.target.error);a(c)},n.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next((d=>{d?c.continue():r()})):r()}}))}H(e,n){const r=[];return new B(((a,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const h=new AP(d),g=n(d.primaryKey,d.value,h);if(g instanceof B){const v=g.catch((x=>(h.done(),B.reject(x))));r.push(v)}h.isDone?a():h.G===null?d.continue():d.continue(h.G)}})).next((()=>B.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ga(t){return new B(((e,n)=>{t.onsuccess=r=>{const a=r.target.result;e(a)},t.onerror=r=>{const a=Lv(r.target.error);n(a)}}))}let SE=!1;function Lv(t){const e=Wi.M(en());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return SE||(SE=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Pu="IndexBackfiller";class IP{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){de(Pu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();de(Pu,`Documents written: ${n}`)}catch(n){aa(n)?de(Pu,"Ignoring IndexedDB error during index backfill: ",n):await To(n)}await this.re(6e4)}))}}class RP{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let a=n,o=!0;return B.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return de(Pu,`Processing collection: ${c}`),this.oe(e,c,a).next((d=>{a-=d,r.add(c)}));o=!1})))).next((()=>n-a))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((a=>this.localStore.localDocuments.getNextDocuments(e,n,a,r).next((o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,o))).next((d=>(de(Pu,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,n,d)))).next((()=>c.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((a,o)=>{const c=iA(o);zv(c,r)>0&&(r=c)})),new Wn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class gr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gr.ce=-1;const Wa=-1;function Rm(t){return t==null}function Qu(t){return t===0&&1/t==-1/0}function CP(t){return typeof t=="number"&&Number.isInteger(t)&&!Qu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Kf="";function bn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AE(e)),e=jP(t.get(n),e);return AE(e)}function jP(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case Kf:n+="";break;default:n+=o}}return n}function AE(t){return t+Kf+""}function us(t){const e=t.length;if(we(e>=2,64408,{path:t}),e===2)return we(t.charAt(0)===Kf&&t.charAt(1)==="",56145,{path:t}),Je.emptyPath();const n=e-2,r=[];let a="";for(let o=0;o<e;){const c=t.indexOf(Kf,o);switch((c<0||c>n)&&xe(50515,{path:t}),t.charAt(c+1)){case"":const d=t.substring(o,c);let h;a.length===0?h=d:(a+=d,h=a,a=""),r.push(h);break;case"":a+=t.substring(o,c),a+="\0";break;case"":a+=t.substring(o,c+1);break;default:xe(61167,{path:t})}o=c+2}return new Je(r)}const Ha="remoteDocuments",md="owner",yl="owner",Zu="mutationQueues",DP="userId",Pr="mutations",NE="batchId",Xa="userMutationsIndex",IE=["userId","batchId"];function Ef(t,e){return[t,bn(e)]}function cA(t,e,n){return[t,bn(e),n]}const kP={},Ll="documentMutations",Qf="remoteDocumentsV14",OP=["prefixPath","collectionGroup","readTime","documentId"],Tf="documentKeyIndex",PP=["prefixPath","collectionGroup","documentId"],uA="collectionGroupIndex",MP=["collectionGroup","readTime","prefixPath","documentId"],Yu="remoteDocumentGlobal",qy="remoteDocumentGlobalKey",Ul="targets",dA="queryTargetsIndex",VP=["canonicalId","targetId"],Fl="targetDocuments",zP=["targetId","path"],Uv="documentTargetsIndex",LP=["path","targetId"],Zf="targetGlobalKey",eo="targetGlobal",Xu="collectionParents",UP=["collectionId","parent"],Bl="clientMetadata",FP="clientId",Cm="bundles",BP="bundleId",jm="namedQueries",$P="name",Fv="indexConfiguration",qP="indexId",Hy="collectionGroupIndex",HP="collectionGroup",Mu="indexState",GP=["indexId","uid"],hA="sequenceNumberIndex",KP=["uid","sequenceNumber"],Vu="indexEntries",QP=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fA="documentKeyIndex",ZP=["indexId","uid","orderedDocumentKey"],Dm="documentOverlays",YP=["userId","collectionPath","documentId"],Gy="collectionPathOverlayIndex",XP=["userId","collectionPath","largestBatchId"],mA="collectionGroupOverlayIndex",JP=["userId","collectionGroup","largestBatchId"],Bv="globals",WP="name",pA=[Zu,Pr,Ll,Ha,Ul,md,eo,Fl,Bl,Yu,Xu,Cm,jm],eM=[...pA,Dm],gA=[Zu,Pr,Ll,Qf,Ul,md,eo,Fl,Bl,Yu,Xu,Cm,jm,Dm],yA=gA,$v=[...yA,Fv,Mu,Vu],tM=$v,vA=[...$v,Bv],nM=vA;class Ky extends oA{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function tn(t,e){const n=je(t);return Wi.O(n.le,e)}function RE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function So(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class _t{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lf(this.root,e,this.comparator,!1)}getReverseIterator(){return new lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lf(this.root,e,this.comparator,!0)}}class lf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??pn.RED,this.left=a??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new pn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return pn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ct{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CE(this.data.getIterator())}getIteratorFrom(e){return new CE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class CE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vl(t){return t.hasNext()?t.getNext():void 0}class yr{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new yr([])}unionWith(e){let n=new ct(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class bA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bA("Invalid base64 string: "+o):o}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const rM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(we(!!t,39018),typeof t=="string"){let e=0;const n=rM.exec(t);if(we(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zs(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}const _A="server_timestamp",wA="__type__",EA="__previous_value__",TA="__local_write_time__";function km(t){return(t?.mapValue?.fields||{})[wA]?.stringValue===_A}function Om(t){const e=t.mapValue.fields[EA];return km(e)?Om(e):e}function Ju(t){const e=Qs(t.mapValue.fields[TA].timestampValue);return new at(e.seconds,e.nanos)}class sM{constructor(e,n,r,a,o,c,d,h,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=g,this.isUsingEmulator=v}}const Yf="(default)";class fo{constructor(e,n){this.projectId=e,this.database=n||Yf}static empty(){return new fo("","")}get isDefaultDatabase(){return this.database===Yf}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}const qv="__type__",SA="__max__",Gi={mapValue:{fields:{__type__:{stringValue:SA}}}},Hv="__vector__",$l="value",Sf={nullValue:"NULL_VALUE"};function ta(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?km(t)?4:AA(t)?9007199254740991:Pm(t)?10:11:xe(28295,{value:t})}function gs(t,e){if(t===e)return!0;const n=ta(t);if(n!==ta(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ju(t).isEqual(Ju(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Qs(a.timestampValue),d=Qs(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return Zs(a.bytesValue).isEqual(Zs(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return xt(a.geoPointValue.latitude)===xt(o.geoPointValue.latitude)&&xt(a.geoPointValue.longitude)===xt(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return xt(a.integerValue)===xt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=xt(a.doubleValue),d=xt(o.doubleValue);return c===d?Qu(c)===Qu(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return zl(t.arrayValue.values||[],e.arrayValue.values||[],gs);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},d=o.mapValue.fields||{};if(RE(c)!==RE(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!gs(c[h],d[h])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function Wu(t,e){return(t.values||[]).find((n=>gs(n,e)))!==void 0}function na(t,e){if(t===e)return 0;const n=ta(t),r=ta(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=xt(o.integerValue||o.doubleValue),h=xt(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return jE(t.timestampValue,e.timestampValue);case 4:return jE(Ju(t),Ju(e));case 5:return By(t.stringValue,e.stringValue);case 6:return(function(o,c){const d=Zs(o),h=Zs(c);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),h=c.split("/");for(let g=0;g<d.length&&g<h.length;g++){const v=Ce(d[g],h[g]);if(v!==0)return v}return Ce(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=Ce(xt(o.latitude),xt(c.latitude));return d!==0?d:Ce(xt(o.longitude),xt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return DE(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const d=o.fields||{},h=c.fields||{},g=d[$l]?.arrayValue,v=h[$l]?.arrayValue,x=Ce(g?.values?.length||0,v?.values?.length||0);return x!==0?x:DE(g,v)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Gi.mapValue&&c===Gi.mapValue)return 0;if(o===Gi.mapValue)return 1;if(c===Gi.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),g=c.fields||{},v=Object.keys(g);h.sort(),v.sort();for(let x=0;x<h.length&&x<v.length;++x){const E=By(h[x],v[x]);if(E!==0)return E;const T=na(d[h[x]],g[v[x]]);if(T!==0)return T}return Ce(h.length,v.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function jE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=Qs(t),r=Qs(e),a=Ce(n.seconds,r.seconds);return a!==0?a:Ce(n.nanos,r.nanos)}function DE(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=na(n[a],r[a]);if(o)return o}return Ce(n.length,r.length)}function ql(t){return Qy(t)}function Qy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Qs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Zs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=Qy(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${Qy(n.fields[c])}`;return a+"}"})(t.mapValue):xe(61005,{value:t})}function Af(t){switch(ta(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Om(t);return e?16+Af(e):16;case 5:return 2*t.stringValue.length;case 6:return Zs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+Af(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return So(r.fields,((o,c)=>{a+=o.length+Af(c)})),a})(t.mapValue);default:throw xe(13486,{value:t})}}function mo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zy(t){return!!t&&"integerValue"in t}function ed(t){return!!t&&"arrayValue"in t}function kE(t){return!!t&&"nullValue"in t}function OE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nf(t){return!!t&&"mapValue"in t}function Pm(t){return(t?.mapValue?.fields||{})[qv]?.stringValue===Hv}function zu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return So(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=zu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zu(t.arrayValue.values[n]);return e}return{...t}}function AA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===SA}const NA={mapValue:{fields:{[qv]:{stringValue:Hv},[$l]:{arrayValue:{}}}}};function iM(t){return"nullValue"in t?Sf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?mo(fo.empty(),pe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Pm(t)?NA:{mapValue:{}}:xe(35942,{value:t})}function aM(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?mo(fo.empty(),pe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?NA:"mapValue"in t?Pm(t)?{mapValue:{}}:Gi:xe(61959,{value:t})}function PE(t,e){const n=na(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function ME(t,e){const n=na(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(n)}setAll(e){let n=Et.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=zu(c):a.push(d.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Nf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Nf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){So(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new zn(zu(this.value))}}function IA(t){const e=[];return So(t.fields,((n,r)=>{const a=new Et([n]);if(Nf(r)){const o=IA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new yr(e)}class Ct{constructor(e,n,r,a,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Ct(e,0,Ae.min(),Ae.min(),Ae.min(),zn.empty(),0)}static newFoundDocument(e,n,r,a){return new Ct(e,1,n,Ae.min(),r,a,0)}static newNoDocument(e,n){return new Ct(e,2,n,Ae.min(),Ae.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,Ae.min(),Ae.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ra{constructor(e,n){this.position=e,this.inclusive=n}}function VE(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],c=t.position[a];if(o.field.isKeyField()?r=pe.comparator(pe.fromName(c.referenceValue),n.key):r=na(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gs(t.position[n],e.position[n]))return!1;return!0}class Xf{constructor(e,n="asc"){this.field=e,this.dir=n}}function oM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class RA{}class He extends RA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lM(e,n,r):n==="array-contains"?new dM(e,r):n==="in"?new PA(e,r):n==="not-in"?new hM(e,r):n==="array-contains-any"?new fM(e,r):new He(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cM(e,r):new uM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(na(n,this.value)):n!==null&&ta(this.value)===ta(n)&&this.matchesComparison(na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ot extends RA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ot(e,n)}matches(e){return Hl(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Hl(t){return t.op==="and"}function Yy(t){return t.op==="or"}function Gv(t){return CA(t)&&Hl(t)}function CA(t){for(const e of t.filters)if(e instanceof ot)return!1;return!0}function Xy(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+ql(t.value);if(Gv(t))return t.filters.map((e=>Xy(e))).join(",");{const e=t.filters.map((n=>Xy(n))).join(",");return`${t.op}(${e})`}}function jA(t,e){return t instanceof He?(function(r,a){return a instanceof He&&r.op===a.op&&r.field.isEqual(a.field)&&gs(r.value,a.value)})(t,e):t instanceof ot?(function(r,a){return a instanceof ot&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,d)=>o&&jA(c,a.filters[d])),!0):!1})(t,e):void xe(19439)}function DA(t,e){const n=t.filters.concat(e);return ot.create(n,t.op)}function kA(t){return t instanceof He?(function(n){return`${n.field.canonicalString()} ${n.op} ${ql(n.value)}`})(t):t instanceof ot?(function(n){return n.op.toString()+" {"+n.getFilters().map(kA).join(" ,")+"}"})(t):"Filter"}class lM extends He{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class cM extends He{constructor(e,n){super(e,"in",n),this.keys=OA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class uM extends He{constructor(e,n){super(e,"not-in",n),this.keys=OA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function OA(t,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class dM extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ed(n)&&Wu(n.arrayValue,this.value)}}class PA extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wu(this.value.arrayValue,n)}}class hM extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wu(this.value.arrayValue,n)}}class fM extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ed(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Wu(this.value.arrayValue,r)))}}class mM{constructor(e,n=null,r=[],a=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function Jy(t,e=null,n=[],r=[],a=null,o=null,c=null){return new mM(t,e,n,r,a,o,c)}function po(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Xy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Rm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ql(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ql(r))).join(",")),e.Te=n}return e.Te}function pd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zE(t.startAt,e.startAt)&&zE(t.endAt,e.endAt)}function Jf(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Wf(t,e){return t.filters.filter((n=>n instanceof He&&n.field.isEqual(e)))}function LE(t,e,n){let r=Sf,a=!0;for(const o of Wf(t,e)){let c=Sf,d=!0;switch(o.op){case"<":case"<=":c=iM(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,d=!1;break;case"!=":case"not-in":c=Sf}PE({value:r,inclusive:a},{value:c,inclusive:d})<0&&(r=c,a=d)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const c=n.position[o];PE({value:r,inclusive:a},{value:c,inclusive:n.inclusive})<0&&(r=c,a=n.inclusive);break}}return{value:r,inclusive:a}}function UE(t,e,n){let r=Gi,a=!0;for(const o of Wf(t,e)){let c=Gi,d=!0;switch(o.op){case">=":case">":c=aM(o.value),d=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,d=!1;break;case"!=":case"not-in":c=Gi}ME({value:r,inclusive:a},{value:c,inclusive:d})>0&&(r=c,a=d)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const c=n.position[o];ME({value:r,inclusive:a},{value:c,inclusive:n.inclusive})>0&&(r=c,a=n.inclusive);break}}return{value:r,inclusive:a}}class oc{constructor(e,n=null,r=[],a=[],o=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pM(t,e,n,r,a,o,c,d){return new oc(t,e,n,r,a,o,c,d)}function gd(t){return new oc(t)}function FE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Kv(t){return t.collectionGroup!==null}function Rl(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ct(Et.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Xf(o,r))})),n.has(Et.keyField().canonicalString())||e.Ie.push(new Xf(Et.keyField(),r))}return e.Ie}function vr(t){const e=je(t);return e.Ee||(e.Ee=gM(e,Rl(t))),e.Ee}function gM(t,e){if(t.limitType==="F")return Jy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Xf(a.field,o)}));const n=t.endAt?new ra(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ra(t.startAt.position,t.startAt.inclusive):null;return Jy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wy(t,e){const n=t.filters.concat([e]);return new oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function em(t,e,n){return new oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mm(t,e){return pd(vr(t),vr(e))&&t.limitType===e.limitType}function MA(t){return`${po(vr(t))}|lt:${t.limitType}`}function Tl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>kA(a))).join(", ")}]`),Rm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>ql(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>ql(a))).join(",")),`Target(${r})`})(vr(t))}; limitType=${t.limitType})`}function yd(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of Rl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,h){const g=VE(c,d,h);return c.inclusive?g<=0:g<0})(r.startAt,Rl(r),a)||r.endAt&&!(function(c,d,h){const g=VE(c,d,h);return c.inclusive?g>=0:g>0})(r.endAt,Rl(r),a))})(t,e)}function yM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VA(t){return(e,n)=>{let r=!1;for(const a of Rl(t)){const o=vM(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function vM(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):(function(o,c,d){const h=c.data.field(o),g=d.data.field(o);return h!==null&&g!==null?na(h,g):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:t.dir})}}class ei{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return xA(this.inner)}size(){return this.innerSize}}const xM=new _t(pe.comparator);function Xn(){return xM}const zA=new _t(pe.comparator);function Nu(...t){let e=zA;for(const n of t)e=e.insert(n.key,n);return e}function LA(t){let e=zA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ds(){return Lu()}function UA(){return Lu()}function Lu(){return new ei((t=>t.toString()),((t,e)=>t.isEqual(e)))}const bM=new _t(pe.comparator),_M=new ct(pe.comparator);function ze(...t){let e=_M;for(const n of t)e=e.add(n);return e}const wM=new ct(Ce);function EM(){return wM}function Qv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qu(e)?"-0":e}}function FA(t){return{integerValue:""+t}}function TM(t,e){return CP(e)?FA(e):Qv(t,e)}class Vm{constructor(){this._=void 0}}function SM(t,e,n){return t instanceof Gl?(function(a,o){const c={fields:{[wA]:{stringValue:_A},[TA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&km(o)&&(o=Om(o)),o&&(c.fields[EA]=o),{mapValue:c}})(n,e):t instanceof Kl?$A(t,e):t instanceof Ql?qA(t,e):(function(a,o){const c=BA(a,o),d=BE(c)+BE(a.Ae);return Zy(c)&&Zy(a.Ae)?FA(d):Qv(a.serializer,d)})(t,e)}function AM(t,e,n){return t instanceof Kl?$A(t,e):t instanceof Ql?qA(t,e):n}function BA(t,e){return t instanceof td?(function(r){return Zy(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Gl extends Vm{}class Kl extends Vm{constructor(e){super(),this.elements=e}}function $A(t,e){const n=HA(e);for(const r of t.elements)n.some((a=>gs(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Ql extends Vm{constructor(e){super(),this.elements=e}}function qA(t,e){let n=HA(e);for(const r of t.elements)n=n.filter((a=>!gs(a,r)));return{arrayValue:{values:n}}}class td extends Vm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function BE(t){return xt(t.integerValue||t.doubleValue)}function HA(t){return ed(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class GA{constructor(e,n){this.field=e,this.transform=n}}function NM(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Kl&&a instanceof Kl||r instanceof Ql&&a instanceof Ql?zl(r.elements,a.elements,gs):r instanceof td&&a instanceof td?gs(r.Ae,a.Ae):r instanceof Gl&&a instanceof Gl})(t.transform,e.transform)}class IM{constructor(e,n){this.version=e,this.transformResults=n}}class Rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function If(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zm{}function KA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lm(t.key,Rn.none()):new lc(t.key,t.data,Rn.none());{const n=t.data,r=zn.empty();let a=new ct(Et.comparator);for(let o of e.fields)if(!a.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new oa(t.key,r,new yr(a.toArray()),Rn.none())}}function RM(t,e,n){t instanceof lc?(function(a,o,c){const d=a.value.clone(),h=qE(a.fieldTransforms,o,c.transformResults);d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof oa?(function(a,o,c){if(!If(a.precondition,o))return void o.convertToUnknownDocument(c.version);const d=qE(a.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(QA(a)),h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Uu(t,e,n,r){return t instanceof lc?(function(o,c,d,h){if(!If(o.precondition,c))return d;const g=o.value.clone(),v=HE(o.fieldTransforms,h,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,r):t instanceof oa?(function(o,c,d,h){if(!If(o.precondition,c))return d;const g=HE(o.fieldTransforms,h,c),v=c.data;return v.setAll(QA(o)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((x=>x.field)))})(t,e,n,r):(function(o,c,d){return If(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function CM(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=BA(r.transform,a||null);o!=null&&(n===null&&(n=zn.empty()),n.set(r.field,o))}return n||null}function $E(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&zl(r,a,((o,c)=>NM(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lc extends zm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class oa extends zm{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function QA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function qE(t,e,n){const r=new Map;we(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],c=o.transform,d=e.data.field(o.field);r.set(o.field,AM(c,d,n[a]))}return r}function HE(t,e,n){const r=new Map;for(const a of t){const o=a.transform,c=n.data.field(a.field);r.set(a.field,SM(o,c,e))}return r}class Lm extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZA extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zv{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&RM(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Uu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UA();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(a.key)?null:d;const h=KA(c,d);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&zl(this.mutations,e.mutations,((n,r)=>$E(n,r)))&&zl(this.baseMutations,e.baseMutations,((n,r)=>$E(n,r)))}}class Yv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){we(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return bM})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new Yv(e,n,r,a)}}class Xv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jM{constructor(e,n){this.count=e,this.unchangedNames=n}}var Kt,Qe;function DM(t){switch(t){case te.OK:return xe(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function YA(t){if(t===void 0)return Nn("GRPC error has no .code"),te.UNKNOWN;switch(t){case Kt.OK:return te.OK;case Kt.CANCELLED:return te.CANCELLED;case Kt.UNKNOWN:return te.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return te.INTERNAL;case Kt.UNAVAILABLE:return te.UNAVAILABLE;case Kt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Kt.NOT_FOUND:return te.NOT_FOUND;case Kt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Kt.ABORTED:return te.ABORTED;case Kt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Kt.DATA_LOSS:return te.DATA_LOSS;default:return xe(39323,{code:t})}}(Qe=Kt||(Kt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function kM(){return new TextEncoder}const OM=new Ji([4294967295,4294967295],0);function GE(t){const e=kM().encode(t),n=new QS;return n.update(e),new Uint8Array(n.digest())}function KE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ji([n,r],0),new Ji([a,o],0)]}class Jv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Iu(`Invalid padding: ${n}`);if(r<0)throw new Iu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ji.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Ji.fromNumber(r)));return a.compare(OM)===1&&(a=new Ji([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=GE(e),[r,a]=KE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Jv(o,a,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=GE(e),[r,a]=KE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Um{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,vd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Um(Ae.min(),a,new _t(Ce),Xn(),ze())}}class vd{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vd(r,n,ze(),ze(),ze())}}class Rf{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class XA{constructor(e,n){this.targetId=e,this.Ce=n}}class JA{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class QE{constructor(){this.ve=0,this.Fe=ZE(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),r=ze();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:xe(38017,{changeType:o})}})),new vd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ZE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class PM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xn(),this.Je=cf(),this.He=cf(),this.Ye=new _t(Ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(Jf(o))if(r===0){const c=new pe(o.path);this.et(n,c,Ct.newNoDocument(c,Ae.min()))}else we(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(e),h=d?this.ct(d,e,c):1;if(h!==0){this.it(n);const g=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let c,d;try{c=Zs(r).toUint8Array()}catch(h){if(h instanceof bA)return ho("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Jv(c,a,o)}catch(h){return ho(h instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&Jf(d.target)){const h=new pe(d.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,Ct.newNoDocument(h,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let r=ze();this.He.forEach(((o,c)=>{let d=!0;c.forEachWhile((h=>{const g=this.ot(h);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Um(e,n,this.Ye,this.je,r);return this.je=Xn(),this.Je=cf(),this.He=cf(),this.Ye=new _t(Ce),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new QE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ct(Ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ct(Ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new QE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cf(){return new _t(pe.comparator)}function ZE(){return new _t(pe.comparator)}const MM={asc:"ASCENDING",desc:"DESCENDING"},VM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zM={and:"AND",or:"OR"};class LM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ev(t,e){return t.useProto3Json||Rm(e)?e:{value:e}}function Zl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function UM(t,e){return Zl(t,e.toTimestamp())}function Cn(t){return we(!!t,49232),Ae.fromTimestamp((function(n){const r=Qs(n);return new at(r.seconds,r.nanos)})(t))}function Wv(t,e){return tv(t,e).canonicalString()}function tv(t,e){const n=(function(a){return new Je(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function eN(t){const e=Je.fromString(t);return we(cN(e),10190,{key:e.toString()}),e}function tm(t,e){return Wv(t.databaseId,e.path)}function to(t,e){const n=eN(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(rN(n))}function tN(t,e){return Wv(t.databaseId,e)}function nN(t){const e=eN(t);return e.length===4?Je.emptyPath():rN(e)}function nv(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rN(t){return we(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function YE(t,e,n){return{name:tm(t,e),fields:n.value.mapValue.fields}}function FM(t,e,n){const r=to(t,e.name),a=Cn(e.updateTime),o=e.createTime?Cn(e.createTime):Ae.min(),c=new zn({mapValue:{fields:e.fields}}),d=Ct.newFoundDocument(r,a,o,c);return n&&d.setHasCommittedMutations(),n?d.setHasCommittedMutations():d}function BM(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(g,v){return g.useProto3Json?(we(v===void 0||typeof v=="string",58123),Zt.fromBase64String(v||"")):(we(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Zt.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?te.UNKNOWN:YA(g.code);return new fe(v,g.message||"")})(c);n=new JA(r,a,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=to(t,r.document.name),o=Cn(r.document.updateTime),c=r.document.createTime?Cn(r.document.createTime):Ae.min(),d=new zn({mapValue:{fields:r.document.fields}}),h=Ct.newFoundDocument(a,o,c,d),g=r.targetIds||[],v=r.removedTargetIds||[];n=new Rf(g,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=to(t,r.document),o=r.readTime?Cn(r.readTime):Ae.min(),c=Ct.newNoDocument(a,o),d=r.removedTargetIds||[];n=new Rf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=to(t,r.document),o=r.removedTargetIds||[];n=new Rf([],o,a,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new jM(a,o),d=r.targetId;n=new XA(d,c)}}return n}function nm(t,e){let n;if(e instanceof lc)n={update:YE(t,e.key,e.value)};else if(e instanceof Lm)n={delete:tm(t,e.key)};else if(e instanceof oa)n={update:YE(t,e.key,e.data),updateMask:QM(e.fieldMask)};else{if(!(e instanceof ZA))return xe(16599,{Vt:e.type});n={verify:tm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const d=c.transform;if(d instanceof Gl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Kl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ql)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof td)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw xe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:UM(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe(27497)})(t,e.precondition)),n}function rv(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?Rn.updateTime(Cn(o.updateTime)):o.exists!==void 0?Rn.exists(o.exists):Rn.none()})(e.currentDocument):Rn.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(c,d){let h=null;if("setToServerValue"in d)we(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),h=new Gl;else if("appendMissingElements"in d){const v=d.appendMissingElements.values||[];h=new Kl(v)}else if("removeAllFromArray"in d){const v=d.removeAllFromArray.values||[];h=new Ql(v)}else"increment"in d?h=new td(c,d.increment):xe(16584,{proto:d});const g=Et.fromServerFormat(d.fieldPath);return new GA(g,h)})(t,a))):[];if(e.update){e.update.name;const a=to(t,e.update.name),o=new zn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(h){const g=h.fieldPaths||[];return new yr(g.map((v=>Et.fromServerFormat(v))))})(e.updateMask);return new oa(a,o,c,n,r)}return new lc(a,o,n,r)}if(e.delete){const a=to(t,e.delete);return new Lm(a,n)}if(e.verify){const a=to(t,e.verify);return new ZA(a,n)}return xe(1463,{proto:e})}function $M(t,e){return t&&t.length>0?(we(e!==void 0,14353),t.map((n=>(function(a,o){let c=a.updateTime?Cn(a.updateTime):Cn(o);return c.isEqual(Ae.min())&&(c=Cn(o)),new IM(c,a.transformResults||[])})(n,e)))):[]}function sN(t,e){return{documents:[tN(t,e.path)]}}function iN(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tN(t,a);const o=(function(g){if(g.length!==0)return lN(ot.create(g,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(g){if(g.length!==0)return g.map((v=>(function(E){return{field:Sl(E.field),direction:HM(E.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=ev(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function aN(t){let e=nN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){we(r===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];n.where&&(o=(function(x){const E=oN(x);return E instanceof ot&&Gv(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(x){return x.map((E=>(function(j){return new Xf(Al(j.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(x){let E;return E=typeof x=="object"?x.value:x,Rm(E)?null:E})(n.limit));let h=null;n.startAt&&(h=(function(x){const E=!!x.before,T=x.values||[];return new ra(T,E)})(n.startAt));let g=null;return n.endAt&&(g=(function(x){const E=!x.before,T=x.values||[];return new ra(T,E)})(n.endAt)),pM(e,a,c,o,d,"F",h,g)}function qM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Al(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Al(n.unaryFilter.field);return He.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Al(n.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Al(n.unaryFilter.field);return He.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return He.create(Al(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ot.create(n.compositeFilter.filters.map((r=>oN(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function HM(t){return MM[t]}function GM(t){return VM[t]}function KM(t){return zM[t]}function Sl(t){return{fieldPath:t.canonicalString()}}function Al(t){return Et.fromServerFormat(t.fieldPath)}function lN(t){return t instanceof He?(function(n){if(n.op==="=="){if(OE(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NAN"}};if(kE(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OE(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NAN"}};if(kE(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(n.field),op:GM(n.op),value:n.value}}})(t):t instanceof ot?(function(n){const r=n.getFilters().map((a=>lN(a)));return r.length===1?r[0]:{compositeFilter:{op:KM(n.op),filters:r}}})(t):xe(54877,{filter:t})}function QM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function cN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Fs{constructor(e,n,r,a,o=Ae.min(),c=Ae.min(),d=Zt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uN{constructor(e){this.yt=e}}function ZM(t,e){let n;if(e.document)n=FM(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pe.fromSegments(e.noDocument.path),a=yo(e.noDocument.readTime);n=Ct.newNoDocument(r,a),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return xe(56709);{const r=pe.fromSegments(e.unknownDocument.path),a=yo(e.unknownDocument.version);n=Ct.newUnknownDocument(r,a)}}return e.readTime&&n.setReadTime((function(a){const o=new at(a[0],a[1]);return Ae.fromTimestamp(o)})(e.readTime)),n}function XE(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:rm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,c){return{name:tm(o,c.key),fields:c.data.value.mapValue.fields,updateTime:Zl(o,c.version.toTimestamp()),createTime:Zl(o,c.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:go(e.version)};else{if(!e.isUnknownDocument())return xe(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:go(e.version)}}return r}function rm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function go(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yo(t){const e=new at(t.seconds,t.nanoseconds);return Ae.fromTimestamp(e)}function Ka(t,e){const n=(e.baseMutations||[]).map((o=>rv(t.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const d=e.mutations[o+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>rv(t.yt,o))),a=at.fromMillis(e.localWriteTimeMs);return new Zv(e.batchId,a,n,r)}function Ru(t){const e=yo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?yo(t.lastLimboFreeSnapshotVersion):Ae.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const c=o.documents.length;return we(c===1,1966,{count:c}),vr(gd(nN(o.documents[0])))})(t.query):(function(o){return vr(aN(o))})(t.query),new Fs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Zt.fromBase64String(t.resumeToken))}function dN(t,e){const n=go(e.snapshotVersion),r=go(e.lastLimboFreeSnapshotVersion);let a;a=Jf(e.target)?sN(t.yt,e.target):iN(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:po(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function hN(t){const e=aN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?em(e,e.limit,"L"):e}function gy(t,e){return new Xv(e.largestBatchId,rv(t.yt,e.overlayMutation))}function JE(t,e){const n=e.path.lastSegment();return[t,bn(e.path.popLast()),n]}function WE(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:go(r.readTime),documentKey:bn(r.documentKey.path),largestBatchId:r.largestBatchId}}class YM{getBundleMetadata(e,n){return e1(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:yo(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return e1(e).put((function(a){return{bundleId:a.id,createTime:go(Cn(a.createTime)),version:a.version}})(n))}getNamedQuery(e,n){return t1(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:hN(o.bundledQuery),readTime:yo(o.readTime)}})(r)}))}saveNamedQuery(e,n){return t1(e).put((function(a){return{name:a.name,readTime:go(Cn(a.readTime)),bundledQuery:a.bundledQuery}})(n))}}function e1(t){return tn(t,Cm)}function t1(t){return tn(t,jm)}class Fm{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Fm(e,r)}getOverlay(e,n){return _u(e).get(JE(this.userId,n)).next((r=>r?gy(this.serializer,r):null))}getOverlays(e,n){const r=ds();return B.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){const a=[];return r.forEach(((o,c)=>{const d=new Xv(n,c);a.push(this.St(e,d))})),B.waitFor(a)}removeOverlaysForBatchId(e,n,r){const a=new Set;n.forEach((c=>a.add(bn(c.getCollectionPath()))));const o=[];return a.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(_u(e).Z(Gy,d))})),B.waitFor(o)}getOverlaysForCollection(e,n,r){const a=ds(),o=bn(n),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return _u(e).J(Gy,c).next((d=>{for(const h of d){const g=gy(this.serializer,h);a.set(g.getKey(),g)}return a}))}getOverlaysForCollectionGroup(e,n,r,a){const o=ds();let c;const d=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return _u(e).ee({index:mA,range:d},((h,g,v)=>{const x=gy(this.serializer,g);o.size()<a||x.largestBatchId===c?(o.set(x.getKey(),x),c=x.largestBatchId):v.done()})).next((()=>o))}St(e,n){return _u(e).put((function(a,o,c){const[d,h,g]=JE(o,c.mutation.key);return{userId:o,collectionPath:h,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:nm(a.yt,c.mutation)}})(this.serializer,this.userId,n))}}function _u(t){return tn(t,Dm)}class XM{bt(e){return tn(e,Bv)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?Zt.fromUint8Array(r):Zt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class Qa{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(xt(e.integerValue));else if("doubleValue"in e){const r=xt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Qu(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Qs(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Zs(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?AA(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Pm(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):xe(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const a of Object.keys(r))this.Ot(a,n),this.Ct(r[a],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const a=$l,o=r[a].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(xt(o)),this.Ot(a,n),this.Ct(r[a],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const a of r)this.Ct(a,n)}Lt(e,n){this.Ft(n,37),pe.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Qa.Kt=new Qa;const xl=255;function JM(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function n1(t){const e=64-(function(r){let a=0;for(let o=0;o<8;++o){const c=JM(255&r[o]);if(a+=c,c!==8)break}return a})(t);return Math.ceil(e/8)}class WM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=n.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const a=n.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const n=this.en(e),r=n1(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=255&n[a]}nn(e){const n=this.en(e),r=n1(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=~(255&n[a])}rn(){this.sn(xl),this.sn(255)}_n(){this.an(xl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let a=1;a<n.length;++a)n[a]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===xl?(this.sn(xl),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===xl?(this.an(xl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class e3{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class t3{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class wu{constructor(){this.cn=new WM,this.ln=new e3(this.cn),this.hn=new t3(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Za{constructor(e,n,r,a){this.Tn=e,this.In=n,this.En=r,this.dn=a}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Za(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Cf(this.En),directionalValue:Cf(this.dn),orderedDocumentKey:Cf(n),documentKey:r.path.toArray()}}Vn(e,n,r){const a=this.Rn(e,n,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Vi(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=r1(t.En,e.En),n!==0?n:(n=r1(t.dn,e.dn),n!==0?n:pe.comparator(t.In,e.In)))}function r1(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Cf(t){return US()?(function(n){let r="";for(let a=0;a<n.length;a++)r+=String.fromCharCode(n[a]);return r})(t):t}function s1(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(t)}class i1{constructor(e){this.mn=new ct(((n,r)=>Et.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(we(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=$y(e);if(n!==void 0&&!this.wn(n))return!1;const r=qa(e);let a=new Set,o=0,c=0;for(;o<r.length&&this.wn(r[o]);++o)a=a.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const d=this.mn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const h=r[o];if(!this.Sn(d,h)||!this.bn(this.fn[c++],h))return!1}++o}for(;o<r.length;++o){const d=r[o];if(c>=this.fn.length||!this.bn(this.fn[c++],d))return!1}return!0}Dn(){if(this.pn)return null;let e=new ct(Et.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new wf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new wf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new wf(r.field,r.dir==="asc"?0:1)));return new Gf(Gf.UNKNOWN_ID,this.collectionId,n,Ku.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function fN(t){if(we(t instanceof He||t instanceof ot,20012),t instanceof He){if(t instanceof PA){const n=t.value.arrayValue?.values?.map((r=>He.create(t.field,"==",r)))||[];return ot.create(n,"or")}return t}const e=t.filters.map((n=>fN(n)));return ot.create(e,t.op)}function n3(t){if(t.getFilters().length===0)return[];const e=av(fN(t));return we(mN(e),7391),sv(e)||iv(e)?[e]:e.getFilters()}function sv(t){return t instanceof He}function iv(t){return t instanceof ot&&Gv(t)}function mN(t){return sv(t)||iv(t)||(function(n){if(n instanceof ot&&Yy(n)){for(const r of n.getFilters())if(!sv(r)&&!iv(r))return!1;return!0}return!1})(t)}function av(t){if(we(t instanceof He||t instanceof ot,34018),t instanceof He)return t;if(t.filters.length===1)return av(t.filters[0]);const e=t.filters.map((r=>av(r)));let n=ot.create(e,t.op);return n=sm(n),mN(n)?n:(we(n instanceof ot,64498),we(Hl(n),40251),we(n.filters.length>1,57927),n.filters.reduce(((r,a)=>ex(r,a))))}function ex(t,e){let n;return we(t instanceof He||t instanceof ot,38388),we(e instanceof He||e instanceof ot,25473),n=t instanceof He?e instanceof He?(function(a,o){return ot.create([a,o],"and")})(t,e):a1(t,e):e instanceof He?a1(e,t):(function(a,o){if(we(a.filters.length>0&&o.filters.length>0,48005),Hl(a)&&Hl(o))return DA(a,o.getFilters());const c=Yy(a)?a:o,d=Yy(a)?o:a,h=c.filters.map((g=>ex(g,d)));return ot.create(h,"or")})(t,e),sm(n)}function a1(t,e){if(Hl(e))return DA(e,t.getFilters());{const n=e.filters.map((r=>ex(t,r)));return ot.create(n,"or")}}function sm(t){if(we(t instanceof He||t instanceof ot,11850),t instanceof He)return t;const e=t.getFilters();if(e.length===1)return sm(e[0]);if(CA(t))return t;const n=e.map((a=>sm(a))),r=[];return n.forEach((a=>{a instanceof He?r.push(a):a instanceof ot&&(a.op===t.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:ot.create(r,t.op)}class r3{constructor(){this.Cn=new tx}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Wn.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Wn.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class tx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new ct(Je.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new ct(Je.comparator)).toArray()}}const o1="IndexedDbIndexManager",uf=new Uint8Array(0);class s3{constructor(e,n){this.databaseId=n,this.vn=new tx,this.Fn=new ei((r=>po(r)),((r,a)=>pd(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),a=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const o={collectionId:r,parent:bn(a)};return l1(e).put(o)}return B.resolve()}getCollectionParents(e,n){const r=[],a=IDBKeyRange.bound([n,""],[nA(n),""],!1,!0);return l1(e).J(a).next((o=>{for(const c of o){if(c.collectionId!==n)break;r.push(us(c.parent))}return r}))}addFieldIndex(e,n){const r=Eu(e),a=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(n);delete a.indexId;const o=r.add(a);if(n.indexState){const c=_l(e);return o.next((d=>{c.put(WE(d,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=Eu(e),a=_l(e),o=bl(e);return r.delete(n.indexId).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Eu(e),r=bl(e),a=_l(e);return n.Z().next((()=>r.Z())).next((()=>a.Z()))}createTargetIndexes(e,n){return B.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const o=new i1(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=bl(e);let a=!0;const o=new Map;return B.forEach(this.Mn(n),(c=>this.xn(e,c).next((d=>{a&&(a=!!d),o.set(c,d)})))).next((()=>{if(a){let c=ze();const d=[];return B.forEach(o,((h,g)=>{de(o1,`Using index ${(function(Q){return`id=${Q.indexId}|cg=${Q.collectionGroup}|f=${Q.fields.map((le=>`${le.fieldPath}:${le.kind}`)).join(",")}`})(h)} to execute ${po(n)}`);const v=(function(Q,le){const G=$y(le);if(G===void 0)return null;for(const ae of Wf(Q,G.fieldPath))switch(ae.op){case"array-contains-any":return ae.value.arrayValue.values||[];case"array-contains":return[ae.value]}return null})(g,h),x=(function(Q,le){const G=new Map;for(const ae of qa(le))for(const I of Wf(Q,ae.fieldPath))switch(I.op){case"==":case"in":G.set(ae.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return G.set(ae.fieldPath.canonicalString(),I.value),Array.from(G.values())}return null})(g,h),E=(function(Q,le){const G=[];let ae=!0;for(const I of qa(le)){const A=I.kind===0?LE(Q,I.fieldPath,Q.startAt):UE(Q,I.fieldPath,Q.startAt);G.push(A.value),ae&&(ae=A.inclusive)}return new ra(G,ae)})(g,h),T=(function(Q,le){const G=[];let ae=!0;for(const I of qa(le)){const A=I.kind===0?UE(Q,I.fieldPath,Q.endAt):LE(Q,I.fieldPath,Q.endAt);G.push(A.value),ae&&(ae=A.inclusive)}return new ra(G,ae)})(g,h),j=this.On(h,g,E),D=this.On(h,g,T),P=this.Nn(h,g,x),Z=this.Bn(h.indexId,v,j,E.inclusive,D,T.inclusive,P);return B.forEach(Z,(X=>r.Y(X,n.limit).next((Q=>{Q.forEach((le=>{const G=pe.fromSegments(le.documentKey);c.has(G)||(c=c.add(G),d.push(G))}))}))))})).next((()=>d))}return B.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=n3(ot.create(e.filters,"and")).map((r=>Jy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,a,o,c,d){const h=(n!=null?n.length:1)*Math.max(r.length,o.length),g=h/(n!=null?n.length:1),v=[];for(let x=0;x<h;++x){const E=n?this.Ln(n[x/g]):uf,T=this.kn(e,E,r[x%g],a),j=this.qn(e,E,o[x%g],c),D=d.map((P=>this.kn(e,E,P,!0)));v.push(...this.createRange(T,j,D))}return v}kn(e,n,r,a){const o=new Za(e,pe.empty(),n,r);return a?o:o.An()}qn(e,n,r,a){const o=new Za(e,pe.empty(),n,r);return a?o.An():o}xn(e,n){const r=new i1(n),a=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let c=null;for(const d of o)r.yn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(e,n){let r=2;const a=this.Mn(n);return B.forEach(a,(o=>this.xn(e,o).next((c=>{c?r!==0&&c.fields.length<(function(h){let g=new ct(Et.comparator),v=!1;for(const x of h.filters)for(const E of x.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?v=!0:g=g.add(E.field));for(const x of h.orderBy)x.field.isKeyField()||(g=g.add(x.field));return g.size+(v?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(n)&&a.length>1&&r===2?1:r))}Qn(e,n){const r=new wu;for(const a of qa(e)){const o=n.data.field(a.fieldPath);if(o==null)return null;const c=r.Pn(a.kind);Qa.Kt.Dt(o,c)}return r.un()}Ln(e){const n=new wu;return Qa.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new wu;return Qa.Kt.Dt(mo(this.databaseId,n),r.Pn((function(o){const c=qa(o);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let a=[];a.push(new wu);let o=0;for(const c of qa(e)){const d=r[o++];for(const h of a)if(this.Un(n,c.fieldPath)&&ed(d))a=this.Kn(a,c,d);else{const g=h.Pn(c.kind);Qa.Kt.Dt(d,g)}}return this.Wn(a)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const a=[...e],o=[];for(const c of r.arrayValue.values||[])for(const d of a){const h=new wu;h.seed(d.un()),Qa.Kt.Dt(c,h.Pn(n.kind)),o.push(h)}return o}Un(e,n){return!!e.filters.find((r=>r instanceof He&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Eu(e),a=_l(e);return(n?r.J(Hy,IDBKeyRange.bound(n,n)):r.J()).next((o=>{const c=[];return B.forEach(o,(d=>a.get([d.indexId,this.uid]).next((h=>{c.push((function(v,x){const E=x?new Ku(x.sequenceNumber,new Wn(yo(x.readTime),new pe(us(x.documentKey)),x.largestBatchId)):Ku.empty(),T=v.fields.map((([j,D])=>new wf(Et.fromServerFormat(j),D)));return new Gf(v.indexId,v.collectionGroup,T,E)})(d,h))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,a)=>{const o=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:Ce(r.collectionGroup,a.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const a=Eu(e),o=_l(e);return this.Gn(e).next((c=>a.J(Hy,IDBKeyRange.bound(n,n)).next((d=>B.forEach(d,(h=>o.put(WE(h.indexId,this.uid,c,r))))))))}updateIndexEntries(e,n){const r=new Map;return B.forEach(n,((a,o)=>{const c=r.get(a.collectionGroup);return(c?B.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((d=>(r.set(a.collectionGroup,d),B.forEach(d,(h=>this.zn(e,a,h).next((g=>{const v=this.jn(o,h);return g.isEqual(v)?B.resolve():this.Jn(e,o,h,g,v)})))))))}))}Hn(e,n,r,a){return bl(e).put(a.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,a){return bl(e).delete(a.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const a=bl(e);let o=new ct(Vi);return a.ee({index:fA,range:IDBKeyRange.only([r.indexId,this.uid,Cf(this.$n(r,n))])},((c,d)=>{o=o.add(new Za(r.indexId,n,s1(d.arrayValue),s1(d.directionalValue)))})).next((()=>o))}jn(e,n){let r=new ct(Vi);const a=this.Qn(n,e);if(a==null)return r;const o=$y(n);if(o!=null){const c=e.data.field(o.fieldPath);if(ed(c))for(const d of c.arrayValue.values||[])r=r.add(new Za(n.indexId,e.key,this.Ln(d),a))}else r=r.add(new Za(n.indexId,e.key,uf,a));return r}Jn(e,n,r,a,o){de(o1,"Updating index entries for document '%s'",n.key);const c=[];return(function(h,g,v,x,E){const T=h.getIterator(),j=g.getIterator();let D=vl(T),P=vl(j);for(;D||P;){let Z=!1,X=!1;if(D&&P){const Q=v(D,P);Q<0?X=!0:Q>0&&(Z=!0)}else D!=null?X=!0:Z=!0;Z?(x(P),P=vl(j)):X?(E(D),D=vl(T)):(D=vl(T),P=vl(j))}})(a,o,Vi,(d=>{c.push(this.Hn(e,n,r,d))}),(d=>{c.push(this.Yn(e,n,r,d))})),B.waitFor(c)}Gn(e){let n=1;return _l(e).ee({index:hA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,o)=>{o.done(),n=a.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((c,d)=>Vi(c,d))).filter(((c,d,h)=>!d||Vi(c,h[d-1])!==0));const a=[];a.push(e);for(const c of r){const d=Vi(c,e),h=Vi(c,n);if(d===0)a[0]=e.An();else if(d>0&&h<0)a.push(c),a.push(c.An());else if(h>0)break}a.push(n);const o=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const d=a[c].Vn(this.uid,uf,pe.empty()),h=a[c+1].Vn(this.uid,uf,pe.empty());o.push(IDBKeyRange.bound(d,h))}return o}Zn(e,n){return Vi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(c1)}getMinOffset(e,n){return B.mapArray(this.Mn(n),(r=>this.xn(e,r).next((a=>a||xe(44426))))).next(c1)}}function l1(t){return tn(t,Xu)}function bl(t){return tn(t,Vu)}function Eu(t){return tn(t,Fv)}function _l(t){return tn(t,Mu)}function c1(t){we(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const a=t[r].indexState.offset;zv(a,e)<0&&(e=a),n<a.largestBatchId&&(n=a.largestBatchId)}return new Wn(e.readTime,e.documentKey,n)}const u1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pN=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function gN(t,e,n){const r=t.store(Pr),a=t.store(Ll),o=[],c=IDBKeyRange.only(n.batchId);let d=0;const h=r.ee({range:c},((v,x,E)=>(d++,E.delete())));o.push(h.next((()=>{we(d===1,47070,{batchId:n.batchId})})));const g=[];for(const v of n.mutations){const x=cA(e,v.key.path,n.batchId);o.push(a.delete(x)),g.push(v.key)}return B.waitFor(o).next((()=>g))}function im(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw xe(14731);e=t.noDocument}return JSON.stringify(e).length}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(pN,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class Bm{constructor(e,n,r,a){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=a,this.Xn={}}static wt(e,n,r,a){we(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Bm(o,n,r,a)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zi(e).ee({index:Xa,range:r},((a,o,c)=>{n=!1,c.done()})).next((()=>n))}addMutationBatch(e,n,r,a){const o=Nl(e),c=zi(e);return c.add({}).next((d=>{we(typeof d=="number",49019);const h=new Zv(d,n,r,a),g=(function(T,j,D){const P=D.baseMutations.map((X=>nm(T.yt,X))),Z=D.mutations.map((X=>nm(T.yt,X)));return{userId:j,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:P,mutations:Z}})(this.serializer,this.userId,h),v=[];let x=new ct(((E,T)=>Ce(E.canonicalString(),T.canonicalString())));for(const E of a){const T=cA(this.userId,E.key.path,d);x=x.add(E.key.path.popLast()),v.push(c.put(g)),v.push(o.put(T,kP))}return x.forEach((E=>{v.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Xn[d]=h.keys()})),B.waitFor(v).next((()=>h))}))}lookupMutationBatch(e,n){return zi(e).get(n).next((r=>r?(we(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Ka(this.serializer,r)):null))}er(e,n){return this.Xn[n]?B.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const a=r.keys();return this.Xn[n]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return zi(e).ee({index:Xa,range:a},((c,d,h)=>{d.userId===this.userId&&(we(d.batchId>=r,47524,{tr:r}),o=Ka(this.serializer,d)),h.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Wa;return zi(e).ee({index:Xa,range:n,reverse:!0},((a,o,c)=>{r=o.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Wa],[this.userId,Number.POSITIVE_INFINITY]);return zi(e).J(Xa,n).next((r=>r.map((a=>Ka(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Ef(this.userId,n.path),a=IDBKeyRange.lowerBound(r),o=[];return Nl(e).ee({range:a},((c,d,h)=>{const[g,v,x]=c,E=us(v);if(g===this.userId&&n.path.isEqual(E))return zi(e).get(x).next((T=>{if(!T)throw xe(61480,{nr:c,batchId:x});we(T.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:T.userId,batchId:x}),o.push(Ka(this.serializer,T))}));h.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(Ce);const a=[];return n.forEach((o=>{const c=Ef(this.userId,o.path),d=IDBKeyRange.lowerBound(c),h=Nl(e).ee({range:d},((g,v,x)=>{const[E,T,j]=g,D=us(T);E===this.userId&&o.path.isEqual(D)?r=r.add(j):x.done()}));a.push(h)})),B.waitFor(a).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1,o=Ef(this.userId,r),c=IDBKeyRange.lowerBound(o);let d=new ct(Ce);return Nl(e).ee({range:c},((h,g,v)=>{const[x,E,T]=h,j=us(E);x===this.userId&&r.isPrefixOf(j)?j.length===a&&(d=d.add(T)):v.done()})).next((()=>this.rr(e,d)))}rr(e,n){const r=[],a=[];return n.forEach((o=>{a.push(zi(e).get(o).next((c=>{if(c===null)throw xe(35274,{batchId:o});we(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:o}),r.push(Ka(this.serializer,c))})))})),B.waitFor(a).next((()=>r))}removeMutationBatch(e,n){return gN(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),B.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return Nl(e).ee({range:r},((o,c,d)=>{if(o[0]===this.userId){const h=us(o[1]);a.push(h)}else d.done()})).next((()=>{we(a.length===0,56720,{sr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return yN(e,this.userId,n)}_r(e){return vN(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Wa,lastStreamToken:""}))}}function yN(t,e,n){const r=Ef(e,n.path),a=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return Nl(t).ee({range:o,X:!0},((d,h,g)=>{const[v,x,E]=d;v===e&&x===a&&(c=!0),g.done()})).next((()=>c))}function zi(t){return tn(t,Pr)}function Nl(t){return tn(t,Ll)}function vN(t){return tn(t,Zu)}class vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}class i3{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new vo(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ae.fromTimestamp(new at(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((a=>(a.highestListenSequenceNumber=n,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.hr(e,a))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>wl(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(we(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let a=0;const o=[];return wl(e).ee(((c,d)=>{const h=Ru(d);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(a++,o.push(this.removeTargetData(e,h)))})).next((()=>B.waitFor(o))).next((()=>a))}forEachTarget(e,n){return wl(e).ee(((r,a)=>{const o=Ru(a);n(o)}))}lr(e){return d1(e).get(Zf).next((n=>(we(n!==null,2888),n)))}hr(e,n){return d1(e).put(Zf,n)}Pr(e,n){return wl(e).put(dN(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=po(n),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return wl(e).ee({range:a,index:dA},((c,d,h)=>{const g=Ru(d);pd(n,g.target)&&(o=g,h.done())})).next((()=>o))}addMatchingKeys(e,n,r){const a=[],o=Bi(e);return n.forEach((c=>{const d=bn(c.path);a.push(o.put({targetId:r,path:d})),a.push(this.referenceDelegate.addReference(e,r,c))})),B.waitFor(a)}removeMatchingKeys(e,n,r){const a=Bi(e);return B.forEach(n,(o=>{const c=bn(o.path);return B.waitFor([a.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=Bi(e),a=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),a=Bi(e);let o=ze();return a.ee({range:r,X:!0},((c,d,h)=>{const g=us(c[1]),v=new pe(g);o=o.add(v)})).next((()=>o))}containsKey(e,n){const r=bn(n.path),a=IDBKeyRange.bound([r],[nA(r)],!1,!0);let o=0;return Bi(e).ee({index:Uv,X:!0,range:a},(([c,d],h,g)=>{c!==0&&(o++,g.done())})).next((()=>o>0))}At(e,n){return wl(e).get(n).next((r=>r?Ru(r):null))}}function wl(t){return tn(t,Ul)}function d1(t){return tn(t,eo)}function Bi(t){return tn(t,Fl)}const h1="LruGarbageCollector",a3=1048576;function f1([t,e],[n,r]){const a=Ce(t,n);return a===0?Ce(e,r):a}class o3{constructor(e){this.Ir=e,this.buffer=new ct(f1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();f1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(h1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){aa(n)?de(h1,"Ignoring IndexedDB error during garbage collection: ",n):await To(n)}await this.Vr(3e5)}))}}class l3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return B.resolve(gr.ce);const r=new o3(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(u1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,c,d,h,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,c=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(r=x,d=Date.now(),this.removeTargets(e,r,n)))).next((x=>(o=x,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(g=Date.now(),El()<=qe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${x} documents in `+(g-h)+`ms
Total Duration: ${g-v}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:x}))))}}function bN(t,e){return new l3(t,e)}class c3{constructor(e,n){this.db=e,this.garbageCollector=bN(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,a)=>n(a)))}addReference(e,n,r){return df(e,r)}removeReference(e,n,r){return df(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return df(e,n)}br(e,n){return(function(a,o){let c=!1;return vN(a).te((d=>yN(a,d,o).next((h=>(h&&(c=!0),B.resolve(!h)))))).next((()=>c))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.Sr(e,((c,d)=>{if(d<=n){const h=this.br(e,c).next((g=>{if(!g)return o++,r.getEntry(e,c).next((()=>(r.removeEntry(c,Ae.min()),Bi(e).delete((function(x){return[0,bn(x.path)]})(c)))))}));a.push(h)}})).next((()=>B.waitFor(a))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return df(e,n)}Sr(e,n){const r=Bi(e);let a,o=gr.ce;return r.ee({index:Uv},(([c,d],{path:h,sequenceNumber:g})=>{c===0?(o!==gr.ce&&n(new pe(us(a)),o),o=g,a=h):o=gr.ce})).next((()=>{o!==gr.ce&&n(new pe(us(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function df(t,e){return Bi(t).put((function(r,a){return{targetId:0,path:bn(r.path),sequenceNumber:a}})(e,t.currentSequenceNumber))}class _N{constructor(){this.changes=new ei((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class u3{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ba(e).put(r)}removeEntry(e,n,r){return Ba(e).delete((function(o,c){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],rm(c),d[d.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Ct.newInvalidDocument(n);return Ba(e).ee({index:Tf,range:IDBKeyRange.only(Tu(n))},((a,o)=>{r=this.Cr(n,o)})).next((()=>r))}vr(e,n){let r={size:0,document:Ct.newInvalidDocument(n)};return Ba(e).ee({index:Tf,range:IDBKeyRange.only(Tu(n))},((a,o)=>{r={document:this.Cr(n,o),size:im(o)}})).next((()=>r))}getEntries(e,n){let r=Xn();return this.Fr(e,n,((a,o)=>{const c=this.Cr(a,o);r=r.insert(a,c)})).next((()=>r))}Mr(e,n){let r=Xn(),a=new _t(pe.comparator);return this.Fr(e,n,((o,c)=>{const d=this.Cr(o,c);r=r.insert(o,d),a=a.insert(o,im(c))})).next((()=>({documents:r,Or:a})))}Fr(e,n,r){if(n.isEmpty())return B.resolve();let a=new ct(g1);n.forEach((h=>a=a.add(h)));const o=IDBKeyRange.bound(Tu(a.first()),Tu(a.last())),c=a.getIterator();let d=c.getNext();return Ba(e).ee({index:Tf,range:o},((h,g,v)=>{const x=pe.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;d&&g1(d,x)<0;)r(d,null),d=c.getNext();d&&d.isEqual(x)&&(r(d,g),d=c.hasNext()?c.getNext():null),d?v.j(Tu(d)):v.done()})).next((()=>{for(;d;)r(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,n,r,a,o){const c=n.path,d=[c.popLast().toArray(),c.lastSegment(),rm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ba(e).J(IDBKeyRange.bound(d,h,!0)).next((g=>{o?.incrementDocumentReadCount(g.length);let v=Xn();for(const x of g){const E=this.Cr(pe.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);E.isFoundDocument()&&(yd(n,E)||a.has(E.key))&&(v=v.insert(E.key,E))}return v}))}getAllFromCollectionGroup(e,n,r,a){let o=Xn();const c=p1(n,r),d=p1(n,Wn.max());return Ba(e).ee({index:uA,range:IDBKeyRange.bound(c,d,!0)},((h,g,v)=>{const x=this.Cr(pe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);o=o.insert(x.key,x),o.size===a&&v.done()})).next((()=>o))}newChangeBuffer(e){return new d3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return m1(e).get(qy).next((n=>(we(!!n,20021),n)))}Dr(e,n){return m1(e).put(qy,n)}Cr(e,n){if(n){const r=ZM(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ae.min())))return r}return Ct.newInvalidDocument(e)}}function wN(t){return new u3(t)}class d3 extends _N{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new ei((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const n=[];let r=0,a=new ct(((o,c)=>Ce(o.canonicalString(),c.canonicalString())));return this.changes.forEach(((o,c)=>{const d=this.Br.get(o);if(n.push(this.Nr.removeEntry(e,o,d.readTime)),c.isValidDocument()){const h=XE(this.Nr.serializer,c);a=a.add(o.path.popLast());const g=im(h);r+=g-d.size,n.push(this.Nr.addEntry(e,o,h))}else if(r-=d.size,this.trackRemovals){const h=XE(this.Nr.serializer,c.convertToNoDocument(Ae.min()));n.push(this.Nr.addEntry(e,o,h))}})),a.forEach((o=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Nr.updateMetadata(e,r)),B.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:a})=>(a.forEach(((o,c)=>{this.Br.set(o,{size:c,readTime:r.get(o).readTime})})),r)))}}function m1(t){return tn(t,Yu)}function Ba(t){return tn(t,Qf)}function Tu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function p1(t,e){const n=e.documentKey.path.toArray();return[t,rm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function g1(t,e){const n=t.path.toArray(),r=e.path.toArray();let a=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(a=Ce(n[o],r[o]),a)return a;return a=Ce(n.length,r.length),a||(a=Ce(n[n.length-2],r[r.length-2]),a||Ce(n[n.length-1],r[r.length-1]))}class h3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class EN{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Uu(r.mutation,a,yr.empty(),at.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ze()){const a=ds();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let c=Nu();return o.forEach(((d,h)=>{c=c.insert(d,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=ds();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ze())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,a){let o=Xn();const c=Lu(),d=(function(){return Lu()})();return n.forEach(((h,g)=>{const v=r.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof oa)?o=o.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Uu(v.mutation,g,v.mutation.getFieldMask(),at.now())):c.set(g.key,yr.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>d.set(g,new h3(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Lu();let a=new _t(((c,d)=>c-d)),o=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((h=>{const g=n.get(h);if(g===null)return;let v=r.get(h)||yr.empty();v=d.applyToLocalView(g,v),r.set(h,v);const x=(a.get(d.batchId)||ze()).add(h);a=a.insert(d.batchId,x)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),g=h.key,v=h.value,x=UA();v.forEach((E=>{if(!o.has(E)){const T=KA(n.get(E),r.get(E));T!==null&&x.set(E,T),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,x))}return B.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Kv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):B.resolve(ds());let d=Gu,h=o;return c.next((g=>B.forEach(g,((v,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),o.get(v)?B.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{h=h.insert(v,E)}))))).next((()=>this.populateOverlays(e,g,o))).next((()=>this.computeViews(e,h,g,ze()))).next((v=>({batchId:d,changes:LA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let a=Nu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let c=Nu();return this.indexManager.getCollectionParents(e,o).next((d=>B.forEach(d,(h=>{const g=(function(x,E){return new oc(E,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next((v=>{v.forEach(((x,E)=>{c=c.insert(x,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((c=>{o.forEach(((h,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Ct.newInvalidDocument(v)))}));let d=Nu();return c.forEach(((h,g)=>{const v=o.get(h);v!==void 0&&Uu(v.mutation,g,yr.empty(),at.now()),yd(n,g)&&(d=d.insert(h,g))})),d}))}}class f3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Cn(a.createTime)}})(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:hN(a.bundledQuery),readTime:Cn(a.readTime)}})(n)),B.resolve()}}class m3{constructor(){this.overlays=new _t(pe.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ds();return B.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),B.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const a=ds(),o=n.length+1,c=new pe(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,g=h.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return B.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new _t(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let v=o.get(g.largestBatchId);v===null&&(v=ds(),o=o.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ds(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return B.resolve(d)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Xv(n,r));let o=this.qr.get(n);o===void 0&&(o=ze(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class p3{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}class nx{constructor(){this.Qr=new ct(an.$r),this.Ur=new ct(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new an(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new an(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new pe(new Je([])),r=new an(n,e),a=new an(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new Je([])),r=new an(n,e),a=new an(n,e+1);let o=ze();return this.Ur.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new an(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Ce(e.Yr,n.Yr)}static Kr(e,n){return Ce(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class g3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ct(an.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Zv(o,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new an(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return B.resolve(c)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Wa:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new an(n,0),a=new an(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);o.push(d)})),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(Ce);return n.forEach((a=>{const o=new an(a,0),c=new an(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(d=>{r=r.add(d.Yr)}))})),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;pe.isDocumentKey(o)||(o=o.child(""));const c=new an(new pe(o),0);let d=new ct(Ce);return this.Zr.forEachWhile((h=>{const g=h.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(d=d.add(h.Yr)),!0)}),c),B.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){we(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,(a=>{const o=new an(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new an(n,0),a=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class y3{constructor(e){this.ri=e,this.docs=(function(){return new _t(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Ct.newInvalidDocument(a))})),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Xn();const c=n.path,d=new pe(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:g,value:{document:v}}=h.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||zv(iA(v),r)<=0||(a.has(v.key)||yd(n,v))&&(o=o.insert(v.key,v.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,a){xe(9500)}ii(e,n){return B.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new v3(this)}getSize(e){return B.resolve(this.size)}}class v3 extends _N{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class x3{constructor(e){this.persistence=e,this.si=new ei((n=>po(n)),pd),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new nx,this.targetCount=0,this.ai=vo.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),B.waitFor(o).next((()=>a))}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}class rx{constructor(e,n){this.ui={},this.overlays={},this.ci=new gr(0),this.li=!1,this.li=!0,this.hi=new p3,this.referenceDelegate=e(this),this.Pi=new x3(this),this.indexManager=new r3,this.remoteDocumentCache=(function(a){return new y3(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new uN(n),this.Ii=new f3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new m3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new g3(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const a=new b3(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return B.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class b3 extends oA{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new nx,this.Vi=null}static mi(e){return new $m(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,(r=>{const a=pe.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class am{constructor(e,n){this.persistence=e,this.pi=new ei((r=>bn(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=bN(this,n)}static mi(e,n){return new am(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return B.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?B.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(r++,o.removeEntry(c,Ae.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Af(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return B.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class _3{constructor(e){this.serializer=e}k(e,n,r,a){const o=new Im("createOrUpgrade",n);r<1&&a>=1&&((function(h){h.createObjectStore(md)})(e),(function(h){h.createObjectStore(Zu,{keyPath:DP}),h.createObjectStore(Pr,{keyPath:NE,autoIncrement:!0}).createIndex(Xa,IE,{unique:!0}),h.createObjectStore(Ll)})(e),y1(e),(function(h){h.createObjectStore(Ha)})(e));let c=B.resolve();return r<3&&a>=3&&(r!==0&&((function(h){h.deleteObjectStore(Fl),h.deleteObjectStore(Ul),h.deleteObjectStore(eo)})(e),y1(e)),c=c.next((()=>(function(h){const g=h.store(eo),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ae.min().toTimestamp(),targetCount:0};return g.put(Zf,v)})(o)))),r<4&&a>=4&&(r!==0&&(c=c.next((()=>(function(h,g){return g.store(Pr).J().next((x=>{h.deleteObjectStore(Pr),h.createObjectStore(Pr,{keyPath:NE,autoIncrement:!0}).createIndex(Xa,IE,{unique:!0});const E=g.store(Pr),T=x.map((j=>E.put(j)));return B.waitFor(T)}))})(e,o)))),c=c.next((()=>{(function(h){h.createObjectStore(Bl,{keyPath:FP})})(e)}))),r<5&&a>=5&&(c=c.next((()=>this.yi(o)))),r<6&&a>=6&&(c=c.next((()=>((function(h){h.createObjectStore(Yu)})(e),this.wi(o))))),r<7&&a>=7&&(c=c.next((()=>this.Si(o)))),r<8&&a>=8&&(c=c.next((()=>this.bi(e,o)))),r<9&&a>=9&&(c=c.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(c=c.next((()=>this.Di(o)))),r<11&&a>=11&&(c=c.next((()=>{(function(h){h.createObjectStore(Cm,{keyPath:BP})})(e),(function(h){h.createObjectStore(jm,{keyPath:$P})})(e)}))),r<12&&a>=12&&(c=c.next((()=>{(function(h){const g=h.createObjectStore(Dm,{keyPath:YP});g.createIndex(Gy,XP,{unique:!1}),g.createIndex(mA,JP,{unique:!1})})(e)}))),r<13&&a>=13&&(c=c.next((()=>(function(h){const g=h.createObjectStore(Qf,{keyPath:OP});g.createIndex(Tf,PP),g.createIndex(uA,MP)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(Ha)))),r<14&&a>=14&&(c=c.next((()=>this.Fi(e,o)))),r<15&&a>=15&&(c=c.next((()=>(function(h){h.createObjectStore(Fv,{keyPath:qP,autoIncrement:!0}).createIndex(Hy,HP,{unique:!1}),h.createObjectStore(Mu,{keyPath:GP}).createIndex(hA,KP,{unique:!1}),h.createObjectStore(Vu,{keyPath:QP}).createIndex(fA,ZP,{unique:!1})})(e)))),r<16&&a>=16&&(c=c.next((()=>{n.objectStore(Mu).clear()})).next((()=>{n.objectStore(Vu).clear()}))),r<17&&a>=17&&(c=c.next((()=>{(function(h){h.createObjectStore(Bv,{keyPath:WP})})(e)}))),r<18&&a>=18&&US()&&(c=c.next((()=>{n.objectStore(Mu).clear()})).next((()=>{n.objectStore(Vu).clear()}))),c}wi(e){let n=0;return e.store(Ha).ee(((r,a)=>{n+=im(a)})).next((()=>{const r={byteSize:n};return e.store(Yu).put(qy,r)}))}yi(e){const n=e.store(Zu),r=e.store(Pr);return n.J().next((a=>B.forEach(a,(o=>{const c=IDBKeyRange.bound([o.userId,Wa],[o.userId,o.lastAcknowledgedBatchId]);return r.J(Xa,c).next((d=>B.forEach(d,(h=>{we(h.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const g=Ka(this.serializer,h);return gN(e,o.userId,g).next((()=>{}))}))))}))))}Si(e){const n=e.store(Fl),r=e.store(Ha);return e.store(eo).get(Zf).next((a=>{const o=[];return r.ee(((c,d)=>{const h=new Je(c),g=(function(x){return[0,bn(x)]})(h);o.push(n.get(g).next((v=>v?B.resolve():(x=>n.put({targetId:0,path:bn(x),sequenceNumber:a.highestListenSequenceNumber}))(h))))})).next((()=>B.waitFor(o)))}))}bi(e,n){e.createObjectStore(Xu,{keyPath:UP});const r=n.store(Xu),a=new tx,o=c=>{if(a.add(c)){const d=c.lastSegment(),h=c.popLast();return r.put({collectionId:d,parent:bn(h)})}};return n.store(Ha).ee({X:!0},((c,d)=>{const h=new Je(c);return o(h.popLast())})).next((()=>n.store(Ll).ee({X:!0},(([c,d,h],g)=>{const v=us(d);return o(v.popLast())}))))}Di(e){const n=e.store(Ul);return n.ee(((r,a)=>{const o=Ru(a),c=dN(this.serializer,o);return n.put(c)}))}Ci(e,n){const r=n.store(Ha),a=[];return r.ee(((o,c)=>{const d=n.store(Qf),h=(function(x){return x.document?new pe(Je.fromString(x.document.name).popFirst(5)):x.noDocument?pe.fromSegments(x.noDocument.path):x.unknownDocument?pe.fromSegments(x.unknownDocument.path):xe(36783)})(c).path.toArray(),g={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(g))})).next((()=>B.waitFor(a)))}Fi(e,n){const r=n.store(Pr),a=wN(this.serializer),o=new rx($m.mi,this.serializer.yt);return r.J().next((c=>{const d=new Map;return c.forEach((h=>{let g=d.get(h.userId)??ze();Ka(this.serializer,h).keys().forEach((v=>g=g.add(v))),d.set(h.userId,g)})),B.forEach(d,((h,g)=>{const v=new mn(g),x=Fm.wt(this.serializer,v),E=o.getIndexManager(v),T=Bm.wt(v,this.serializer,E,o.referenceDelegate);return new EN(a,T,x,E).recalculateAndSaveOverlaysForDocumentKeys(new Ky(n,gr.ce),h).next()}))}))}}function y1(t){t.createObjectStore(Fl,{keyPath:zP}).createIndex(Uv,LP,{unique:!0}),t.createObjectStore(Ul,{keyPath:"targetId"}).createIndex(dA,VP,{unique:!0}),t.createObjectStore(eo)}const Li="IndexedDbPersistence",yy=18e5,vy=5e3,xy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",w3="main";class sx{constructor(e,n,r,a,o,c,d,h,g,v,x=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=o,this.window=c,this.document=d,this.xi=g,this.Oi=v,this.Ni=x,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=E=>Promise.resolve(),!sx.v())throw new fe(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new c3(this,a),this.$i=n+w3,this.serializer=new uN(h),this.Ui=new Wi(this.$i,this.Ni,new _3(this.serializer)),this.hi=new XM,this.Pi=new i3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wN(this.serializer),this.Ii=new YM,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,v===!1&&Nn(Li,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(te.FAILED_PRECONDITION,xy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new gr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>hf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(aa(e))return de(Li,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return de(Li,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Su(e).get(yl).next((n=>B.resolve(this.es(n))))}ts(e){return hf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,yy)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=tn(n,Bl);return r.J().next((a=>{const o=this.ss(a,yy),c=a.filter((d=>o.indexOf(d)===-1));return B.forEach(c,(d=>r.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?B.resolve(!0):Su(e).get(yl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,vy)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new fe(te.FAILED_PRECONDITION,xy);return!1}}return!(!this.networkEnabled||!this.inForeground)||hf(e).J().next((r=>this.ss(r,vy).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(o||c&&d)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&de(Li,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[md,Bl],(e=>{const n=new Ky(e,gr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>hf(e).J().next((n=>this.ss(n,yy).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Bm.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new s3(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Fm.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){de(Li,"Starting transaction:",e);const a=n==="readonly"?"readonly":"readwrite",o=(function(h){return h===18?nM:h===17?vA:h===16?tM:h===15?$v:h===14?yA:h===13?gA:h===12?eM:h===11?pA:void xe(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,a,o,(d=>(c=new Ky(d,this.ci?this.ci.next():gr.ce),n==="readwrite-primary"?this.Hi(c).next((h=>!!h||this.Yi(c))).next((h=>{if(!h)throw Nn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new fe(te.FAILED_PRECONDITION,aA);return r(c)})).next((h=>this.Xi(c).next((()=>h)))):this.Is(c).next((()=>r(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Is(e){return Su(e).get(yl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,vy)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new fe(te.FAILED_PRECONDITION,xy)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Su(e).put(yl,n)}static v(){return Wi.v()}Zi(e){const n=Su(e);return n.get(yl).next((r=>this.es(r)?(de(Li,"Releasing primary lease."),n.delete(yl)):B.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Nn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;LS()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return de(Li,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Nn(Li,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Nn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Su(t){return tn(t,md)}function hf(t){return tn(t,Bl)}function E3(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class ix{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=ze(),a=ze();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new ix(e,n.fromCache,r,a)}}class T3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class TN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LS()?8:lA(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new T3;return this.Ss(e,n,c).next((d=>{if(o.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(El()<=qe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(El()<=qe.DEBUG&&de("QueryEngine","Query:",Tl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(El()<=qe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):B.resolve())}ys(e,n){if(FE(n))return B.resolve(null);let r=vr(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=em(n,null,"F"),r=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=ze(...o);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((h=>{const g=this.Ds(n,d);return this.Cs(n,g,c,h.readTime)?this.ys(e,em(n,null,"F")):this.vs(e,g,n,h)}))))})))))}ws(e,n,r,a){return FE(n)||a.isEqual(Ae.min())?B.resolve(null):this.ps.getDocuments(e,r).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,r,a)?B.resolve(null):(El()<=qe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Tl(n)),this.vs(e,c,n,SP(a,Gu)).next((d=>d)))}))}Ds(e,n){let r=new ct(VA(e));return n.forEach(((a,o)=>{yd(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return El()<=qe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Tl(n)),this.ps.getDocumentsMatchingQuery(e,n,Wn.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const ax="LocalStore",S3=3e8;class A3{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new _t(Ce),this.xs=new ei((o=>po(o)),pd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function SN(t,e,n,r){return new A3(t,e,n,r)}async function AN(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],d=[];let h=ze();for(const g of a){c.push(g.batchId);for(const v of g.mutations)h=h.add(v.key)}for(const g of o){d.push(g.batchId);for(const v of g.mutations)h=h.add(v.key)}return n.localDocuments.getDocuments(r,h).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function N3(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,h,g,v){const x=g.batch,E=x.keys();let T=B.resolve();return E.forEach((j=>{T=T.next((()=>v.getEntry(h,j))).next((D=>{const P=g.docVersions.get(j);we(P!==null,48541),D.version.compareTo(P)<0&&(x.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),v.addEntry(D)))}))})),T.next((()=>d.mutationQueue.removeMutationBatch(h,x)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let h=ze();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(h=h.add(d.batch.mutations[g].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function NN(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function I3(t,e){const n=je(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((v,x)=>{const E=a.get(x);if(!E)return;d.push(n.Pi.removeMatchingKeys(o,v.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(o,v.addedDocuments,x))));let T=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?T=T.withResumeToken(Zt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(v.resumeToken,r)),a=a.insert(x,T),(function(D,P,Z){return D.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=S3?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(E,T,v)&&d.push(n.Pi.updateTargetData(o,T))}));let h=Xn(),g=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,v))})),d.push(R3(o,c,e.documentUpdates).next((v=>{h=v.ks,g=v.qs}))),!r.isEqual(Ae.min())){const v=n.Pi.getLastRemoteSnapshotVersion(o).next((x=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));d.push(v)}return B.waitFor(d).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,g))).next((()=>h))})).then((o=>(n.Ms=a,o)))}function R3(t,e,n){let r=ze(),a=ze();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=Xn();return n.forEach(((d,h)=>{const g=o.get(d);h.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(Ae.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!g.isValidDocument()||h.version.compareTo(g.version)>0||h.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):de(ax,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function C3(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Wa),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function j3(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,B.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new Fs(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function ov(t,e,n){const r=je(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!aa(c))throw c;de(ax,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function v1(t,e,n){const r=je(t);let a=Ae.min(),o=ze();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,g,v){const x=je(h),E=x.xs.get(v);return E!==void 0?B.resolve(x.Ms.get(E)):x.Pi.getTargetData(g,v)})(r,c,vr(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:Ae.min(),n?o:ze()))).next((d=>(D3(r,yM(e),d),{documents:d,Qs:o})))))}function D3(t,e,n){let r=t.Os.get(e)||Ae.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class x1{constructor(){this.activeTargetIds=EM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IN{constructor(){this.Mo=new x1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new x1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class k3{Oo(e){}shutdown(){}}const b1="ConnectivityMonitor";class _1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(b1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(b1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ff=null;function lv(){return ff===null?ff=(function(){return 268435456+Math.round(2147483648*Math.random())})():ff++,"0x"+ff.toString(16)}const by="RestConnection",O3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class P3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Yf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const c=lv(),d=this.zo(e,n.toUriEncodedString());de(by,`Sending RPC '${e}' ${c}:`,d,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,o);const{host:g}=new URL(d),v=sc(g);return this.Jo(e,d,h,r,v).then((x=>(de(by,`Received RPC '${e}' ${c}: `,x),x)),(x=>{throw ho(by,`RPC '${e}' ${c} failed with error: `,x,"url: ",d,"request:",r),x}))}Ho(e,n,r,a,o,c){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ac})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=O3[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class M3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vn="WebChannelConnection";class V3 extends P3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const c=lv();return new Promise(((d,h)=>{const g=new ZS;g.setWithCredentials(!0),g.listenOnce(YS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case _f.NO_ERROR:const x=g.getResponseJson();de(vn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),d(x);break;case _f.TIMEOUT:de(vn,`RPC '${e}' ${c} timed out`),h(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const E=g.getStatus();if(de(vn,`RPC '${e}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let T=g.getResponseJson();Array.isArray(T)&&(T=T[0]);const j=T?.error;if(j&&j.status&&j.message){const D=(function(Z){const X=Z.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(X)>=0?X:te.UNKNOWN})(j.status);h(new fe(D,j.message))}else h(new fe(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new fe(te.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(vn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);de(vn,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",v,r,15)}))}T_(e,n,r){const a=lv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=WS(),d=JS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(h.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const v=o.join("");de(vn,`Creating RPC '${e}' stream ${a}: ${v}`,h);const x=c.createWebChannel(v,h);this.I_(x);let E=!1,T=!1;const j=new M3({Yo:P=>{T?de(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(E||(de(vn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),E=!0),de(vn,`RPC '${e}' stream ${a} sending:`,P),x.send(P))},Zo:()=>x.close()}),D=(P,Z,X)=>{P.listen(Z,(Q=>{try{X(Q)}catch(le){setTimeout((()=>{throw le}),0)}}))};return D(x,Au.EventType.OPEN,(()=>{T||(de(vn,`RPC '${e}' stream ${a} transport opened.`),j.o_())})),D(x,Au.EventType.CLOSE,(()=>{T||(T=!0,de(vn,`RPC '${e}' stream ${a} transport closed`),j.a_(),this.E_(x))})),D(x,Au.EventType.ERROR,(P=>{T||(T=!0,ho(vn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),j.a_(new fe(te.UNAVAILABLE,"The operation could not be completed")))})),D(x,Au.EventType.MESSAGE,(P=>{if(!T){const Z=P.data[0];we(!!Z,16349);const X=Z,Q=X?.error||X[0]?.error;if(Q){de(vn,`RPC '${e}' stream ${a} received error:`,Q);const le=Q.status;let G=(function(A){const C=Kt[A];if(C!==void 0)return YA(C)})(le),ae=Q.message;G===void 0&&(G=te.INTERNAL,ae="Unknown error status: "+le+" with message "+Q.message),T=!0,j.a_(new fe(G,ae)),x.close()}else de(vn,`RPC '${e}' stream ${a} received:`,Z),j.u_(Z)}})),D(d,XS.STAT_EVENT,(P=>{P.stat===Fy.PROXY?de(vn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===Fy.NOPROXY&&de(vn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function z3(){return typeof window<"u"?window:null}function jf(){return typeof document<"u"?document:null}function qm(t){return new LM(t,!0)}class RN{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const w1="PersistentStream";class CN{constructor(e,n,r,a,o,c,d,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Nn(n.toString()),Nn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new fe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(w1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(w1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class L3 extends CN{constructor(e,n,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=BM(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ae.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Cn(c.readTime):Ae.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=nv(this.serializer),n.addTarget=(function(o,c){let d;const h=c.target;if(d=Jf(h)?{documents:sN(o,h)}:{query:iN(o,h).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=WA(o,c.resumeToken);const g=ev(o,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ae.min())>0){d.readTime=Zl(o,c.snapshotVersion.toTimestamp());const g=ev(o,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const r=qM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=nv(this.serializer),n.removeTarget=e,this.q_(n)}}class U3 extends CN{constructor(e,n,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$M(e.writeResults,e.commitTime),r=Cn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=nv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>nm(this.serializer,r)))};this.q_(n)}}class F3{}class B3 extends F3{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,tv(n,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(te.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,tv(n,r),a,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nn(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const xo="RemoteStore";class q3{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ao(this)&&(de(xo,"Restarting streams for network reachability change."),await(async function(h){const g=je(h);g.Ea.add(4),await xd(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Hm(g)})(this))}))})),this.Ra=new $3(r,a)}}async function Hm(t){if(Ao(t))for(const e of t.da)await e(!0)}async function xd(t){for(const e of t.da)await e(!1)}function jN(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ux(n)?cx(n):cc(n).O_()&&lx(n,e))}function ox(t,e){const n=je(t),r=cc(n);n.Ia.delete(e),r.O_()&&DN(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ao(n)&&n.Ra.set("Unknown"))}function lx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cc(t).Y_(e)}function DN(t,e){t.Va.Ue(e),cc(t).Z_(e)}function cx(t){t.Va=new PM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),cc(t).start(),t.Ra.ua()}function ux(t){return Ao(t)&&!cc(t).x_()&&t.Ia.size>0}function Ao(t){return je(t).Ea.size===0}function kN(t){t.Va=void 0}async function H3(t){t.Ra.set("Online")}async function G3(t){t.Ia.forEach(((e,n)=>{lx(t,e)}))}async function K3(t,e){kN(t),ux(t)?(t.Ra.ha(e),cx(t)):t.Ra.set("Unknown")}async function Q3(t,e,n){if(t.Ra.set("Online"),e instanceof JA&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const d of o.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(r){de(xo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await om(t,r)}else if(e instanceof Rf?t.Va.Ze(e):e instanceof XA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await NN(t.localStore);n.compareTo(r)>=0&&await(function(o,c){const d=o.Va.Tt(c);return d.targetChanges.forEach(((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const v=o.Ia.get(g);v&&o.Ia.set(g,v.withResumeToken(h.resumeToken,c))}})),d.targetMismatches.forEach(((h,g)=>{const v=o.Ia.get(h);if(!v)return;o.Ia.set(h,v.withResumeToken(Zt.EMPTY_BYTE_STRING,v.snapshotVersion)),DN(o,h);const x=new Fs(v.target,h,g,v.sequenceNumber);lx(o,x)})),o.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){de(xo,"Failed to raise snapshot:",r),await om(t,r)}}async function om(t,e,n){if(!aa(e))throw e;t.Ea.add(1),await xd(t),t.Ra.set("Offline"),n||(n=()=>NN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(xo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Hm(t)}))}function ON(t,e){return e().catch((n=>om(t,n,e)))}async function bd(t){const e=je(t),n=sa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wa;for(;Z3(e);)try{const a=await C3(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,Y3(e,a)}catch(a){await om(e,a)}PN(e)&&MN(e)}function Z3(t){return Ao(t)&&t.Ta.length<10}function Y3(t,e){t.Ta.push(e);const n=sa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function PN(t){return Ao(t)&&!sa(t).x_()&&t.Ta.length>0}function MN(t){sa(t).start()}async function X3(t){sa(t).ra()}async function J3(t){const e=sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function W3(t,e,n){const r=t.Ta.shift(),a=Yv.from(r,e,n);await ON(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await bd(t)}async function eV(t,e){e&&sa(t).X_&&await(async function(r,a){if((function(c){return DM(c)&&c!==te.ABORTED})(a.code)){const o=r.Ta.shift();sa(r).B_(),await ON(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await bd(r)}})(t,e),PN(t)&&MN(t)}async function E1(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),de(xo,"RemoteStore received new credentials");const r=Ao(n);n.Ea.add(3),await xd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hm(n)}async function tV(t,e){const n=je(t);e?(n.Ea.delete(2),await Hm(n)):e||(n.Ea.add(2),await xd(n),n.Ra.set("Unknown"))}function cc(t){return t.ma||(t.ma=(function(n,r,a){const o=je(n);return o.sa(),new L3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:H3.bind(null,t),t_:G3.bind(null,t),r_:K3.bind(null,t),H_:Q3.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),ux(t)?cx(t):t.Ra.set("Unknown")):(await t.ma.stop(),kN(t))}))),t.ma}function sa(t){return t.fa||(t.fa=(function(n,r,a){const o=je(n);return o.sa(),new U3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:X3.bind(null,t),r_:eV.bind(null,t),ta:J3.bind(null,t),na:W3.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await bd(t)):(await t.fa.stop(),t.Ta.length>0&&(de(xo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class dx{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const c=Date.now()+r,d=new dx(e,n,c,a,o);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hx(t,e){if(Nn("AsyncQueue",`${e}: ${t}`),aa(t))return new fe(te.UNAVAILABLE,`${e}: ${t}`);throw t}class Cl{static emptySet(e){return new Cl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Nu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class T1{constructor(){this.ga=new _t(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Yl{constructor(e,n,r,a,o,c,d,h,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,a,o){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Yl(e,n,Cl.emptySet(n),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class nV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class rV{constructor(){this.queries=S1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=je(n),o=a.queries;a.queries=S1(),o.forEach(((c,d)=>{for(const h of d.Sa)h.onError(r)}))})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function S1(){return new ei((t=>MA(t)),Mm)}async function fx(t,e){const n=je(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new nV,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=hx(c,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&px(n)}async function mx(t,e){const n=je(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sV(t,e){const n=je(t);let r=!1;for(const a of e){const o=a.query,c=n.queries.get(o);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&px(n)}function iV(t,e,n){const r=je(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function px(t){t.Ca.forEach((e=>{e.next()}))}var cv,A1;(A1=cv||(cv={})).Ma="default",A1.Cache="cache";class gx{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cv.Cache}}class VN{constructor(e){this.key=e}}class zN{constructor(e){this.key=e}}class aV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=VA(e),this.tu=new Cl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new T1,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,x)=>{const E=a.get(v),T=yd(this.query,x)?x:null,j=!!E&&this.mutatedKeys.has(E.key),D=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;E&&T?E.data.isEqual(T.data)?j!==D&&(r.track({type:3,doc:T}),P=!0):this.su(E,T)||(r.track({type:2,doc:T}),P=!0,(h&&this.eu(T,h)>0||g&&this.eu(T,g)<0)&&(d=!0)):!E&&T?(r.track({type:0,doc:T}),P=!0):E&&!T&&(r.track({type:1,doc:E}),P=!0,(h||g)&&(d=!0)),P&&(T?(c=c.add(T),o=D?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:d,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,x)=>(function(T,j){const D=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:P})}};return D(T)-D(j)})(v.type,x.type)||this.eu(v.doc,x.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,g=h!==this.Za;return this.Za=h,c.length!==0||g?{snapshot:new Yl(this.query,e.tu,o,c,e.mutatedKeys,h===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new zN(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new VN(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yx="SyncEngine";class oV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lV{constructor(e){this.key=e,this.hu=!1}}class cV{constructor(e,n,r,a,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ei((d=>MA(d)),Mm),this.Iu=new Map,this.Eu=new Set,this.du=new _t(pe.comparator),this.Au=new Map,this.Ru=new nx,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uV(t,e,n=!0){const r=qN(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await LN(r,e,n,!0),a}async function dV(t,e){const n=qN(t);await LN(n,e,!0,!1)}async function LN(t,e,n,r){const a=await j3(t.localStore,vr(e)),o=a.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await hV(t,e,o,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&jN(t.remoteStore,a),d}async function hV(t,e,n,r,a){t.pu=(x,E,T)=>(async function(D,P,Z,X){let Q=P.view.ru(Z);Q.Cs&&(Q=await v1(D.localStore,P.query,!1).then((({documents:I})=>P.view.ru(I,Q))));const le=X&&X.targetChanges.get(P.targetId),G=X&&X.targetMismatches.get(P.targetId)!=null,ae=P.view.applyChanges(Q,D.isPrimaryClient,le,G);return I1(D,P.targetId,ae.au),ae.snapshot})(t,x,E,T);const o=await v1(t.localStore,e,!0),c=new aV(e,o.Qs),d=c.ru(o.documents),h=vd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),g=c.applyChanges(d,t.isPrimaryClient,h);I1(t,n,g.au);const v=new oV(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function fV(t,e,n){const r=je(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!Mm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await ov(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&ox(r.remoteStore,a.targetId),uv(r,a.targetId)})).catch(To)):(uv(r,a.targetId),await ov(r.localStore,a.targetId,!0))}async function mV(t,e){const n=je(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ox(n.remoteStore,r.targetId))}async function pV(t,e,n){const r=HN(t);try{const a=await(function(c,d){const h=je(c),g=at.now(),v=d.reduce(((T,j)=>T.add(j.key)),ze());let x,E;return h.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let j=Xn(),D=ze();return h.Ns.getEntries(T,v).next((P=>{j=P,j.forEach(((Z,X)=>{X.isValidDocument()||(D=D.add(Z))}))})).next((()=>h.localDocuments.getOverlayedDocuments(T,j))).next((P=>{x=P;const Z=[];for(const X of d){const Q=CM(X,x.get(X.key).overlayedDocument);Q!=null&&Z.push(new oa(X.key,Q,IA(Q.value.mapValue),Rn.exists(!0)))}return h.mutationQueue.addMutationBatch(T,g,Z,d)})).next((P=>{E=P;const Z=P.applyToLocalDocumentSet(x,D);return h.documentOverlayCache.saveOverlays(T,P.batchId,Z)}))})).then((()=>({batchId:E.batchId,changes:LA(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,h){let g=c.Vu[c.currentUser.toKey()];g||(g=new _t(Ce)),g=g.insert(d,h),c.Vu[c.currentUser.toKey()]=g})(r,a.batchId,n),await _d(r,a.changes),await bd(r.remoteStore)}catch(a){const o=hx(a,"Failed to persist write");n.reject(o)}}async function UN(t,e){const n=je(t);try{const r=await I3(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=n.Au.get(o);c&&(we(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?we(c.hu,14607):a.removedDocuments.size>0&&(we(c.hu,42227),c.hu=!1))})),await _d(n,r,e)}catch(r){await To(r)}}function N1(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const h=je(c);h.onlineState=d;let g=!1;h.queries.forEach(((v,x)=>{for(const E of x.Sa)E.va(d)&&(g=!0)})),g&&px(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gV(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let c=new _t(pe.comparator);c=c.insert(o,Ct.newNoDocument(o,Ae.min()));const d=ze().add(o),h=new Um(Ae.min(),new Map,new _t(Ce),c,d);await UN(r,h),r.du=r.du.remove(o),r.Au.delete(e),vx(r)}else await ov(r.localStore,e,!1).then((()=>uv(r,e,n))).catch(To)}async function yV(t,e){const n=je(t),r=e.batch.batchId;try{const a=await N3(n.localStore,e);BN(n,r,null),FN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _d(n,a)}catch(a){await To(a)}}async function vV(t,e,n){const r=je(t);try{const a=await(function(c,d){const h=je(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return h.mutationQueue.lookupMutationBatch(g,d).next((x=>(we(x!==null,37113),v=x.keys(),h.mutationQueue.removeMutationBatch(g,x)))).next((()=>h.mutationQueue.performConsistencyCheck(g))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>h.localDocuments.getDocuments(g,v)))}))})(r.localStore,e);BN(r,e,n),FN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _d(r,a)}catch(a){await To(a)}}function FN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function BN(t,e,n){const r=je(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function uv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||$N(t,r)}))}function $N(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ox(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),vx(t))}function I1(t,e,n){for(const r of n)r instanceof VN?(t.Ru.addReference(r.key,e),xV(t,r)):r instanceof zN?(de(yx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||$N(t,r.key)):xe(19791,{wu:r})}function xV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(de(yx,"New document in limbo: "+n),t.Eu.add(r),vx(t))}function vx(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new pe(Je.fromString(e)),r=t.fu.next();t.Au.set(r,new lV(n)),t.du=t.du.insert(n,r),jN(t.remoteStore,new Fs(vr(gd(n.path)),r,"TargetPurposeLimboResolution",gr.ce))}}async function _d(t,e,n){const r=je(t),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,h)=>{c.push(r.pu(h,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(g){a.push(g);const v=ix.As(h.targetId,g);o.push(v)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(h,g){const v=je(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>B.forEach(g,(E=>B.forEach(E.Es,(T=>v.persistence.referenceDelegate.addReference(x,E.targetId,T))).next((()=>B.forEach(E.ds,(T=>v.persistence.referenceDelegate.removeReference(x,E.targetId,T)))))))))}catch(x){if(!aa(x))throw x;de(ax,"Failed to update sequence numbers: "+x)}for(const x of g){const E=x.targetId;if(!x.fromCache){const T=v.Ms.get(E),j=T.snapshotVersion,D=T.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(E,D)}}})(r.localStore,o))}async function bV(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){de(yx,"User change. New user:",e.toKey());const r=await AN(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((h=>{h.reject(new fe(te.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _d(n,r.Ls)}}function _V(t,e){const n=je(t),r=n.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let a=ze();const o=n.Iu.get(e);if(!o)return a;for(const c of o){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function qN(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_V.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gV.bind(null,e),e.Pu.H_=sV.bind(null,e.eventManager),e.Pu.yu=iV.bind(null,e.eventManager),e}function HN(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vV.bind(null,e),e}class nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SN(this.persistence,new TN,e.initialUser,this.serializer)}Cu(e){return new rx($m.mi,this.serializer)}Du(e){return new IN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nd.provider={build:()=>new nd};class wV extends nd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){we(this.persistence.referenceDelegate instanceof am,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xN(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new rx((r=>am.mi(r,n)),this.serializer)}}class EV extends nd{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await HN(this.xu.syncEngine),await bd(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return SN(this.persistence,new TN,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new xN(r,e.asyncQueue,n)}Mu(e,n){const r=new RP(n,this.persistence);return new IP(e.asyncQueue,r)}Cu(e){const n=E3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new sx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,z3(),jf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new IN}}class lm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bV.bind(null,this.syncEngine),await tV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rV})()}createDatastore(e){const n=qm(e.databaseInfo.databaseId),r=(function(o){return new V3(o)})(e.databaseInfo);return(function(o,c,d,h){return new B3(o,c,d,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,c,d){return new q3(r,a,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>N1(this.syncEngine,n,0)),(function(){return _1.v()?new _1:new k3})())}createSyncEngine(e,n){return(function(a,o,c,d,h,g,v){const x=new cV(a,o,c,d,h,g);return v&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=je(n);de(xo,"RemoteStore shutting down."),r.Ea.add(5),await xd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lm.provider={build:()=>new lm};class xx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Nn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ia="FirestoreClient";class TV{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=Vv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{de(ia,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(de(ia,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function _y(t,e){t.asyncQueue.verifyOperationInProgress(),de(ia,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await AN(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function R1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SV(t);de(ia,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>E1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>E1(e.remoteStore,a))),t._onlineComponents=e}async function SV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(ia,"Using user provided OfflineComponentProvider");try{await _y(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await _y(t,new nd)}}else de(ia,"Using default OfflineComponentProvider"),await _y(t,new wV(void 0));return t._offlineComponents}async function GN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(ia,"Using user provided OnlineComponentProvider"),await R1(t,t._uninitializedComponentsProvider._online)):(de(ia,"Using default OnlineComponentProvider"),await R1(t,new lm))),t._onlineComponents}function AV(t){return GN(t).then((e=>e.syncEngine))}async function cm(t){const e=await GN(t),n=e.eventManager;return n.onListen=uV.bind(null,e.syncEngine),n.onUnlisten=fV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mV.bind(null,e.syncEngine),n}function NV(t,e,n={}){const r=new hs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,h,g){const v=new xx({next:E=>{v.Nu(),c.enqueueAndForget((()=>mx(o,x)));const T=E.docs.has(d);!T&&E.fromCache?g.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&h&&h.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),x=new gx(gd(d.path),v,{includeMetadataChanges:!0,qa:!0});return fx(o,x)})(await cm(t),t.asyncQueue,e,n,r))),r.promise}function IV(t,e,n={}){const r=new hs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,h,g){const v=new xx({next:E=>{v.Nu(),c.enqueueAndForget((()=>mx(o,x))),E.fromCache&&h.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),x=new gx(d,v,{includeMetadataChanges:!0,qa:!0});return fx(o,x)})(await cm(t),t.asyncQueue,e,n,r))),r.promise}function KN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const C1=new Map;const QN="firestore.googleapis.com",j1=!0;class D1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QN,this.ssl=j1}else this.host=e.host,this.ssl=e.ssl??j1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<a3)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KN(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new fP;switch(r.type){case"firstParty":return new yP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=C1.get(n);r&&(de("ComponentProvider","Removing Datastore"),C1.delete(n),r.terminate())})(this),Promise.resolve()}}function RV(t,e,n,r={}){t=Jn(t,Gm);const a=sc(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(MS(`https://${d}`),VS("Firestore",!0)),o.host!==QN&&o.host!==d&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:d,ssl:a,emulatorOptions:r};if(!lo(h,c)&&(t._setSettings(h),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=mn.MOCK_USER;else{g=$O(r.mockUserToken,t._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new mn(x)}t._authCredentials=new mP(new tA(g,v))}}class ti{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ti(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(fd(n,Vt._jsonSchema))return new Vt(e,r||null,new pe(Je.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Qt("string",Vt._jsonSchemaVersion),referencePath:Qt("string")};class ea extends ti{constructor(e,n,r){super(e,n,gd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new pe(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function bx(t,e,...n){if(t=_n(t),rA("collection","path",e),t instanceof Gm){const r=Je.fromString(e,...n);return wE(r),new ea(t,null,r)}{if(!(t instanceof Vt||t instanceof ea))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return wE(r),new ea(t.firestore,null,r)}}function uc(t,e,...n){if(t=_n(t),arguments.length===1&&(e=Vv.newId()),rA("doc","path",e),t instanceof Gm){const r=Je.fromString(e,...n);return _E(r),new Vt(t,null,new pe(r))}{if(!(t instanceof Vt||t instanceof ea))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return _E(r),new Vt(t.firestore,t instanceof ea?t.converter:null,new pe(r))}}const k1="AsyncQueue";class O1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RN(this,"async_queue_retry"),this._c=()=>{const r=jf();r&&de(k1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=jf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!aa(e))throw e;de(k1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Nn("INTERNAL UNHANDLED ERROR: ",P1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=dx.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:P1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function P1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function M1(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Ys extends Gm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new O1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O1(e),this._firestoreClient=void 0,await e}}}function CV(t,e){const n=typeof t=="object"?t:HS(),r=typeof t=="string"?t:Yf,a=Pv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=FO("firestore");o&&RV(a,...o)}return a}function Km(t){if(t._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZN(t),t._firestoreClient}function ZN(t){const e=t._freezeSettings(),n=(function(a,o,c,d){return new sM(a,o,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,KN(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new TV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}function jV(t,e){ho("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return DV(t,lm.provider,{build:r=>new EV(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function DV(t,e,n){if((t=Jn(t,Ys))._firestoreClient||t._terminated)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new fe(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},ZN(t)}class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(Zt.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pr(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fd(e,pr._jsonSchema))return pr.fromBase64String(e.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:Qt("string",pr._jsonSchemaVersion),bytes:Qt("string")};class _x{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wx{constructor(e){this._methodName=e}}class fs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fs._jsonSchemaVersion}}static fromJSON(e){if(fd(e,fs._jsonSchema))return new fs(e.latitude,e.longitude)}}fs._jsonSchemaVersion="firestore/geoPoint/1.0",fs._jsonSchema={type:Qt("string",fs._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class ms{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fd(e,ms._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ms(e.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ms._jsonSchemaVersion="firestore/vectorValue/1.0",ms._jsonSchema={type:Qt("string",ms._jsonSchemaVersion),vectorValues:Qt("object")};const kV=/^__.*__$/;class OV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new lc(e,this.data,n,this.fieldTransforms)}}function YN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class Ex{constructor(e,n,r,a,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ex({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return um(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YN(this.Ac)&&kV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class PV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qm(e)}Cc(e,n,r,a=!1){return new Ex({Ac:e,methodName:n,Dc:r,path:Et.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qm(t){const e=t._freezeSettings(),n=qm(t._databaseId);return new PV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XN(t,e,n,r,a,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);t2("Data must be an object, but it was:",c,r);const d=WN(r,c);let h,g;if(o.merge)h=new yr(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const x of o.mergeFields){const E=MV(e,x,n);if(!c.contains(E))throw new fe(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);zV(v,E)||v.push(E)}h=new yr(v),g=c.fieldTransforms.filter((x=>h.covers(x.field)))}else h=null,g=c.fieldTransforms;return new OV(new zn(d),h,g)}class Tx extends wx{_toFieldTransform(e){return new GA(e.path,new Gl)}isEqual(e){return e instanceof Tx}}function JN(t,e,n,r=!1){return Sx(n,t.Cc(r?4:3,e))}function Sx(t,e){if(e2(t=_n(t)))return t2("Unsupported field value:",e,t),WN(t,e);if(t instanceof wx)return(function(r,a){if(!YN(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const d of r){let h=Sx(d,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=_n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=at.fromDate(r);return{timestampValue:Zl(a.serializer,o)}}if(r instanceof at){const o=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zl(a.serializer,o)}}if(r instanceof fs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pr)return{bytesValue:WA(a.serializer,r._byteString)};if(r instanceof Vt){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ms)return(function(c,d){return{mapValue:{fields:{[qv]:{stringValue:Hv},[$l]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Qv(d.serializer,g)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Nm(r)}`)})(t,e)}function WN(t,e){const n={};return xA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(t,((r,a)=>{const o=Sx(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function e2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof fs||t instanceof pr||t instanceof Vt||t instanceof wx||t instanceof ms)}function t2(t,e,n){if(!e2(n)||!sA(n)){const r=Nm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function MV(t,e,n){if((e=_n(e))instanceof _x)return e._internalPath;if(typeof e=="string")return n2(t,e);throw um("Field path arguments must be of type string or ",t,!1,void 0,n)}const VV=new RegExp("[~\\*/\\[\\]]");function n2(t,e,n){if(e.search(VV)>=0)throw um(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _x(...e.split("."))._internalPath}catch{throw um(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function um(t,e,n,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new fe(te.INVALID_ARGUMENT,d+t+h)}function zV(t,e){return t.some((n=>n.isEqual(e)))}class Ax{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(r2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LV extends Ax{data(){return super.data()}}function r2(t,e){return typeof e=="string"?n2(t,e):e instanceof _x?e._internalPath:e._delegate._internalPath}function s2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nx{}class Ix extends Nx{}function UV(t,e,...n){let r=[];e instanceof Nx&&r.push(e),r=r.concat(n),(function(o){const c=o.filter((h=>h instanceof Cx)).length,d=o.filter((h=>h instanceof Rx)).length;if(c>1||c>0&&d>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class Rx extends Ix{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Rx(e,n,r)}_apply(e){const n=this._parse(e);return i2(e._query,n),new ti(e.firestore,e.converter,Wy(e._query,n))}_parse(e){const n=Qm(e.firestore);return(function(o,c,d,h,g,v,x){let E;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){z1(x,v);const j=[];for(const D of x)j.push(V1(h,o,D));E={arrayValue:{values:j}}}else E=V1(h,o,x)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||z1(x,v),E=JN(d,c,x,v==="in"||v==="not-in");return He.create(g,v,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Cx extends Nx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cx(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ot.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let c=a;const d=o.getFlattenedFilters();for(const h of d)i2(c,h),c=Wy(c,h)})(e._query,n),new ti(e.firestore,e.converter,Wy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jx extends Ix{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new jx(e,n,r)}_apply(e){return new ti(e.firestore,e.converter,em(e._query,this._limit,this._limitType))}}function FV(t){return TP("limit",t),jx._create("limit",t,"F")}class Dx extends Ix{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Dx(e,n,r)}_apply(e){const n=$V(e,this.type,this._docOrFields,this._inclusive);return new ti(e.firestore,e.converter,(function(a,o){return new oc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)})(e._query,n))}}function BV(...t){return Dx._create("startAfter",t,!1)}function $V(t,e,n,r){if(n[0]=_n(n[0]),n[0]instanceof Ax)return(function(o,c,d,h,g){if(!h)throw new fe(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const v=[];for(const x of Rl(o))if(x.field.isKeyField())v.push(mo(c,h.key));else{const E=h.data.field(x.field);if(km(E))throw new fe(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const T=x.field.canonicalString();throw new fe(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}v.push(E)}return new ra(v,g)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const a=Qm(t.firestore);return(function(c,d,h,g,v,x){const E=c.explicitOrderBy;if(v.length>E.length)throw new fe(te.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let j=0;j<v.length;j++){const D=v[j];if(E[j].field.isKeyField()){if(typeof D!="string")throw new fe(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof D}`);if(!Kv(c)&&D.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${D}' contains a slash.`);const P=c.path.child(Je.fromString(D));if(!pe.isDocumentKey(P))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const Z=new pe(P);T.push(mo(d,Z))}else{const P=JN(h,g,D);T.push(P)}}return new ra(T,x)})(t._query,t.firestore._databaseId,a,e,n,r)}}function V1(t,e,n){if(typeof(n=_n(n))=="string"){if(n==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kv(e)&&n.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!pe.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mo(t,new pe(r))}if(n instanceof Vt)return mo(t,n._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nm(n)}.`)}function z1(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i2(t,e){const n=(function(a,o){for(const c of a)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qV{convertValue(e,n="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return So(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[$l].arrayValue?.values?.map((r=>xt(r.doubleValue)));return new ms(n)}convertGeoPoint(e){return new fs(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Om(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const n=Qs(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);we(cN(r),9688,{name:e});const a=new fo(r.get(1),r.get(3)),o=new pe(r.popFirst(5));return a.isEqual(n)||Nn(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function a2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Cu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class no extends Ax{constructor(e,n,r,a,o,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(r2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=no._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}no._jsonSchemaVersion="firestore/documentSnapshot/1.0",no._jsonSchema={type:Qt("string",no._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Df extends no{data(e={}){return super.data(e)}}class ro{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Cu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Df(this._firestore,this._userDataWriter,r.key,r,new Cu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const h=new Df(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Cu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const h=new Df(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Cu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:HV(d.type),doc:h,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}function GV(t){t=Jn(t,Vt);const e=Jn(t.firestore,Ys);return NV(Km(e),t._key).then((n=>c2(e,t,n)))}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:Qt("string",ro._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class kx extends qV{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function KV(t){t=Jn(t,ti);const e=Jn(t.firestore,Ys),n=Km(e),r=new kx(e);return s2(t._query),IV(n,t._query).then((a=>new ro(e,r,t,a)))}function o2(t,e,n){t=Jn(t,Vt);const r=Jn(t.firestore,Ys),a=a2(t.converter,e,n);return Ox(r,[XN(Qm(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Rn.none())])}function QV(t){return Ox(Jn(t.firestore,Ys),[new Lm(t._key,Rn.none())])}function ZV(t,e){const n=Jn(t.firestore,Ys),r=uc(t),a=a2(t.converter,e);return Ox(n,[XN(Qm(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then((()=>r))}function l2(t,...e){t=_n(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||M1(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(M1(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let o,c,d;if(t instanceof Vt)c=Jn(t.firestore,Ys),d=gd(t._key.path),o={next:h=>{e[r]&&e[r](c2(c,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Jn(t,ti);c=Jn(h.firestore,Ys),d=h._query;const g=new kx(c);o={next:v=>{e[r]&&e[r](new ro(c,g,h,v))},error:e[r+1],complete:e[r+2]},s2(t._query)}return(function(g,v,x,E){const T=new xx(E),j=new gx(v,T,x);return g.asyncQueue.enqueueAndForget((async()=>fx(await cm(g),j))),()=>{T.Nu(),g.asyncQueue.enqueueAndForget((async()=>mx(await cm(g),j)))}})(Km(c),d,a,o)}function Ox(t,e){return(function(r,a){const o=new hs;return r.asyncQueue.enqueueAndForget((async()=>pV(await AV(r),a,o))),o.promise})(Km(t),e)}function c2(t,e,n){const r=n.docs.get(e._key),a=new kx(t);return new no(t,a,e._key,r,new Cu(n.hasPendingWrites,n.fromCache),e.converter)}function YV(){return new Tx("serverTimestamp")}(function(e,n=!0){(function(a){ac=a})(ic),Vl(new co("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new Ys(new pP(r.getProvider("auth-internal")),new vP(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(g.options.projectId,v)})(c,a),c);return o={useFetchStreams:n,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Xi(yE,vE,e),Xi(yE,vE,"esm2020")})();var XV="firebase",JV="12.7.0";Xi(XV,JV,"app");function u2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WV=u2,d2=new dd("auth","Firebase",u2());const dm=new kv("@firebase/auth");function e6(t,...e){dm.logLevel<=qe.WARN&&dm.warn(`Auth (${ic}): ${t}`,...e)}function kf(t,...e){dm.logLevel<=qe.ERROR&&dm.error(`Auth (${ic}): ${t}`,...e)}function ys(t,...e){throw Mx(t,...e)}function zr(t,...e){return Mx(t,...e)}function Px(t,e,n){const r={...WV(),[e]:n};return new dd("auth","Firebase",r).create(e,{appName:t.name})}function so(t){return Px(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ys(t,"argument-error"),Px(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return d2.create(t,...e)}function Re(t,e,...n){if(!t)throw Mx(e,...n)}function Bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kf(e),new Error(e)}function Xs(t,e){t||Bs(e)}function dv(){return typeof self<"u"&&self.location?.href||""}function n6(){return L1()==="http:"||L1()==="https:"}function L1(){return typeof self<"u"&&self.location?.protocol||null}function r6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(n6()||QO()||"connection"in navigator)?navigator.onLine:!0}function s6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class wd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xs(n>e,"Short delay should be less than long delay!"),this.isMobile=GO()||ZO()}get(){return r6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vx(t,e){Xs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class h2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const i6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const a6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],o6=new wd(3e4,6e4);function zx(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function dc(t,e,n,r,a={}){return f2(t,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=hd({key:t.config.apiKey,...c}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:h,...o};return KO()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&sc(t.emulatorConfig.host)&&(g.credentials="include"),h2.fetch()(await m2(t,t.config.apiHost,n,d),g)})}async function f2(t,e,n){t._canInitEmulator=!1;const r={...i6,...e};try{const a=new c6(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw mf(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[h,g]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw mf(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw mf(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw mf(t,"user-disabled",c);const v=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Px(t,v,g);ys(t,v)}}catch(a){if(a instanceof Ws)throw a;ys(t,"network-request-failed",{message:String(a)})}}async function l6(t,e,n,r,a={}){const o=await dc(t,e,n,r,a);return"mfaPendingCredential"in o&&ys(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function m2(t,e,n,r){const a=`${e}${n}?${r}`,o=t,c=o.config.emulator?Vx(t.config,a):`${t.config.apiScheme}://${a}`;return a6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class c6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),o6.get())})}}function mf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=zr(t,e,r);return a.customData._tokenResponse=n,a}async function u6(t,e){return dc(t,"POST","/v1/accounts:delete",e)}async function hm(t,e){return dc(t,"POST","/v1/accounts:lookup",e)}function Fu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function d6(t,e=!1){const n=_n(t),r=await n.getIdToken(e),a=Lx(r);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:r,authTime:Fu(wy(a.auth_time)),issuedAtTime:Fu(wy(a.iat)),expirationTime:Fu(wy(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function wy(t){return Number(t)*1e3}function Lx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kf("JWT malformed, contained fewer than 3 sections"),null;try{const a=jS(n);return a?JSON.parse(a):(kf("Failed to decode base64 JWT payload"),null)}catch(a){return kf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function U1(t){const e=Lx(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function rd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ws&&h6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function h6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class f6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fm(t){const e=t.auth,n=await t.getIdToken(),r=await rd(t,hm(e,{idToken:n}));Re(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?p2(a.providerUserInfo):[],c=p6(t.providerData,o),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!c?.length,g=d?h:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new hv(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function m6(t){const e=_n(t);await fm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p6(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function p2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function g6(t,e){const n=await f2(t,{},async()=>{const r=hd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,c=await m2(t,a,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return t.emulatorConfig&&sc(t.emulatorConfig.host)&&(h.credentials="include"),h2.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y6(t,e){return dc(t,"POST","/v2/accounts:revokeToken",zx(t,e))}class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=U1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await g6(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,c=new jl;return r&&(Re(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Re(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return Bs("not implemented")}}function Ui(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vr{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new f6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new hv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await rd(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return d6(this,e)}reload(){return m6(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mr(this.auth.app))return Promise.reject(so(this.auth));const e=await this.getIdToken();return await rd(this,u6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,h=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:x,emailVerified:E,isAnonymous:T,providerData:j,stsTokenManager:D}=n;Re(x&&D,e,"internal-error");const P=jl.fromJSON(this.name,D);Re(typeof x=="string",e,"internal-error"),Ui(r,e.name),Ui(a,e.name),Re(typeof E=="boolean",e,"internal-error"),Re(typeof T=="boolean",e,"internal-error"),Ui(o,e.name),Ui(c,e.name),Ui(d,e.name),Ui(h,e.name),Ui(g,e.name),Ui(v,e.name);const Z=new Vr({uid:x,auth:e,email:a,emailVerified:E,displayName:r,isAnonymous:T,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:P,createdAt:g,lastLoginAt:v});return j&&Array.isArray(j)&&(Z.providerData=j.map(X=>({...X}))),h&&(Z._redirectEventId=h),Z}static async _fromIdTokenResponse(e,n,r=!1){const a=new jl;a.updateFromServerResponse(n);const o=new Vr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await fm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?p2(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,d=new jl;d.updateFromIdToken(r);const h=new Vr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new hv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(h,g),h}}const F1=new Map;function $s(t){Xs(t instanceof Function,"Expected a class definition");let e=F1.get(t);return e?(Xs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F1.set(t,e),e)}class g2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}g2.type="NONE";const B1=g2;function Of(t,e,n){return`firebase:${t}:${e}:${n}`}class Dl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Of(this.userKey,a.apiKey,o),this.fullPersistenceKey=Of("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hm(this.auth,{idToken:e}).catch(()=>{});return n?Vr._fromGetAccountInfoResponse(this.auth,n,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Dl($s(B1),e,r);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||$s(B1);const c=Of(r,e.config.apiKey,e.name);let d=null;for(const g of n)try{const v=await g._get(c);if(v){let x;if(typeof v=="string"){const E=await hm(e,{idToken:v}).catch(()=>{});if(!E)break;x=await Vr._fromGetAccountInfoResponse(e,E,v)}else x=Vr._fromJSON(e,v);g!==o&&(d=x),o=g;break}}catch{}const h=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Dl(o,e,r):(o=h[0],d&&await o._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new Dl(o,e,r))}}function $1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(b2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w2(e))return"Blackberry";if(E2(e))return"Webos";if(v2(e))return"Safari";if((e.includes("chrome/")||x2(e))&&!e.includes("edge/"))return"Chrome";if(_2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function y2(t=en()){return/firefox\//i.test(t)}function v2(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function x2(t=en()){return/crios\//i.test(t)}function b2(t=en()){return/iemobile/i.test(t)}function _2(t=en()){return/android/i.test(t)}function w2(t=en()){return/blackberry/i.test(t)}function E2(t=en()){return/webos/i.test(t)}function Ux(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function v6(t=en()){return Ux(t)&&!!window.navigator?.standalone}function x6(){return YO()&&document.documentMode===10}function T2(t=en()){return Ux(t)||_2(t)||E2(t)||w2(t)||/windows phone/i.test(t)||b2(t)}function S2(t,e=[]){let n;switch(t){case"Browser":n=$1(en());break;case"Worker":n=`${$1(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ic}/${r}`}class b6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,d)=>{try{const h=e(o);c(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function _6(t,e={}){return dc(t,"GET","/v2/passwordPolicy",zx(t,e))}const w6=6;class E6{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??w6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class T6{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q1(this),this.idTokenSubscription=new q1(this),this.beforeStateQueue=new b6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$s(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hm(this,{idToken:e}),r=await Vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(r=d.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=s6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mr(this.app))return Promise.reject(so(this));const n=e?_n(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mr(this.app)?Promise.reject(so(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mr(this.app)?Promise.reject(so(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _6(this),n=new E6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await y6(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$s(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Dl.create(this,[$s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=S2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&e6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zm(t){return _n(t)}class q1{constructor(e){this.auth=e,this.observer=null,this.addObserver=n4(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S6(t){Fx=t}function A6(t){return Fx.loadJS(t)}function N6(){return Fx.gapiScript}function I6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function R6(t,e){const n=Pv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(lo(o,e??{}))return a;ys(a,"already-initialized")}return n.initialize({options:e})}function C6(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($s);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function j6(t,e,n){const r=Zm(t);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=A2(e),{host:c,port:d}=D6(e),h=d===null?"":`:${d}`,g={url:`${o}//${c}${h}/`},v=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(lo(g,r.config.emulator)&&lo(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,sc(c)?(MS(`${o}//${c}${h}`),VS("Auth",!0)):k6()}function A2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function D6(t){const e=A2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:H1(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:H1(c)}}}function H1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function k6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class N2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bs("not implemented")}_getIdTokenResponse(e){return Bs("not implemented")}_linkToIdToken(e,n){return Bs("not implemented")}_getReauthenticationResolver(e){return Bs("not implemented")}}async function kl(t,e){return l6(t,"POST","/v1/accounts:signInWithIdp",zx(t,e))}const O6="http://localhost";class bo extends N2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const c=new bo(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return kl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,kl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kl(e,n)}buildRequest(){const e={requestUri:O6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hd(n)}return e}}class Bx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ed extends Bx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $i extends Ed{constructor(){super("facebook.com")}static credential(e){return bo._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.FACEBOOK_SIGN_IN_METHOD="facebook.com";$i.PROVIDER_ID="facebook.com";class Us extends Ed{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bo._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Us.credential(n,r)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";class qi extends Ed{constructor(){super("github.com")}static credential(e){return bo._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";class Hi extends Ed{constructor(){super("twitter.com")}static credential(e,n){return bo._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hi.credential(n,r)}catch{return null}}}Hi.TWITTER_SIGN_IN_METHOD="twitter.com";Hi.PROVIDER_ID="twitter.com";class Xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Vr._fromIdTokenResponse(e,r,a),c=G1(r);return new Xl({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=G1(r);return new Xl({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function G1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class mm extends Ws{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,mm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new mm(e,n,r,a)}}function I2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mm._fromErrorAndOperation(t,o,e,r):o})}async function P6(t,e,n=!1){const r=await rd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xl._forOperation(t,"link",r)}async function M6(t,e,n=!1){const{auth:r}=t;if(Mr(r.app))return Promise.reject(so(r));const a="reauthenticate";try{const o=await rd(t,I2(r,a,e,t),n);Re(o.idToken,r,"internal-error");const c=Lx(o.idToken);Re(c,r,"internal-error");const{sub:d}=c;return Re(t.uid===d,r,"user-mismatch"),Xl._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&ys(r,"user-mismatch"),o}}async function V6(t,e,n=!1){if(Mr(t.app))return Promise.reject(so(t));const r="signIn",a=await I2(t,r,e),o=await Xl._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}function z6(t,e,n,r){return _n(t).onIdTokenChanged(e,n,r)}function L6(t,e,n){return _n(t).beforeAuthStateChanged(e,n)}function R2(t,e,n,r){return _n(t).onAuthStateChanged(e,n,r)}function U6(t){return _n(t).signOut()}const pm="__sak";class C2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pm,"1"),this.storage.removeItem(pm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const F6=1e3,B6=10;class j2 extends C2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);x6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,B6):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},F6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}j2.type="LOCAL";const $6=j2;class D2 extends C2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}D2.type="SESSION";const k2=D2;function q6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ym{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Ym(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,o)),h=await q6(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ym.receivers=[];function $x(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class H6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((d,h)=>{const g=$x("",20);a.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(x){const E=x;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(E.data.response);break;default:clearTimeout(v),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ps(){return window}function G6(t){ps().location.href=t}function O2(){return typeof ps().WorkerGlobalScope<"u"&&typeof ps().importScripts=="function"}async function K6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q6(){return navigator?.serviceWorker?.controller||null}function Z6(){return O2()?self:null}const P2="firebaseLocalStorageDb",Y6=1,gm="firebaseLocalStorage",M2="fbase_key";class Td{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xm(t,e){return t.transaction([gm],e?"readwrite":"readonly").objectStore(gm)}function X6(){const t=indexedDB.deleteDatabase(P2);return new Td(t).toPromise()}function fv(){const t=indexedDB.open(P2,Y6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gm,{keyPath:M2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gm)?e(r):(r.close(),await X6(),e(await fv()))})})}async function K1(t,e,n){const r=Xm(t,!0).put({[M2]:e,value:n});return new Td(r).toPromise()}async function J6(t,e){const n=Xm(t,!1).get(e),r=await new Td(n).toPromise();return r===void 0?null:r.value}function Q1(t,e){const n=Xm(t,!0).delete(e);return new Td(n).toPromise()}const W6=800,ez=3;class V2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ez)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ym._getInstance(Z6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await K6(),!this.activeServiceWorker)return;this.sender=new H6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fv();return await K1(e,pm,"1"),await Q1(e,pm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>K1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>J6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Xm(a,!1).getAll();return new Td(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V2.type="LOCAL";const tz=V2;new wd(3e4,6e4);function z2(t,e){return e?$s(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class qx extends N2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nz(t){return V6(t.auth,new qx(t),t.bypassAuthState)}function rz(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),M6(n,new qx(t),t.bypassAuthState)}async function sz(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),P6(n,new qx(t),t.bypassAuthState)}class L2{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nz;case"linkViaPopup":case"linkViaRedirect":return sz;case"reauthViaPopup":case"reauthViaRedirect":return rz;default:ys(this.auth,"internal-error")}}resolve(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iz=new wd(2e3,1e4);async function az(t,e,n){if(Mr(t.app))return Promise.reject(zr(t,"operation-not-supported-in-this-environment"));const r=Zm(t);t6(t,e,Bx);const a=z2(r,n);return new Ja(r,"signInViaPopup",e,a).executeNotNull()}class Ja extends L2{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Xs(this.filter.length===1,"Popup operations only handle one event");const e=$x();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iz.get())};e()}}Ja.currentPopupAction=null;const oz="pendingRedirect",Pf=new Map;class lz extends L2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pf.get(this.auth._key());if(!e){try{const r=await cz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pf.set(this.auth._key(),e)}return this.bypassAuthState||Pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cz(t,e){const n=hz(e),r=dz(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function uz(t,e){Pf.set(t._key(),e)}function dz(t){return $s(t._redirectPersistence)}function hz(t){return Of(oz,t.config.apiKey,t.name)}async function fz(t,e,n=!1){if(Mr(t.app))return Promise.reject(so(t));const r=Zm(t),a=z2(r,e),c=await new lz(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const mz=600*1e3;class pz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!U2(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(zr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mz&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z1(e))}saveEventToCache(e){this.cachedEventUids.add(Z1(e)),this.lastProcessedEventTime=Date.now()}}function Z1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function U2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function gz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U2(t);default:return!1}}async function yz(t,e={}){return dc(t,"GET","/v1/projects",e)}const vz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xz=/^https?/;async function bz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yz(t);for(const n of e)try{if(_z(n))return}catch{}ys(t,"unauthorized-domain")}function _z(t){const e=dv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!xz.test(n))return!1;if(vz.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const wz=new wd(3e4,6e4);function Y1(){const t=ps().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ez(t){return new Promise((e,n)=>{function r(){Y1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y1(),n(zr(t,"network-request-failed"))},timeout:wz.get()})}if(ps().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ps().gapi?.load)r();else{const a=I6("iframefcb");return ps()[a]=()=>{gapi.load?r():n(zr(t,"network-request-failed"))},A6(`${N6()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw Mf=null,e})}let Mf=null;function Tz(t){return Mf=Mf||Ez(t),Mf}const Sz=new wd(5e3,15e3),Az="__/auth/iframe",Nz="emulator/auth/iframe",Iz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cz(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vx(e,Nz):`https://${t.config.authDomain}/${Az}`,r={apiKey:e.apiKey,appName:t.name,v:ic},a=Rz.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${hd(r).slice(1)}`}async function jz(t){const e=await Tz(t),n=ps().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:Cz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Iz,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=zr(t,"network-request-failed"),d=ps().setTimeout(()=>{o(c)},Sz.get());function h(){ps().clearTimeout(d),a(r)}r.ping(h).then(h,()=>{o(c)})}))}const Dz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kz=500,Oz=600,Pz="_blank",Mz="http://localhost";class X1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vz(t,e,n,r=kz,a=Oz){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h={...Dz,width:r.toString(),height:a.toString(),top:o,left:c},g=en().toLowerCase();n&&(d=x2(g)?Pz:n),y2(g)&&(e=e||Mz,h.scrollbars="yes");const v=Object.entries(h).reduce((E,[T,j])=>`${E}${T}=${j},`,"");if(v6(g)&&d!=="_self")return zz(e||"",d),new X1(null);const x=window.open(e||"",d,v);Re(x,t,"popup-blocked");try{x.focus()}catch{}return new X1(x)}function zz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Lz="__/auth/handler",Uz="emulator/auth/handler",Fz=encodeURIComponent("fac");async function J1(t,e,n,r,a,o){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ic,eventId:a};if(e instanceof Bx){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",t4(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))c[v]=x}if(e instanceof Ed){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const h=await t._getAppCheckToken(),g=h?`#${Fz}=${encodeURIComponent(h)}`:"";return`${Bz(t)}?${hd(d).slice(1)}${g}`}function Bz({config:t}){return t.emulator?Vx(t,Uz):`https://${t.authDomain}/${Lz}`}const Ey="webStorageSupport";class $z{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k2,this._completeRedirectFn=fz,this._overrideRedirectResult=uz}async _openPopup(e,n,r,a){Xs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await J1(e,n,r,dv(),a);return Vz(e,o,$x())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await J1(e,n,r,dv(),a);return G6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Xs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jz(e),r=new pz(e);return n.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ey,{type:Ey},a=>{const o=a?.[0]?.[Ey];o!==void 0&&n(!!o),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return T2()||v2()||Ux()}}const qz=$z;var W1="@firebase/auth",eT="1.12.0";class Hz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Gz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kz(t){Vl(new co("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S2(t)},g=new T6(r,a,o,h);return C6(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vl(new co("auth-internal",e=>{const n=Zm(e.getProvider("auth").getImmediate());return(r=>new Hz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(W1,eT,Gz(t)),Xi(W1,eT,"esm2020")}const Qz=300,Zz=PS("authIdTokenMaxAge")||Qz;let tT=null;const Yz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Zz)return;const a=n?.token;tT!==a&&(tT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Xz(t=HS()){const e=Pv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=R6(t,{popupRedirectResolver:qz,persistence:[tz,$6,k2]}),r=PS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=Yz(o.toString());L6(n,c,()=>c(n.currentUser)),z6(n,d=>c(d))}}const a=kS("auth");return a&&j6(n,`http://${a}`),n}function Jz(){return document.getElementsByTagName("head")?.[0]??document}S6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=zr("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",Jz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kz("Browser");const Wz={apiKey:"AIzaSyBn06ZTtPhI0iJhPKeQwDH1TTRdhPZiBn0",authDomain:"paddleup-thechallenge.firebaseapp.com",projectId:"paddleup-thechallenge",storageBucket:void 0,messagingSenderId:"490973136832",appId:"1:490973136832:web:1811051408fdde8fbcea25",measurementId:"G-D3YR1YJXPN"},F2=hE().length?hE()[0]:qS(Wz),ni=CV(F2),Vf=Xz(F2);typeof window<"u"&&jV(ni).catch(t=>{console.debug("IndexedDB persistence not enabled:",t?.code??t?.message??t)});function B2(t,e,n){const r=bx(t,e);return n?r.withConverter(n):r}async function e5(t,e,n){const r=uc(ni,t,e),a=n?r.withConverter(n):r,o=await GV(a);return o.exists()?o.data():null}async function $2(t,e,n){const r=B2(ni,t,n);return(await ZV(r,e)).id}async function t5(t,e,n,r){const a=uc(ni,t,e),o=r?a.withConverter(r):a;await o2(o,n)}async function n5(t,e,n,r){const a=uc(ni,t,e),o=r?a.withConverter(r):a;await o2(o,n,{merge:!0})}async function r5(t,e){const n=uc(ni,t,e);await QV(n)}async function s5(t,e){const{pageSize:n=20,cursor:r=null,additionalConstraints:a=[],converter:o}=e??{},c=B2(ni,t,o),d=[FV(n),...a];r&&d.push(BV(r));const h=UV(c,...d),g=await KV(h),v=g.docs.map(E=>E.data()),x=g.docs[g.docs.length-1]??null;return{docs:v,nextCursor:x?x.id:null}}function ie(t,e,n){function r(d,h){if(d._zod||Object.defineProperty(d,"_zod",{value:{def:h,constr:c,traits:new Set},enumerable:!1}),d._zod.traits.has(t))return;d._zod.traits.add(t),e(d,h);const g=c.prototype,v=Object.keys(g);for(let x=0;x<v.length;x++){const E=v[x];E in d||(d[E]=g[E].bind(d))}}const a=n?.Parent??Object;class o extends a{}Object.defineProperty(o,"name",{value:t});function c(d){var h;const g=n?.Parent?new o:this;r(g,d),(h=g._zod).deferred??(h.deferred=[]);for(const v of g._zod.deferred)v();return g}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:d=>n?.Parent&&d instanceof n.Parent?!0:d?._zod?.traits?.has(t)}),Object.defineProperty(c,"name",{value:t}),c}class Ol extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class q2 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const H2={};function _o(t){return H2}function G2(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,a])=>e.indexOf(+r)===-1).map(([r,a])=>a)}function mv(t,e){return typeof e=="bigint"?e.toString():e}function Hx(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Gx(t){return t==null}function Kx(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function i5(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const h=r.match(/\d?e-(\d?)/);h?.[1]&&(a=Number.parseInt(h[1]))}const o=n>a?n:a,c=Number.parseInt(t.toFixed(o).replace(".","")),d=Number.parseInt(e.toFixed(o).replace(".",""));return c%d/10**o}const nT=Symbol("evaluating");function lt(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==nT)return r===void 0&&(r=nT,r=n()),r},set(a){Object.defineProperty(t,e,{value:a})},configurable:!0})}function No(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function la(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function rT(t){return JSON.stringify(t)}function a5(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const K2="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function ym(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const o5=Hx(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function sd(t){if(ym(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(ym(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Q2(t){return sd(t)?{...t}:Array.isArray(t)?[...t]:t}const l5=new Set(["string","number","symbol"]);function Jl(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ca(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Se(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function c5(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const u5={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function d5(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=la(t._zod.def,{get shape(){const c={};for(const d in e){if(!(d in n.shape))throw new Error(`Unrecognized key: "${d}"`);e[d]&&(c[d]=n.shape[d])}return No(this,"shape",c),c},checks:[]});return ca(t,o)}function h5(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=la(t._zod.def,{get shape(){const c={...t._zod.def.shape};for(const d in e){if(!(d in n.shape))throw new Error(`Unrecognized key: "${d}"`);e[d]&&delete c[d]}return No(this,"shape",c),c},checks:[]});return ca(t,o)}function f5(t,e){if(!sd(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const o=t._zod.def.shape;for(const c in e)if(Object.getOwnPropertyDescriptor(o,c)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=la(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return No(this,"shape",o),o}});return ca(t,a)}function m5(t,e){if(!sd(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=la(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return No(this,"shape",r),r}});return ca(t,n)}function p5(t,e){const n=la(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return No(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return ca(t,n)}function g5(t,e,n){const a=e._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const c=la(e._zod.def,{get shape(){const d=e._zod.def.shape,h={...d};if(n)for(const g in n){if(!(g in d))throw new Error(`Unrecognized key: "${g}"`);n[g]&&(h[g]=t?new t({type:"optional",innerType:d[g]}):d[g])}else for(const g in d)h[g]=t?new t({type:"optional",innerType:d[g]}):d[g];return No(this,"shape",h),h},checks:[]});return ca(e,c)}function y5(t,e,n){const r=la(e._zod.def,{get shape(){const a=e._zod.def.shape,o={...a};if(n)for(const c in n){if(!(c in o))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(o[c]=new t({type:"nonoptional",innerType:a[c]}))}else for(const c in a)o[c]=new t({type:"nonoptional",innerType:a[c]});return No(this,"shape",o),o}});return ca(e,r)}function Il(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function Z2(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function pf(t){return typeof t=="string"?t:t?.message}function wo(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const a=pf(t.inst?._zod.def?.error?.(t))??pf(e?.error?.(t))??pf(n.customError?.(t))??pf(n.localeError?.(t))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Qx(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function id(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const Y2=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,mv,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},X2=ie("$ZodError",Y2),J2=ie("$ZodError",Y2,{Parent:Error});function v5(t,e=n=>n.message){const n={},r=[];for(const a of t.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}function x5(t,e=n=>n.message){const n={_errors:[]},r=a=>{for(const o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(c=>r({issues:c}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(e(o));else{let c=n,d=0;for(;d<o.path.length;){const h=o.path[d];d===o.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(e(o))):c[h]=c[h]||{_errors:[]},c=c[h],d++}}};return r(t),n}const Zx=t=>(e,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},c=e._zod.run({value:n,issues:[]},o);if(c instanceof Promise)throw new Ol;if(c.issues.length){const d=new(a?.Err??t)(c.issues.map(h=>wo(h,o,_o())));throw K2(d,a?.callee),d}return c.value},Yx=t=>async(e,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let c=e._zod.run({value:n,issues:[]},o);if(c instanceof Promise&&(c=await c),c.issues.length){const d=new(a?.Err??t)(c.issues.map(h=>wo(h,o,_o())));throw K2(d,a?.callee),d}return c.value},Jm=t=>(e,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new Ol;return o.issues.length?{success:!1,error:new(t??X2)(o.issues.map(c=>wo(c,a,_o())))}:{success:!0,data:o.value}},b5=Jm(J2),Wm=t=>async(e,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(c=>wo(c,a,_o())))}:{success:!0,data:o.value}},_5=Wm(J2),w5=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Zx(t)(e,n,a)},E5=t=>(e,n,r)=>Zx(t)(e,n,r),T5=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Yx(t)(e,n,a)},S5=t=>async(e,n,r)=>Yx(t)(e,n,r),A5=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Jm(t)(e,n,a)},N5=t=>(e,n,r)=>Jm(t)(e,n,r),I5=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Wm(t)(e,n,a)},R5=t=>async(e,n,r)=>Wm(t)(e,n,r),C5=/^[cC][^\s-]{8,}$/,j5=/^[0-9a-z]+$/,D5=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,k5=/^[0-9a-vA-V]{20}$/,O5=/^[A-Za-z0-9]{27}$/,P5=/^[a-zA-Z0-9_-]{21}$/,M5=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,V5=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,sT=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,z5=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,L5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function U5(){return new RegExp(L5,"u")}const F5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,B5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,$5=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,q5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,H5=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,W2=/^[A-Za-z0-9_-]*$/,G5=/^\+[1-9]\d{6,14}$/,eI="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",K5=new RegExp(`^${eI}$`);function tI(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Q5(t){return new RegExp(`^${tI(t)}$`)}function Z5(t){const e=tI({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${eI}T(?:${r})$`)}const Y5=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},X5=/^-?\d+$/,J5=/^-?\d+(?:\.\d+)?$/,W5=/^[^A-Z]*$/,eL=/^[^a-z]*$/,Un=ie("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),nI={number:"number",bigint:"bigint",object:"date"},rI=ie("$ZodCheckLessThan",(t,e)=>{Un.init(t,e);const n=nI[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?a.maximum=e.value:a.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),sI=ie("$ZodCheckGreaterThan",(t,e)=>{Un.init(t,e);const n=nI[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?a.minimum=e.value:a.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),tL=ie("$ZodCheckMultipleOf",(t,e)=>{Un.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):i5(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),nL=ie("$ZodCheckNumberFormat",(t,e)=>{Un.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[a,o]=u5[e.format];t._zod.onattach.push(c=>{const d=c._zod.bag;d.format=e.format,d.minimum=a,d.maximum=o,n&&(d.pattern=X5)}),t._zod.check=c=>{const d=c.value;if(n){if(!Number.isInteger(d)){c.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:d,inst:t});return}if(!Number.isSafeInteger(d)){d>0?c.issues.push({input:d,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):c.issues.push({input:d,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}d<a&&c.issues.push({origin:"number",input:d,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!e.abort}),d>o&&c.issues.push({origin:"number",input:d,code:"too_big",maximum:o,inclusive:!0,inst:t,continue:!e.abort})}}),rL=ie("$ZodCheckMaxLength",(t,e)=>{var n;Un.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!Gx(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const a=r.value;if(a.length<=e.maximum)return;const c=Qx(a);r.issues.push({origin:c,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),sL=ie("$ZodCheckMinLength",(t,e)=>{var n;Un.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!Gx(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const a=r.value;if(a.length>=e.minimum)return;const c=Qx(a);r.issues.push({origin:c,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),iL=ie("$ZodCheckLengthEquals",(t,e)=>{var n;Un.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!Gx(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=r=>{const a=r.value,o=a.length;if(o===e.length)return;const c=Qx(a),d=o>e.length;r.issues.push({origin:c,...d?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),ep=ie("$ZodCheckStringFormat",(t,e)=>{var n,r;Un.init(t,e),t._zod.onattach.push(a=>{const o=a._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),aL=ie("$ZodCheckRegex",(t,e)=>{ep.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),oL=ie("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=W5),ep.init(t,e)}),lL=ie("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=eL),ep.init(t,e)}),cL=ie("$ZodCheckIncludes",(t,e)=>{Un.init(t,e);const n=Jl(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),uL=ie("$ZodCheckStartsWith",(t,e)=>{Un.init(t,e);const n=new RegExp(`^${Jl(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),dL=ie("$ZodCheckEndsWith",(t,e)=>{Un.init(t,e);const n=new RegExp(`.*${Jl(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),hL=ie("$ZodCheckOverwrite",(t,e)=>{Un.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class fL{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(c=>c),a=Math.min(...r.map(c=>c.length-c.trimStart().length)),o=r.map(c=>c.slice(a)).map(c=>" ".repeat(this.indent*2)+c);for(const c of o)this.content.push(c)}compile(){const e=Function,n=this?.args,a=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...n,a.join(`
`))}}const mL={major:4,minor:3,patch:5},jt=ie("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=mL;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const o of a._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(c,d,h)=>{let g=Il(c),v;for(const x of d){if(x._zod.def.when){if(!x._zod.def.when(c))continue}else if(g)continue;const E=c.issues.length,T=x._zod.check(c);if(T instanceof Promise&&h?.async===!1)throw new Ol;if(v||T instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await T,c.issues.length!==E&&(g||(g=Il(c,E)))});else{if(c.issues.length===E)continue;g||(g=Il(c,E))}}return v?v.then(()=>c):c},o=(c,d,h)=>{if(Il(c))return c.aborted=!0,c;const g=a(d,r,h);if(g instanceof Promise){if(h.async===!1)throw new Ol;return g.then(v=>t._zod.parse(v,h))}return t._zod.parse(g,h)};t._zod.run=(c,d)=>{if(d.skipChecks)return t._zod.parse(c,d);if(d.direction==="backward"){const g=t._zod.parse({value:c.value,issues:[]},{...d,skipChecks:!0});return g instanceof Promise?g.then(v=>o(v,c,d)):o(g,c,d)}const h=t._zod.parse(c,d);if(h instanceof Promise){if(d.async===!1)throw new Ol;return h.then(g=>a(g,r,d))}return a(h,r,d)}}lt(t,"~standard",()=>({validate:a=>{try{const o=b5(t,a);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return _5(t,a).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}))}),Xx=ie("$ZodString",(t,e)=>{jt.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??Y5(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),wt=ie("$ZodStringFormat",(t,e)=>{ep.init(t,e),Xx.init(t,e)}),pL=ie("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=V5),wt.init(t,e)}),gL=ie("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=sT(r))}else e.pattern??(e.pattern=sT());wt.init(t,e)}),yL=ie("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=z5),wt.init(t,e)}),vL=ie("$ZodURL",(t,e)=>{wt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=a.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),xL=ie("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=U5()),wt.init(t,e)}),bL=ie("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=P5),wt.init(t,e)}),_L=ie("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=C5),wt.init(t,e)}),wL=ie("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=j5),wt.init(t,e)}),EL=ie("$ZodULID",(t,e)=>{e.pattern??(e.pattern=D5),wt.init(t,e)}),TL=ie("$ZodXID",(t,e)=>{e.pattern??(e.pattern=k5),wt.init(t,e)}),SL=ie("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=O5),wt.init(t,e)}),AL=ie("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=Z5(e)),wt.init(t,e)}),NL=ie("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=K5),wt.init(t,e)}),IL=ie("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=Q5(e)),wt.init(t,e)}),RL=ie("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=M5),wt.init(t,e)}),CL=ie("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=F5),wt.init(t,e),t._zod.bag.format="ipv4"}),jL=ie("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=B5),wt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),DL=ie("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=$5),wt.init(t,e)}),kL=ie("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=q5),wt.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[a,o]=r;if(!o)throw new Error;const c=Number(o);if(`${c}`!==o)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function iI(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const OL=ie("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=H5),wt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{iI(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function PL(t){if(!W2.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return iI(n)}const ML=ie("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=W2),wt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{PL(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),VL=ie("$ZodE164",(t,e)=>{e.pattern??(e.pattern=G5),wt.init(t,e)});function zL(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const LL=ie("$ZodJWT",(t,e)=>{wt.init(t,e),t._zod.check=n=>{zL(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),aI=ie("$ZodNumber",(t,e)=>{jt.init(t,e),t._zod.pattern=t._zod.bag.pattern??J5,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...o?{received:o}:{}}),n}}),UL=ie("$ZodNumberFormat",(t,e)=>{nL.init(t,e),aI.init(t,e)}),FL=ie("$ZodUnknown",(t,e)=>{jt.init(t,e),t._zod.parse=n=>n}),BL=ie("$ZodNever",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),$L=ie("$ZodDate",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const a=n.value,o=a instanceof Date;return o&&!Number.isNaN(a.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:a,...o?{received:"Invalid Date"}:{},inst:t}),n}});function iT(t,e,n){t.issues.length&&e.issues.push(...Z2(n,t.issues)),e.value[n]=t.value}const qL=ie("$ZodArray",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),n;n.value=Array(a.length);const o=[];for(let c=0;c<a.length;c++){const d=a[c],h=e.element._zod.run({value:d,issues:[]},r);h instanceof Promise?o.push(h.then(g=>iT(g,n,c))):iT(h,n,c)}return o.length?Promise.all(o).then(()=>n):n}});function vm(t,e,n,r,a){if(t.issues.length){if(a&&!(n in r))return;e.issues.push(...Z2(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function oI(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=c5(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function lI(t,e,n,r,a,o){const c=[],d=a.keySet,h=a.catchall._zod,g=h.def.type,v=h.optout==="optional";for(const x in e){if(d.has(x))continue;if(g==="never"){c.push(x);continue}const E=h.run({value:e[x],issues:[]},r);E instanceof Promise?t.push(E.then(T=>vm(T,n,x,e,v))):vm(E,n,x,e,v)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:e,inst:o}),t.length?Promise.all(t).then(()=>n):n}const HL=ie("$ZodObject",(t,e)=>{if(jt.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const d=e.shape;Object.defineProperty(e,"shape",{get:()=>{const h={...d};return Object.defineProperty(e,"shape",{value:h}),h}})}const r=Hx(()=>oI(e));lt(t._zod,"propValues",()=>{const d=e.shape,h={};for(const g in d){const v=d[g]._zod;if(v.values){h[g]??(h[g]=new Set);for(const x of v.values)h[g].add(x)}}return h});const a=ym,o=e.catchall;let c;t._zod.parse=(d,h)=>{c??(c=r.value);const g=d.value;if(!a(g))return d.issues.push({expected:"object",code:"invalid_type",input:g,inst:t}),d;d.value={};const v=[],x=c.shape;for(const E of c.keys){const T=x[E],j=T._zod.optout==="optional",D=T._zod.run({value:g[E],issues:[]},h);D instanceof Promise?v.push(D.then(P=>vm(P,d,E,g,j))):vm(D,d,E,g,j)}return o?lI(v,g,d,h,r.value,t):v.length?Promise.all(v).then(()=>d):d}}),GL=ie("$ZodObjectJIT",(t,e)=>{HL.init(t,e);const n=t._zod.parse,r=Hx(()=>oI(e)),a=E=>{const T=new fL(["shape","payload","ctx"]),j=r.value,D=Q=>{const le=rT(Q);return`shape[${le}]._zod.run({ value: input[${le}], issues: [] }, ctx)`};T.write("const input = payload.value;");const P=Object.create(null);let Z=0;for(const Q of j.keys)P[Q]=`key_${Z++}`;T.write("const newResult = {};");for(const Q of j.keys){const le=P[Q],G=rT(Q),I=E[Q]?._zod?.optout==="optional";T.write(`const ${le} = ${D(Q)};`),I?T.write(`
        if (${le}.issues.length) {
          if (${G} in input) {
            payload.issues = payload.issues.concat(${le}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${G}, ...iss.path] : [${G}]
            })));
          }
        }
        
        if (${le}.value === undefined) {
          if (${G} in input) {
            newResult[${G}] = undefined;
          }
        } else {
          newResult[${G}] = ${le}.value;
        }
        
      `):T.write(`
        if (${le}.issues.length) {
          payload.issues = payload.issues.concat(${le}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${G}, ...iss.path] : [${G}]
          })));
        }
        
        if (${le}.value === undefined) {
          if (${G} in input) {
            newResult[${G}] = undefined;
          }
        } else {
          newResult[${G}] = ${le}.value;
        }
        
      `)}T.write("payload.value = newResult;"),T.write("return payload;");const X=T.compile();return(Q,le)=>X(E,Q,le)};let o;const c=ym,d=!H2.jitless,g=d&&o5.value,v=e.catchall;let x;t._zod.parse=(E,T)=>{x??(x=r.value);const j=E.value;return c(j)?d&&g&&T?.async===!1&&T.jitless!==!0?(o||(o=a(e.shape)),E=o(E,T),v?lI([],j,E,T,x,t):E):n(E,T):(E.issues.push({expected:"object",code:"invalid_type",input:j,inst:t}),E)}});function aT(t,e,n,r){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const a=t.filter(o=>!Il(o));return a.length===1?(e.value=a[0].value,a[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(o=>o.issues.map(c=>wo(c,r,_o())))}),e)}const KL=ie("$ZodUnion",(t,e)=>{jt.init(t,e),lt(t._zod,"optin",()=>e.options.some(a=>a._zod.optin==="optional")?"optional":void 0),lt(t._zod,"optout",()=>e.options.some(a=>a._zod.optout==="optional")?"optional":void 0),lt(t._zod,"values",()=>{if(e.options.every(a=>a._zod.values))return new Set(e.options.flatMap(a=>Array.from(a._zod.values)))}),lt(t._zod,"pattern",()=>{if(e.options.every(a=>a._zod.pattern)){const a=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${a.map(o=>Kx(o.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(a,o)=>{if(n)return r(a,o);let c=!1;const d=[];for(const h of e.options){const g=h._zod.run({value:a.value,issues:[]},o);if(g instanceof Promise)d.push(g),c=!0;else{if(g.issues.length===0)return g;d.push(g)}}return c?Promise.all(d).then(h=>aT(h,a,t,o)):aT(d,a,t,o)}}),QL=ie("$ZodIntersection",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>{const a=n.value,o=e.left._zod.run({value:a,issues:[]},r),c=e.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||c instanceof Promise?Promise.all([o,c]).then(([h,g])=>oT(n,h,g)):oT(n,o,c)}});function pv(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(sd(t)&&sd(e)){const n=Object.keys(e),r=Object.keys(t).filter(o=>n.indexOf(o)!==-1),a={...t,...e};for(const o of r){const c=pv(t[o],e[o]);if(!c.valid)return{valid:!1,mergeErrorPath:[o,...c.mergeErrorPath]};a[o]=c.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const a=t[r],o=e[r],c=pv(a,o);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function oT(t,e,n){const r=new Map;let a;for(const d of e.issues)if(d.code==="unrecognized_keys"){a??(a=d);for(const h of d.keys)r.has(h)||r.set(h,{}),r.get(h).l=!0}else t.issues.push(d);for(const d of n.issues)if(d.code==="unrecognized_keys")for(const h of d.keys)r.has(h)||r.set(h,{}),r.get(h).r=!0;else t.issues.push(d);const o=[...r].filter(([,d])=>d.l&&d.r).map(([d])=>d);if(o.length&&a&&t.issues.push({...a,keys:o}),Il(t))return t;const c=pv(e.value,n.value);if(!c.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(c.mergeErrorPath)}`);return t.value=c.data,t}const ZL=ie("$ZodEnum",(t,e)=>{jt.init(t,e);const n=G2(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(a=>l5.has(typeof a)).map(a=>typeof a=="string"?Jl(a):a.toString()).join("|")})$`),t._zod.parse=(a,o)=>{const c=a.value;return r.has(c)||a.issues.push({code:"invalid_value",values:n,input:c,inst:t}),a}}),YL=ie("$ZodLiteral",(t,e)=>{if(jt.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?Jl(r):r?Jl(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,a)=>{const o=r.value;return n.has(o)||r.issues.push({code:"invalid_value",values:e.values,input:o,inst:t}),r}}),XL=ie("$ZodTransform",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new q2(t.constructor.name);const a=e.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(c=>(n.value=c,n));if(a instanceof Promise)throw new Ol;return n.value=a,n}});function lT(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const cI=ie("$ZodOptional",(t,e)=>{jt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",lt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),lt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Kx(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>lT(o,n.value)):lT(a,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),JL=ie("$ZodExactOptional",(t,e)=>{cI.init(t,e),lt(t._zod,"values",()=>e.innerType._zod.values),lt(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),WL=ie("$ZodNullable",(t,e)=>{jt.init(t,e),lt(t._zod,"optin",()=>e.innerType._zod.optin),lt(t._zod,"optout",()=>e.innerType._zod.optout),lt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Kx(n.source)}|null)$`):void 0}),lt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),eU=ie("$ZodDefault",(t,e)=>{jt.init(t,e),t._zod.optin="optional",lt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>cT(o,e)):cT(a,e)}});function cT(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const tU=ie("$ZodPrefault",(t,e)=>{jt.init(t,e),t._zod.optin="optional",lt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),nU=ie("$ZodNonOptional",(t,e)=>{jt.init(t,e),lt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>uT(o,t)):uT(a,t)}});function uT(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const rU=ie("$ZodCatch",(t,e)=>{jt.init(t,e),lt(t._zod,"optin",()=>e.innerType._zod.optin),lt(t._zod,"optout",()=>e.innerType._zod.optout),lt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(c=>wo(c,r,_o()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(o=>wo(o,r,_o()))},input:n.value}),n.issues=[]),n)}}),sU=ie("$ZodPipe",(t,e)=>{jt.init(t,e),lt(t._zod,"values",()=>e.in._zod.values),lt(t._zod,"optin",()=>e.in._zod.optin),lt(t._zod,"optout",()=>e.out._zod.optout),lt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=e.out._zod.run(n,r);return o instanceof Promise?o.then(c=>gf(c,e.in,r)):gf(o,e.in,r)}const a=e.in._zod.run(n,r);return a instanceof Promise?a.then(o=>gf(o,e.out,r)):gf(a,e.out,r)}});function gf(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const iU=ie("$ZodReadonly",(t,e)=>{jt.init(t,e),lt(t._zod,"propValues",()=>e.innerType._zod.propValues),lt(t._zod,"values",()=>e.innerType._zod.values),lt(t._zod,"optin",()=>e.innerType?._zod?.optin),lt(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(dT):dT(a)}});function dT(t){return t.value=Object.freeze(t.value),t}const aU=ie("$ZodCustom",(t,e)=>{Un.init(t,e),jt.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,a=e.fn(r);if(a instanceof Promise)return a.then(o=>hT(o,n,r,t));hT(a,n,r,t)}});function hT(t,e,n,r){if(!t){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),e.issues.push(id(a))}}var fT;class oU{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const a={...r,...this._map.get(e)};return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function lU(){return new oU}(fT=globalThis).__zod_globalRegistry??(fT.__zod_globalRegistry=lU());const ju=globalThis.__zod_globalRegistry;function cU(t,e){return new t({type:"string",...Se(e)})}function uU(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Se(e)})}function mT(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Se(e)})}function dU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Se(e)})}function hU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Se(e)})}function fU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Se(e)})}function mU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Se(e)})}function pU(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Se(e)})}function gU(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Se(e)})}function yU(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Se(e)})}function vU(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Se(e)})}function xU(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Se(e)})}function bU(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Se(e)})}function _U(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Se(e)})}function wU(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Se(e)})}function EU(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Se(e)})}function TU(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Se(e)})}function SU(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Se(e)})}function AU(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Se(e)})}function NU(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Se(e)})}function IU(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Se(e)})}function RU(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Se(e)})}function CU(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Se(e)})}function jU(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Se(e)})}function DU(t,e){return new t({type:"string",format:"date",check:"string_format",...Se(e)})}function kU(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Se(e)})}function OU(t,e){return new t({type:"string",format:"duration",check:"string_format",...Se(e)})}function PU(t,e){return new t({type:"number",checks:[],...Se(e)})}function MU(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Se(e)})}function VU(t){return new t({type:"unknown"})}function zU(t,e){return new t({type:"never",...Se(e)})}function LU(t,e){return new t({type:"date",...Se(e)})}function pT(t,e){return new rI({check:"less_than",...Se(e),value:t,inclusive:!1})}function zf(t,e){return new rI({check:"less_than",...Se(e),value:t,inclusive:!0})}function gT(t,e){return new sI({check:"greater_than",...Se(e),value:t,inclusive:!1})}function Lf(t,e){return new sI({check:"greater_than",...Se(e),value:t,inclusive:!0})}function yT(t,e){return new tL({check:"multiple_of",...Se(e),value:t})}function uI(t,e){return new rL({check:"max_length",...Se(e),maximum:t})}function xm(t,e){return new sL({check:"min_length",...Se(e),minimum:t})}function dI(t,e){return new iL({check:"length_equals",...Se(e),length:t})}function UU(t,e){return new aL({check:"string_format",format:"regex",...Se(e),pattern:t})}function FU(t){return new oL({check:"string_format",format:"lowercase",...Se(t)})}function BU(t){return new lL({check:"string_format",format:"uppercase",...Se(t)})}function $U(t,e){return new cL({check:"string_format",format:"includes",...Se(e),includes:t})}function qU(t,e){return new uL({check:"string_format",format:"starts_with",...Se(e),prefix:t})}function HU(t,e){return new dL({check:"string_format",format:"ends_with",...Se(e),suffix:t})}function hc(t){return new hL({check:"overwrite",tx:t})}function GU(t){return hc(e=>e.normalize(t))}function KU(){return hc(t=>t.trim())}function QU(){return hc(t=>t.toLowerCase())}function ZU(){return hc(t=>t.toUpperCase())}function YU(){return hc(t=>a5(t))}function XU(t,e,n){return new t({type:"array",element:e,...Se(n)})}function JU(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Se(n)})}function WU(t){const e=e9(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(id(r,n.value,e._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),n.issues.push(id(a))}},t(n.value,n)));return e}function e9(t,e){const n=new Un({check:"custom",...Se(e)});return n._zod.check=t,n}function hI(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??ju,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function gn(t,e,n={path:[],schemaPath:[]}){var r;const a=t._zod.def,o=e.seen.get(t);if(o)return o.count++,n.schemaPath.includes(t)&&(o.cycle=n.path),o.schema;const c={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,c);const d=t._zod.toJSONSchema?.();if(d)c.schema=d;else{const v={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,c.schema,v);else{const E=c.schema,T=e.processors[a.type];if(!T)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);T(t,e,E,v)}const x=t._zod.parent;x&&(c.ref||(c.ref=x),gn(x,e,v),e.seen.get(x).isParent=!0)}const h=e.metadataRegistry.get(t);return h&&Object.assign(c.schema,h),e.io==="input"&&Sn(t)&&(delete c.schema.examples,delete c.schema.default),e.io==="input"&&c.schema._prefault&&((r=c.schema).default??(r.default=c.schema._prefault)),delete c.schema._prefault,e.seen.get(t).schema}function fI(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const c of t.seen.entries()){const d=t.metadataRegistry.get(c[0])?.id;if(d){const h=r.get(d);if(h&&h!==c[0])throw new Error(`Duplicate schema id "${d}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(d,c[0])}}const a=c=>{const d=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const x=t.external.registry.get(c[0])?.id,E=t.external.uri??(j=>j);if(x)return{ref:E(x)};const T=c[1].defId??c[1].schema.id??`schema${t.counter++}`;return c[1].defId=T,{defId:T,ref:`${E("__shared")}#/${d}/${T}`}}if(c[1]===n)return{ref:"#"};const g=`#/${d}/`,v=c[1].schema.id??`__schema${t.counter++}`;return{defId:v,ref:g+v}},o=c=>{if(c[1].schema.$ref)return;const d=c[1],{ref:h,defId:g}=a(c);d.def={...d.schema},g&&(d.defId=g);const v=d.schema;for(const x in v)delete v[x];v.$ref=h};if(t.cycles==="throw")for(const c of t.seen.entries()){const d=c[1];if(d.cycle)throw new Error(`Cycle detected: #/${d.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of t.seen.entries()){const d=c[1];if(e===c[0]){o(c);continue}if(t.external){const g=t.external.registry.get(c[0])?.id;if(e!==c[0]&&g){o(c);continue}}if(t.metadataRegistry.get(c[0])?.id){o(c);continue}if(d.cycle){o(c);continue}if(d.count>1&&t.reused==="ref"){o(c);continue}}}function mI(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=c=>{const d=t.seen.get(c);if(d.ref===null)return;const h=d.def??d.schema,g={...h},v=d.ref;if(d.ref=null,v){r(v);const E=t.seen.get(v),T=E.schema;if(T.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(h.allOf=h.allOf??[],h.allOf.push(T)):Object.assign(h,T),Object.assign(h,g),c._zod.parent===v)for(const D in h)D==="$ref"||D==="allOf"||D in g||delete h[D];if(T.$ref)for(const D in h)D==="$ref"||D==="allOf"||D in E.def&&JSON.stringify(h[D])===JSON.stringify(E.def[D])&&delete h[D]}const x=c._zod.parent;if(x&&x!==v){r(x);const E=t.seen.get(x);if(E?.schema.$ref&&(h.$ref=E.schema.$ref,E.def))for(const T in h)T==="$ref"||T==="allOf"||T in E.def&&JSON.stringify(h[T])===JSON.stringify(E.def[T])&&delete h[T]}t.override({zodSchema:c,jsonSchema:h,path:d.path??[]})};for(const c of[...t.seen.entries()].reverse())r(c[0]);const a={};if(t.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const c=t.external.registry.get(e)?.id;if(!c)throw new Error("Schema is missing an `id` property");a.$id=t.external.uri(c)}Object.assign(a,n.def??n.schema);const o=t.external?.defs??{};for(const c of t.seen.entries()){const d=c[1];d.def&&d.defId&&(o[d.defId]=d.def)}t.external||Object.keys(o).length>0&&(t.target==="draft-2020-12"?a.$defs=o:a.definitions=o);try{const c=JSON.parse(JSON.stringify(a));return Object.defineProperty(c,"~standard",{value:{...e["~standard"],jsonSchema:{input:bm(e,"input",t.processors),output:bm(e,"output",t.processors)}},enumerable:!1,writable:!1}),c}catch{throw new Error("Error converting schema to JSON.")}}function Sn(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Sn(r.element,n);if(r.type==="set")return Sn(r.valueType,n);if(r.type==="lazy")return Sn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Sn(r.innerType,n);if(r.type==="intersection")return Sn(r.left,n)||Sn(r.right,n);if(r.type==="record"||r.type==="map")return Sn(r.keyType,n)||Sn(r.valueType,n);if(r.type==="pipe")return Sn(r.in,n)||Sn(r.out,n);if(r.type==="object"){for(const a in r.shape)if(Sn(r.shape[a],n))return!0;return!1}if(r.type==="union"){for(const a of r.options)if(Sn(a,n))return!0;return!1}if(r.type==="tuple"){for(const a of r.items)if(Sn(a,n))return!0;return!!(r.rest&&Sn(r.rest,n))}return!1}const t9=(t,e={})=>n=>{const r=hI({...n,processors:e});return gn(t,r),fI(r,t),mI(r,t)},bm=(t,e,n={})=>r=>{const{libraryOptions:a,target:o}=r??{},c=hI({...a??{},target:o,io:e,processors:n});return gn(t,c),fI(c,t),mI(c,t)},n9={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},r9=(t,e,n,r)=>{const a=n;a.type="string";const{minimum:o,maximum:c,format:d,patterns:h,contentEncoding:g}=t._zod.bag;if(typeof o=="number"&&(a.minLength=o),typeof c=="number"&&(a.maxLength=c),d&&(a.format=n9[d]??d,a.format===""&&delete a.format,d==="time"&&delete a.format),g&&(a.contentEncoding=g),h&&h.size>0){const v=[...h];v.length===1?a.pattern=v[0].source:v.length>1&&(a.allOf=[...v.map(x=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:x.source}))])}},s9=(t,e,n,r)=>{const a=n,{minimum:o,maximum:c,format:d,multipleOf:h,exclusiveMaximum:g,exclusiveMinimum:v}=t._zod.bag;typeof d=="string"&&d.includes("int")?a.type="integer":a.type="number",typeof v=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.minimum=v,a.exclusiveMinimum=!0):a.exclusiveMinimum=v),typeof o=="number"&&(a.minimum=o,typeof v=="number"&&e.target!=="draft-04"&&(v>=o?delete a.minimum:delete a.exclusiveMinimum)),typeof g=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.maximum=g,a.exclusiveMaximum=!0):a.exclusiveMaximum=g),typeof c=="number"&&(a.maximum=c,typeof g=="number"&&e.target!=="draft-04"&&(g<=c?delete a.maximum:delete a.exclusiveMaximum)),typeof h=="number"&&(a.multipleOf=h)},i9=(t,e,n,r)=>{n.not={}},a9=(t,e,n,r)=>{},o9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},l9=(t,e,n,r)=>{const a=t._zod.def,o=G2(a.entries);o.every(c=>typeof c=="number")&&(n.type="number"),o.every(c=>typeof c=="string")&&(n.type="string"),n.enum=o},c9=(t,e,n,r)=>{const a=t._zod.def,o=[];for(const c of a.values)if(c===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof c=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(c))}else o.push(c);if(o.length!==0)if(o.length===1){const c=o[0];n.type=c===null?"null":typeof c,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[c]:n.const=c}else o.every(c=>typeof c=="number")&&(n.type="number"),o.every(c=>typeof c=="string")&&(n.type="string"),o.every(c=>typeof c=="boolean")&&(n.type="boolean"),o.every(c=>c===null)&&(n.type="null"),n.enum=o},u9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},d9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},h9=(t,e,n,r)=>{const a=n,o=t._zod.def,{minimum:c,maximum:d}=t._zod.bag;typeof c=="number"&&(a.minItems=c),typeof d=="number"&&(a.maxItems=d),a.type="array",a.items=gn(o.element,e,{...r,path:[...r.path,"items"]})},f9=(t,e,n,r)=>{const a=n,o=t._zod.def;a.type="object",a.properties={};const c=o.shape;for(const g in c)a.properties[g]=gn(c[g],e,{...r,path:[...r.path,"properties",g]});const d=new Set(Object.keys(c)),h=new Set([...d].filter(g=>{const v=o.shape[g]._zod;return e.io==="input"?v.optin===void 0:v.optout===void 0}));h.size>0&&(a.required=Array.from(h)),o.catchall?._zod.def.type==="never"?a.additionalProperties=!1:o.catchall?o.catchall&&(a.additionalProperties=gn(o.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(a.additionalProperties=!1)},m9=(t,e,n,r)=>{const a=t._zod.def,o=a.inclusive===!1,c=a.options.map((d,h)=>gn(d,e,{...r,path:[...r.path,o?"oneOf":"anyOf",h]}));o?n.oneOf=c:n.anyOf=c},p9=(t,e,n,r)=>{const a=t._zod.def,o=gn(a.left,e,{...r,path:[...r.path,"allOf",0]}),c=gn(a.right,e,{...r,path:[...r.path,"allOf",1]}),d=g=>"allOf"in g&&Object.keys(g).length===1,h=[...d(o)?o.allOf:[o],...d(c)?c.allOf:[c]];n.allOf=h},g9=(t,e,n,r)=>{const a=t._zod.def,o=gn(a.innerType,e,r),c=e.seen.get(t);e.target==="openapi-3.0"?(c.ref=a.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},y9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},v9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},x9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},b9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType;let c;try{c=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=c},_9=(t,e,n,r)=>{const a=t._zod.def,o=e.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;gn(o,e,r);const c=e.seen.get(t);c.ref=o},w9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.readOnly=!0},pI=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},E9=ie("ZodISODateTime",(t,e)=>{AL.init(t,e),St.init(t,e)});function T9(t){return jU(E9,t)}const S9=ie("ZodISODate",(t,e)=>{NL.init(t,e),St.init(t,e)});function A9(t){return DU(S9,t)}const N9=ie("ZodISOTime",(t,e)=>{IL.init(t,e),St.init(t,e)});function I9(t){return kU(N9,t)}const R9=ie("ZodISODuration",(t,e)=>{RL.init(t,e),St.init(t,e)});function C9(t){return OU(R9,t)}const j9=(t,e)=>{X2.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>x5(t,n)},flatten:{value:n=>v5(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,mv,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,mv,2)}},isEmpty:{get(){return t.issues.length===0}}})},_r=ie("ZodError",j9,{Parent:Error}),D9=Zx(_r),k9=Yx(_r),O9=Jm(_r),P9=Wm(_r),M9=w5(_r),V9=E5(_r),z9=T5(_r),L9=S5(_r),U9=A5(_r),F9=N5(_r),B9=I5(_r),$9=R5(_r),Dt=ie("ZodType",(t,e)=>(jt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:bm(t,"input"),output:bm(t,"output")}}),t.toJSONSchema=t9(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(la(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>ca(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>D9(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>O9(t,n,r),t.parseAsync=async(n,r)=>k9(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>P9(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>M9(t,n,r),t.decode=(n,r)=>V9(t,n,r),t.encodeAsync=async(n,r)=>z9(t,n,r),t.decodeAsync=async(n,r)=>L9(t,n,r),t.safeEncode=(n,r)=>U9(t,n,r),t.safeDecode=(n,r)=>F9(t,n,r),t.safeEncodeAsync=async(n,r)=>B9(t,n,r),t.safeDecodeAsync=async(n,r)=>$9(t,n,r),t.refine=(n,r)=>t.check(V8(n,r)),t.superRefine=n=>t.check(z8(n)),t.overwrite=n=>t.check(hc(n)),t.optional=()=>_T(t),t.exactOptional=()=>T8(t),t.nullable=()=>wT(t),t.nullish=()=>_T(wT(t)),t.nonoptional=n=>C8(t,n),t.array=()=>Jx(t),t.or=n=>Wx([t,n]),t.and=n=>v8(t,n),t.transform=n=>ET(t,w8(n)),t.default=n=>N8(t,n),t.prefault=n=>R8(t,n),t.catch=n=>D8(t,n),t.pipe=n=>ET(t,n),t.readonly=()=>P8(t),t.describe=n=>{const r=t.clone();return ju.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return ju.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return ju.get(t);const r=t.clone();return ju.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),gI=ie("_ZodString",(t,e)=>{Xx.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>r9(t,r,a);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(UU(...r)),t.includes=(...r)=>t.check($U(...r)),t.startsWith=(...r)=>t.check(qU(...r)),t.endsWith=(...r)=>t.check(HU(...r)),t.min=(...r)=>t.check(xm(...r)),t.max=(...r)=>t.check(uI(...r)),t.length=(...r)=>t.check(dI(...r)),t.nonempty=(...r)=>t.check(xm(1,...r)),t.lowercase=r=>t.check(FU(r)),t.uppercase=r=>t.check(BU(r)),t.trim=()=>t.check(KU()),t.normalize=(...r)=>t.check(GU(...r)),t.toLowerCase=()=>t.check(QU()),t.toUpperCase=()=>t.check(ZU()),t.slugify=()=>t.check(YU())}),q9=ie("ZodString",(t,e)=>{Xx.init(t,e),gI.init(t,e),t.email=n=>t.check(uU(H9,n)),t.url=n=>t.check(pU(G9,n)),t.jwt=n=>t.check(CU(o8,n)),t.emoji=n=>t.check(gU(K9,n)),t.guid=n=>t.check(mT(vT,n)),t.uuid=n=>t.check(dU(yf,n)),t.uuidv4=n=>t.check(hU(yf,n)),t.uuidv6=n=>t.check(fU(yf,n)),t.uuidv7=n=>t.check(mU(yf,n)),t.nanoid=n=>t.check(yU(Q9,n)),t.guid=n=>t.check(mT(vT,n)),t.cuid=n=>t.check(vU(Z9,n)),t.cuid2=n=>t.check(xU(Y9,n)),t.ulid=n=>t.check(bU(X9,n)),t.base64=n=>t.check(NU(s8,n)),t.base64url=n=>t.check(IU(i8,n)),t.xid=n=>t.check(_U(J9,n)),t.ksuid=n=>t.check(wU(W9,n)),t.ipv4=n=>t.check(EU(e8,n)),t.ipv6=n=>t.check(TU(t8,n)),t.cidrv4=n=>t.check(SU(n8,n)),t.cidrv6=n=>t.check(AU(r8,n)),t.e164=n=>t.check(RU(a8,n)),t.datetime=n=>t.check(T9(n)),t.date=n=>t.check(A9(n)),t.time=n=>t.check(I9(n)),t.duration=n=>t.check(C9(n))});function In(t){return cU(q9,t)}const St=ie("ZodStringFormat",(t,e)=>{wt.init(t,e),gI.init(t,e)}),H9=ie("ZodEmail",(t,e)=>{yL.init(t,e),St.init(t,e)}),vT=ie("ZodGUID",(t,e)=>{pL.init(t,e),St.init(t,e)}),yf=ie("ZodUUID",(t,e)=>{gL.init(t,e),St.init(t,e)}),G9=ie("ZodURL",(t,e)=>{vL.init(t,e),St.init(t,e)}),K9=ie("ZodEmoji",(t,e)=>{xL.init(t,e),St.init(t,e)}),Q9=ie("ZodNanoID",(t,e)=>{bL.init(t,e),St.init(t,e)}),Z9=ie("ZodCUID",(t,e)=>{_L.init(t,e),St.init(t,e)}),Y9=ie("ZodCUID2",(t,e)=>{wL.init(t,e),St.init(t,e)}),X9=ie("ZodULID",(t,e)=>{EL.init(t,e),St.init(t,e)}),J9=ie("ZodXID",(t,e)=>{TL.init(t,e),St.init(t,e)}),W9=ie("ZodKSUID",(t,e)=>{SL.init(t,e),St.init(t,e)}),e8=ie("ZodIPv4",(t,e)=>{CL.init(t,e),St.init(t,e)}),t8=ie("ZodIPv6",(t,e)=>{jL.init(t,e),St.init(t,e)}),n8=ie("ZodCIDRv4",(t,e)=>{DL.init(t,e),St.init(t,e)}),r8=ie("ZodCIDRv6",(t,e)=>{kL.init(t,e),St.init(t,e)}),s8=ie("ZodBase64",(t,e)=>{OL.init(t,e),St.init(t,e)}),i8=ie("ZodBase64URL",(t,e)=>{ML.init(t,e),St.init(t,e)}),a8=ie("ZodE164",(t,e)=>{VL.init(t,e),St.init(t,e)}),o8=ie("ZodJWT",(t,e)=>{LL.init(t,e),St.init(t,e)}),yI=ie("ZodNumber",(t,e)=>{aI.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>s9(t,r,a),t.gt=(r,a)=>t.check(gT(r,a)),t.gte=(r,a)=>t.check(Lf(r,a)),t.min=(r,a)=>t.check(Lf(r,a)),t.lt=(r,a)=>t.check(pT(r,a)),t.lte=(r,a)=>t.check(zf(r,a)),t.max=(r,a)=>t.check(zf(r,a)),t.int=r=>t.check(xT(r)),t.safe=r=>t.check(xT(r)),t.positive=r=>t.check(gT(0,r)),t.nonnegative=r=>t.check(Lf(0,r)),t.negative=r=>t.check(pT(0,r)),t.nonpositive=r=>t.check(zf(0,r)),t.multipleOf=(r,a)=>t.check(yT(r,a)),t.step=(r,a)=>t.check(yT(r,a)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function _m(t){return PU(yI,t)}const l8=ie("ZodNumberFormat",(t,e)=>{UL.init(t,e),yI.init(t,e)});function xT(t){return MU(l8,t)}const c8=ie("ZodUnknown",(t,e)=>{FL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>a9()});function bT(){return VU(c8)}const u8=ie("ZodNever",(t,e)=>{BL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>i9(t,n,r)});function d8(t){return zU(u8,t)}const h8=ie("ZodDate",(t,e)=>{$L.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>o9(t,r),t.min=(r,a)=>t.check(Lf(r,a)),t.max=(r,a)=>t.check(zf(r,a));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function f8(t){return LU(h8,t)}const m8=ie("ZodArray",(t,e)=>{qL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>h9(t,n,r,a),t.element=e.element,t.min=(n,r)=>t.check(xm(n,r)),t.nonempty=n=>t.check(xm(1,n)),t.max=(n,r)=>t.check(uI(n,r)),t.length=(n,r)=>t.check(dI(n,r)),t.unwrap=()=>t.element});function Jx(t,e){return XU(m8,t,e)}const p8=ie("ZodObject",(t,e)=>{GL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>f9(t,n,r,a),lt(t,"shape",()=>e.shape),t.keyof=()=>x8(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:bT()}),t.loose=()=>t.clone({...t._zod.def,catchall:bT()}),t.strict=()=>t.clone({...t._zod.def,catchall:d8()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>f5(t,n),t.safeExtend=n=>m5(t,n),t.merge=n=>p5(t,n),t.pick=n=>d5(t,n),t.omit=n=>h5(t,n),t.partial=(...n)=>g5(vI,t,n[0]),t.required=(...n)=>y5(xI,t,n[0])});function Sd(t,e){const n={type:"object",shape:t??{},...Se(e)};return new p8(n)}const g8=ie("ZodUnion",(t,e)=>{KL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>m9(t,n,r,a),t.options=e.options});function Wx(t,e){return new g8({type:"union",options:t,...Se(e)})}const y8=ie("ZodIntersection",(t,e)=>{QL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>p9(t,n,r,a)});function v8(t,e){return new y8({type:"intersection",left:t,right:e})}const gv=ie("ZodEnum",(t,e)=>{ZL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>l9(t,r,a),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,a)=>{const o={};for(const c of r)if(n.has(c))o[c]=e.entries[c];else throw new Error(`Key ${c} not found in enum`);return new gv({...e,checks:[],...Se(a),entries:o})},t.exclude=(r,a)=>{const o={...e.entries};for(const c of r)if(n.has(c))delete o[c];else throw new Error(`Key ${c} not found in enum`);return new gv({...e,checks:[],...Se(a),entries:o})}});function x8(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new gv({type:"enum",entries:n,...Se(e)})}const b8=ie("ZodLiteral",(t,e)=>{YL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>c9(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function yv(t,e){return new b8({type:"literal",values:Array.isArray(t)?t:[t],...Se(e)})}const _8=ie("ZodTransform",(t,e)=>{XL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>d9(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new q2(t.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(id(o,n.value,e));else{const c=o;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=t),n.issues.push(id(c))}};const a=e.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function w8(t){return new _8({type:"transform",transform:t})}const vI=ie("ZodOptional",(t,e)=>{cI.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>pI(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function _T(t){return new vI({type:"optional",innerType:t})}const E8=ie("ZodExactOptional",(t,e)=>{JL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>pI(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function T8(t){return new E8({type:"optional",innerType:t})}const S8=ie("ZodNullable",(t,e)=>{WL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>g9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function wT(t){return new S8({type:"nullable",innerType:t})}const A8=ie("ZodDefault",(t,e)=>{eU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>v9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function N8(t,e){return new A8({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Q2(e)}})}const I8=ie("ZodPrefault",(t,e)=>{tU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>x9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function R8(t,e){return new I8({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Q2(e)}})}const xI=ie("ZodNonOptional",(t,e)=>{nU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>y9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function C8(t,e){return new xI({type:"nonoptional",innerType:t,...Se(e)})}const j8=ie("ZodCatch",(t,e)=>{rU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>b9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function D8(t,e){return new j8({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const k8=ie("ZodPipe",(t,e)=>{sU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>_9(t,n,r,a),t.in=e.in,t.out=e.out});function ET(t,e){return new k8({type:"pipe",in:t,out:e})}const O8=ie("ZodReadonly",(t,e)=>{iU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>w9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function P8(t){return new O8({type:"readonly",innerType:t})}const M8=ie("ZodCustom",(t,e)=>{aU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>u9(t,n)});function V8(t,e={}){return JU(M8,t,e)}function z8(t){return WU(t)}const L8=Sd({id:In().optional(),name:In().min(1),dupr:_m().nonnegative().optional(),imageUrl:In().optional(),createdAt:In().optional()}),eb=Wx([yv(1),yv(2)]),TT=Sd({player1Id:In(),player2Id:In()}),U8=Sd({id:In().optional(),team1:TT,team2:TT,team1Score:_m().nonnegative().optional(),team2Score:_m().nonnegative().optional(),courtId:In().optional(),roundNumber:eb}),F8=Sd({id:In().optional(),playerIds:Jx(In()).min(4).max(5),roundNumber:eb,courtNumber:_m().positive()}),B8=Wx([eb,yv("standings")]),$8=Sd({id:In(),name:In(),startDateTime:f8(),location:In().optional(),link:In().optional(),ongoingStage:B8.optional(),standings:Jx(In()).optional()}),q8=t=>({EeI9ewBfoKpSajmerLDH:"John Doe",GqsPoUKXTw3kJMSJqwU0:"Jane Smith",RGq6NFnJfWIcvQqdifLt:"Alex Johnson",T28AtFw8KdQU23bXrGKh:"Rock Star",TMUWdVphOwXWWpBD0tg4:"Michael Lee",W3tjD6JMTZvL7h9DBekb:"Sarah Kim",bmIXpKlFhwhNuex6mG3a:"Chris Brown",cFbaelu4ZQhUiUovuSDq:"Hayden Patriquin",de634TOQoQt6DcvdllTE:"David Wilson",ev1yGMQ2TwdWVulSScR3:"Ashley Moore",lR41KMImIthFWUlTfvcq:"Brian Clark",ov1yJixQu0Y7GgSVGOS3:"Olivia Hall",s9CKyNz5sETtOI6s9gJb:"Matthew Young",sBaVpfAOMRsqcUiaVdXN:"Sophia King",sewQTUTqabMCEYb80N8L:"Daniel Wright",tgJHqe0ToCymKcHIthmM:"Megan Scott",v8BhDF0WAc6VgcOwc87B:"Ryan Adams",wekFMjCMfuI7MNNVYVnO:"Lauren Baker",zi6ygH5Iais5EPUVR0Ix:"Kevin Perez","55YtackrvsPralsAJY2V":"Natalie Roberts"})[t],bI={champion:{name:"Champion",gradient:["#FFF8DC","#F0E68C"],accent:"#DAA520",text:"#8B4513"},competitive:{name:"Competitive",gradient:["#E6F3FF","#B0D4F1"],accent:"#4682B4",text:"#2F4F4F"},rising:{name:"Rising Star",gradient:["#F0FFF0","#C1E1C1"],accent:"#6B8E23",text:"#2E5D2E"},rookie:{name:"Rookie",gradient:["#FFE4E1","#F5DEB3"],accent:"#CD853F",text:"#8B4513"},default:{name:"Player",gradient:["#F5F5F5","#E0E0E0"],accent:"#808080",text:"#505050"}},ST=["hexagon","diamond","paddle","court","geometric"];function _I(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return Math.abs(e)}function H8(t){const e=_I(t),n=Object.keys(bI);return n[e%n.length]}function AT(t,e){const n=t/2,r=t/2,a=t*.3;let o="";for(let c=0;c<6;c++){const d=(c*60-90)*(Math.PI/180),h=n+a*Math.cos(d),g=r+a*Math.sin(d);o+=c===0?`M ${h} ${g}`:` L ${h} ${g}`}return o+=" Z",`<path d="${o}" fill="${e.accent}" opacity="0.25"/>`}function G8(t,e){const n=t/2,r=t/2,a=t*.25,o=[];for(let c=0;c<3;c++){const d=(c-1)*a*.8,h=`M ${n} ${r-a+d} 
                  L ${n+a*.6} ${r+d} 
                  L ${n} ${r+a+d} 
                  L ${n-a*.6} ${r+d} Z`;o.push(`<path d="${h}" fill="${e.accent}" opacity="${.15+c*.08}"/>`)}return o.join("")}function K8(t,e){const n=t/2,r=t/2,a=`M ${n-2} ${r+t*.2} 
                      L ${n+2} ${r+t*.2} 
                      L ${n+2} ${r+t*.35} 
                      L ${n-2} ${r+t*.35} Z`,o=t*.15;return`
    <path d="${`M ${n-o} ${r-t*.15} 
                    A ${o} ${o} 0 0 1 ${n+o} ${r-t*.15} 
                    L ${n+o} ${r+t*.15} 
                    A ${o} ${o} 0 0 1 ${n-o} ${r+t*.15} Z`}" fill="${e.accent}" opacity="0.2"/>
    <path d="${a}" fill="${e.accent}" opacity="0.3"/>
  `}function Q8(t,e){const n=[],a=t/5;for(let o=1;o<5;o++){const c=o*a;n.push(`<line x1="0" y1="${c}" x2="${t}" y2="${c}" stroke="${e.accent}" stroke-width="1" opacity="0.25"/>`)}return n.push(`<line x1="${t/2}" y1="${a}" x2="${t/2}" y2="${t-a}" stroke="${e.accent}" stroke-width="1" opacity="0.3"/>`),n.join("")}function Z8(t,e,n){const r=[],a=2+n%3;for(let o=0;o<a;o++){const c=t*.1+n%18,d=n*(o+1)%(t-c),h=n*(o+2)%(t-c),g=.1+o*.05;o%2===0?r.push(`<circle cx="${d+c/2}" cy="${h+c/2}" r="${c/2}" fill="${e.accent}" opacity="${g}"/>`):r.push(`<rect x="${d}" y="${h}" width="${c}" height="${c}" fill="${e.accent}" opacity="${g}"/>`)}return r.join("")}function Y8(t,e,n,r){switch(t){case"hexagon":return AT(e,n);case"diamond":return G8(e,n);case"paddle":return K8(e,n);case"court":return Q8(e,n);case"geometric":return Z8(e,n,r);default:return AT(e,n)}}function X8(t){const{playerId:e,playerName:n,size:r=64}=t,a=_I(e+n),o=H8(e),c=bI[o],d=ST[a%ST.length],h=n.split(" ").map(x=>x.charAt(0).toUpperCase()).slice(0,2).join(""),g=Y8(d,r,c,a);return`
    <svg width="${r}" height="${r}" viewBox="0 0 ${r} ${r}" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="bg-gradient-${a}" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:${c.gradient[0]};stop-opacity:1" />
          <stop offset="100%" style="stop-color:${c.gradient[1]};stop-opacity:1" />
        </linearGradient>
      </defs>
      
      <!-- Background -->
      <rect width="${r}" height="${r}" fill="url(#bg-gradient-${a})" rx="${r*.1}" />
      
      <!-- Pattern -->
      ${g}
      
      <!-- Initials -->
      <text 
        x="${r/2}" 
        y="${r/2+5}" 
        text-anchor="middle" 
        font-family="Inter, system-ui, -apple-system, sans-serif" 
        font-size="${r*.35}" 
        font-weight="700" 
        fill="${c.text}"
        opacity="0.9"
      >
        ${h}
      </text>
    </svg>
  `.trim()}function J8(t){const e=X8(t);return`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(e)))}`}function W8(t){if(t){if(typeof t?.toDate=="function")return t.toDate().toISOString();if(typeof t=="string")return t}}function eF(t){if(t){if(typeof t?.toDate=="function")return t.toDate();if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number"){const e=new Date(t);if(!isNaN(e.getTime()))return e}}}const tF={toFirestore(t){const{id:e,createdAt:n,...r}=t;return{...r,createdAt:n||YV()}},fromFirestore(t,e){const n=t.data(e),r=q8(t.id);r||console.log("No demo name for player id:",t.id);const a=r||n.name;let o=n.imageUrl;!o&&a&&typeof a=="string"&&(o=J8({playerId:t.id,playerName:a,size:64}));const c={id:t.id,name:a,dupr:n.dupr,imageUrl:o,createdAt:W8(n.createdAt)};return L8.parse(c)}},nF={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),r={id:t.id,...n};return U8.parse(r)}},rF={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),{playerIds:r,...a}=n,o={playerIds:Array.isArray(r)?r.map(String):[],...a,id:t.id};return F8.parse(o)}},sF={toFirestore(t){const{id:e,...n}=t,{...r}=n;return{...r}},fromFirestore(t,e){const n=t.data(e);let r=new Date;try{r=eF(n.startDateTime)||new Date}catch(o){console.log(o)}const a={id:t.id,name:n.name,startDateTime:r,location:n.location,link:n.link,standings:Array.isArray(n.standings)?n.standings.map(String):void 0,label:n.label};return $8.parse(a)}};function wI(t,e,n){const r=[e];async function a(d){await t.cancelQueries({queryKey:[e,n]});const h=n?t.getQueryData([e,n]):null,g=t.getQueryData(r),v=d?.id??n,x=v?{...h,...d,id:v}:void 0;return x&&x.id&&(t.setQueryData([e,x.id],x),t.setQueryData(r,E=>{const T=E??[],j=T.findIndex(D=>D.id===x.id);if(j>=0){const D=[...T];return D[j]=x,D}return[x,...T]})),{previousItem:h,previousList:g}}function o(...d){const h=d[d.length-1];h?.previousItem&&n&&t.setQueryData([e,n],h.previousItem),h?.previousList?t.setQueryData(r,h.previousList):t.invalidateQueries({queryKey:r})}function c(...d){const h=d[0];if(typeof h=="string"&&h)t.invalidateQueries({queryKey:[e,h]});else if(h&&typeof h=="object"&&"id"in h){const g=h.id;g&&t.invalidateQueries({queryKey:[e,g]})}t.invalidateQueries({queryKey:r})}return{onMutate:a,onError:o,onSettled:c}}function EI(t,e,n){const r=tc(),o=oS({queryKey:[t,n],queryFn:async()=>!n||!t?null:e5(t,n,e),enabled:!!n,staleTime:1e3*60}),c=t?wI(r,t,n):void 0,d=Sm({mutationFn:async h=>{if(!t)return h;if(h?.id)return await t5(t,h.id,h,e),h;{const g=await $2(t,h,e);return{...h,id:g}}},onMutate:c?.onMutate,onError:c?.onError,onSettled:c?.onSettled});return{...o,upsert:d.mutateAsync,upsertState:{status:d.status,error:d.error??null}}}function TI(t,e){const n=oS({queryKey:[t],queryFn:async()=>t?(await s5(t,{pageSize:1e3,converter:e})).docs:[],staleTime:6e4,enabled:!!t});return t?n:{...n,data:[],isLoading:!1,error:new Error("Missing collectionName")}}function SI(t,e){const n=tc(),r=Sm({mutationFn:async a=>await $2(t,a,e),onMutate:async a=>{await n.cancelQueries({queryKey:[t]});const o=n.getQueryData([t]),c=`__tmp__${Date.now()}`,d={...a,id:c};return n.setQueryData([t],h=>[d,...h??[]]),{previousList:o}},onError:(a,o,c)=>{c?.previousList?n.setQueryData([t],c.previousList):n.invalidateQueries({queryKey:[t]})},onSettled:a=>{n.invalidateQueries({queryKey:[t]}),a&&n.invalidateQueries({queryKey:[t,a]})}});return{create:r.mutateAsync,status:r.status,error:r.error??null}}function AI(t,e){const n=tc(),r=wI(n,t),a=Sm({mutationFn:async o=>{const c=o.id;if(!c)throw new Error("id required for update");await n5(t,c,o,e)},onMutate:r.onMutate,onError:r.onError,onSettled:r.onSettled});return{update:a.mutateAsync,status:a.status,error:a.error??null}}function NI(t){const e=tc(),n=Sm({mutationFn:async r=>{if(!r)throw new Error("id required for delete");await r5(t,r)},onMutate:async r=>{if(!r)return{};await e.cancelQueries({queryKey:[t]});const a=e.getQueryData([t,r]),o=e.getQueryData([t]);return o&&e.setQueryData([t],o.filter(c=>c.id!==r)),e.setQueryData([t,r],null),{previous:a,previousList:o}},onError:(r,a,o)=>{const c=a;o?.previous&&c&&e.setQueryData([t,c],o.previous),o?.previousList?e.setQueryData([t],o.previousList):e.invalidateQueries({queryKey:[t]})},onSettled:(r,a,o)=>{o&&e.invalidateQueries({queryKey:[t,o]}),e.invalidateQueries({queryKey:[t]})}});return{remove:n.mutateAsync,status:n.status,error:n.error??null}}function II(t,e,n){const r=!!t&&!!n,[a,o]=M.useState(null),[c,d]=M.useState(null);return M.useEffect(()=>{if(!r)return;const g=bx(ni,t),v=e?g.withConverter(e):g,x=uc(v,n),E=l2(x,T=>{T.exists()?o(T.data()):o(null)},T=>{d(T)});return()=>{E()}},[r,t,n,e]),{data:r?a:null,loading:r&&a===null&&c===null,error:r?c:null}}function RI(t,e){const[n,r]=M.useState(null),[a,o]=M.useState(!0),[c,d]=M.useState(null),[h,g]=M.useState(t);return M.useEffect(()=>{if(!t)return;const v=bx(ni,t),x=e?v.withConverter(e):v,E=l2(x,T=>{const j=T.docs.map(D=>D.data());r(j),o(!1)},T=>{d(T),o(!1)});return()=>{E()}},[t,e]),t?{data:n,loading:a,error:c}:{data:[],loading:!1,error:new Error("Missing collectionName")}}function CI(t,e){function n(g){return EI(t,e,g)}function r(){return TI(t,e)}function a(){return SI(t,e)}function o(){return AI(t,e)}function c(){return NI(t)}function d(g){return II(t,e,g)}function h(){return RI(t,e)}return{useEntity:n,useEntities:r,useCreate:a,useUpdate:o,useDelete:c,useEntityRealtime:d,useEntitiesRealtime:h}}function iF(t,e){function n(...g){const v=t(...g),x=TI(v,e);return v?x:{...x,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function r(...g){const v=g.slice(0,-1),x=g[g.length-1],E=t(...v),T=EI(E,e,x);return E?T:{...T,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}function a(...g){const v=t(...g),x=SI(v,e);return v?x:{...x,create:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function o(...g){const x=t(...g),E=AI(x,e);return x?E:{...E,update:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function c(...g){const v=t(...g),x=NI(v);return v?x:{...x,remove:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function d(...g){const v=t(...g),x=RI(v,e);return v?x:{...x,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function h(...g){const v=g.slice(0,-1),x=g[g.length-1],E=t(...v),T=II(E,e,x);return E?T:{...T,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}return{useEntities:n,useEntity:r,useCreate:a,useUpdate:o,useDelete:c,useEntitiesRealtime:d,useEntityRealtime:h}}const jI=(t,e,n)=>iF(r=>r?`${t}/${r}/${e}`:void 0,n),{useEntities:Ad,useCreate:aF,useEntitiesRealtime:oF}=CI("players",tF),{useEntity:DI,useEntities:ua,useCreate:lF,useUpdate:kI,useEntityRealtime:cF}=CI("events",sF),{useCreate:uF,useDelete:dF,useEntitiesRealtime:OI}=jI("events","courts",rF),{useCreate:hF,useUpdate:fF,useDelete:mF,useEntitiesRealtime:PI}=jI("events","games",nF),ad=({imageUrl:t,name:e,size:n="md",className:r,border:a=!0})=>{const o={sm:"h-6 w-6 text-xs",md:"h-8 w-8 text-xs",lg:"h-12 w-12 text-sm",xl:"h-16 w-16 text-base"},c={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-6 w-6",xl:"h-8 w-8"},d=on("rounded-full object-cover flex-shrink-0",o[n],a&&"border border-border",r);if(t){const h=t.startsWith("/")?`/${t.slice(1)}`:t;return f.jsx("img",{src:h,alt:e,className:d})}return f.jsx("div",{className:on(d,"bg-surface-highlight flex items-center justify-center"),children:e?f.jsx("span",{className:"font-bold text-text-muted",children:e.charAt(0)}):f.jsx(mS,{className:on("text-text-muted",c[n])})})},vv=({children:t,primaryColor:e="primary",secondaryColor:n="success",className:r=""})=>f.jsx("div",{className:`relative overflow-hidden ${r}`,children:f.jsxs("div",{className:`bg-gradient-to-br from-${e}/5 via-surface to-${n}/5 rounded-3xl p-8 md:p-12 border border-${e}/20 shadow-2xl`,children:[t,f.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-${e}/10 to-transparent rounded-full blur-2xl -z-10`}),f.jsx("div",{className:`absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-${n}/10 to-transparent rounded-full blur-2xl -z-10`})]})}),xv=({icon:t,title:e,subtitle:n,iconColor:r="primary",className:a=""})=>f.jsxs("div",{className:`text-center mb-12 ${a}`,children:[f.jsx("div",{className:`inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-${r} to-${r}/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300`,children:f.jsx(t,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:e}),n&&f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:n})]}),Ki=({emoji:t,title:e,value:n,description:r,color:a="primary",className:o=""})=>f.jsxs("div",{className:`group relative overflow-hidden rounded-2xl bg-gradient-to-br from-${a}/10 to-${a}/5 border-2 border-${a}/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 ${o}`,children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:t}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:e}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:`text-2xl font-black text-${a}`,children:n}),r&&f.jsx("div",{className:"text-text-muted font-medium",children:r})]})]}),f.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 bg-${a}/5 rounded-full blur-xl`})]}),pF=()=>{const{data:t=[]}=ua(),{data:e=[]}=Ad(),n=qs.useMemo(()=>{const d=new Map,h=new Map;(t||[]).filter(x=>Array.isArray(x.standings)&&x.standings.length>0).forEach(x=>{const E={id:x.id,date:x.startDateTime?x.startDateTime.toISOString():x.id,isCompleted:!0,standings:x.standings};(Dv(E)||[]).forEach(j=>{const D=j.playerId,P=j.pointsEarned||0;d.set(D,(d.get(D)||0)+P),h.set(D,(h.get(D)||0)+1)})});const v=Array.from(d.entries()).map(([x,E])=>({playerId:x,points:E}));return v.sort((x,E)=>E.points-x.points),v.slice(0,3).map((x,E)=>({playerId:x.playerId,points:x.points,events:h.get(x.playerId)||0,rank:E+1}))},[t]),r=(()=>{const d=(t||[]).filter(g=>g.startDateTime instanceof Date&&!isNaN(g.startDateTime.getTime()));if(d.length===0)return"Challenge Series";const h=Array.from(new Set(d.map(g=>g.startDateTime.getFullYear()))).sort();return h.length===1?`${h[0]} Challenge`:`${h[0]}${h[h.length-1]} Challenge`})(),a=qs.useMemo(()=>{if(!t||t.length===0)return null;const d=t.filter(x=>x.startDateTime instanceof Date&&!isNaN(x.startDateTime.getTime()));d.sort((x,E)=>x.startDateTime.getTime()-E.startDateTime.getTime());const g=new Date().getTime(),v=d.filter(x=>x.startDateTime.getTime()>=g);return v.length>0?v[0]:null},[t]),o=d=>d?d.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"}):"",c=d=>d?d.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"";return f.jsxs("div",{className:"space-y-16 pb-12",children:[f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-success/10 border border-success/20 mb-6",children:[f.jsxs("span",{className:"relative flex h-2 w-2",children:[f.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-success opacity-75"}),f.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-success"})]}),f.jsxs("span",{className:"text-sm font-semibold text-success",children:[r," is Live"]})]}),f.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-text-main mb-6 tracking-tight leading-tight",children:["Paddle Up",f.jsx("br",{}),f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-text-accent",children:"Premier League"})]}),f.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto leading-relaxed",children:"Join our competitive pickleball league designed for advanced players looking to test their skills and climb the rankings each week."}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[f.jsxs(bt,{to:"/standings",className:"bg-primary text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-all duration-300 shadow-lg shadow-primary/20 flex items-center gap-2 hover:scale-105",children:["View Standings ",f.jsx(bf,{className:"h-5 w-5"})]}),f.jsx(bt,{to:"/format",className:"bg-surface border-2 border-primary text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white transition-all duration-300 flex items-center gap-2",children:"League Format"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute top-1/3 right-1/4 w-20 h-20 bg-success/5 rounded-full blur-xl -z-10"})]})}),f.jsxs(vv,{primaryColor:"primary",secondaryColor:"success",children:[f.jsx(xv,{icon:Ml,title:"League Overview",subtitle:"Weekly competitive action with structured format and player advancement",iconColor:"primary"}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsx(Ki,{emoji:"",title:"Players",value:"16",description:"per night",color:"primary"}),f.jsx(Ki,{emoji:"",title:"Schedule",value:"7-10 PM",description:"Every Sunday",color:"success"}),f.jsx(Ki,{emoji:"",title:"Prize Pool",value:"100",description:"Club Points",color:"warning"}),f.jsx(Ki,{emoji:"",title:"Level",value:"3.5+ DUPR",description:"Required",color:"text-accent"})]})]}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-warning/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-warning/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(Ln,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:"Season Rewards"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Top performers this season earn Joola gear and Paddle Up club points as rewards for their competitive excellence"})]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/20 via-warning/10 to-warning/5 border-2 border-warning/30 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:f.jsx("span",{className:"text-2xl font-black text-white",children:"1st"})}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Champion"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-lg font-bold text-warning",children:"Joola Hat"}),f.jsx("div",{className:"text-2xl font-black text-warning",children:"25"}),f.jsx("div",{className:"text-text-muted font-medium",children:"Club Points"})]})]}),f.jsx("div",{className:"text-3xl opacity-50 absolute top-6 right-6",children:""})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-text-accent/20 via-text-accent/10 to-text-accent/5 border-2 border-text-accent/30 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-text-accent to-text-accent/80 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:f.jsx("span",{className:"text-2xl font-black text-white",children:"2nd"})}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Runner-up"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-lg font-bold text-text-accent",children:"Joola Water Bottle"}),f.jsx("div",{className:"text-2xl font-black text-text-accent",children:"15"}),f.jsx("div",{className:"text-text-muted font-medium",children:"Club Points"})]})]}),f.jsx("div",{className:"text-3xl opacity-50 absolute top-6 right-6",children:""})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-bronze/20 via-bronze/10 to-bronze/5 border-2 border-bronze/30 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-bronze to-bronze/80 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:f.jsx("span",{className:"text-2xl font-black text-white",children:"3rd"})}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Third Place"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-lg font-bold text-bronze",children:"Joola Wristbands"}),f.jsx("div",{className:"text-2xl font-black text-bronze",children:"10"}),f.jsx("div",{className:"text-text-muted font-medium",children:"Club Points"})]})]}),f.jsx("div",{className:"text-3xl opacity-50 absolute top-6 right-6",children:""})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-success/10 via-surface to-text-accent/10 rounded-3xl p-8 md:p-10 border border-success/20 shadow-2xl h-full",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:f.jsx(Ln,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:"Current Leaders"}),f.jsx("div",{className:"flex items-center justify-center gap-2",children:f.jsxs(bt,{to:"/standings",className:"text-success hover:text-success font-semibold text-sm flex items-center gap-1",children:["Full Standings ",f.jsx(bf,{className:"h-4 w-4"})]})})]}),f.jsx("div",{className:"space-y-4",children:n.map((d,h)=>{const g=e.find(v=>v.id===d.playerId)||{name:"Unknown",imageUrl:""};return f.jsxs(bt,{to:`/player/${d.playerId}`,className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-4 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] block",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-lg font-black text-white",children:h+1})}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(ad,{imageUrl:g.imageUrl,name:g.name,size:"md",className:"group-hover:ring-2 ring-success transition-all"}),f.jsx("span",{className:"font-bold text-text-main group-hover:text-success transition-colors",children:g.name})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("span",{className:"block font-bold text-success",children:[d.points," pts"]}),f.jsxs("span",{className:"text-xs text-text-muted",children:[d.events," Events"]})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]},d.playerId)})}),f.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-surface to-warning/10 rounded-3xl p-8 md:p-10 border border-primary/20 shadow-2xl h-full",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:f.jsx(oo,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:" Next Match Night"})]}),a?f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-lg font-black text-white",children:""})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Date"}),f.jsx("div",{className:"text-lg font-bold text-text-main",children:o(a.startDateTime)})]})]})}),f.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-lg font-black text-white",children:""})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Time"}),f.jsx("div",{className:"text-lg font-bold text-text-main",children:c(a.startDateTime)})]})]})}),f.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-lg font-black text-white",children:""})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Location"}),f.jsx("div",{className:"text-lg font-bold text-text-main",children:a.location})]})]})}),f.jsx("div",{className:"pt-4",children:f.jsxs("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-primary text-white px-6 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center justify-center gap-2",children:["Register on CourtReserve",f.jsx(Du,{className:"h-5 w-5"})]})})]}):f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"text-center p-8",children:[f.jsx("div",{className:"text-6xl mb-4 opacity-50",children:""}),f.jsx("p",{className:"text-text-muted mb-6",children:"No upcoming match nights are listed. Check the full schedule for details."}),f.jsx(bt,{to:"/schedule",className:"inline-flex items-center justify-center px-6 py-3 bg-primary text-white rounded-xl font-bold transition-colors hover:bg-primary-hover",children:"View Schedule"})]})}),f.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})})]}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-text-accent/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-text-accent/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-text-accent to-text-accent/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(Pl,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:"Ready to Compete?"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto mb-8",children:"We are always looking for competitive players to join the roster. Check out the format and rules to see if you qualify for our premier league."}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[f.jsxs(bt,{to:"/format",className:"bg-text-accent text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-text-accent/80 transition-colors shadow-lg shadow-text-accent/20 flex items-center gap-2",children:["View League Format ",f.jsx(bf,{className:"h-5 w-5"})]}),f.jsx(bt,{to:"/standings",className:"bg-surface border-2 border-text-accent text-text-accent px-8 py-4 rounded-xl font-bold text-lg hover:bg-text-accent hover:text-white transition-colors",children:"Current Standings"})]})]}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})})]})},MI=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"unknown":`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`},gF=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"Unknown Date":e.toLocaleDateString(void 0,{month:"short",year:"numeric"})},VI=t=>{const e=new Map;return t.forEach(n=>{if(n instanceof Date&&!isNaN(n.getTime())){const r=MI(n);e.has(r)||e.set(r,n)}}),Array.from(e.entries()).sort((n,r)=>r[1].getTime()-n[1].getTime()).map(([n,r])=>({key:n,label:gF(r)}))},tb=(t="all")=>{const{data:e=[]}=Ad(),{data:n=[]}=ua();return M.useMemo(()=>{const r=n.filter(d=>Array.isArray(d.standings)&&d.standings.length>0?t==="all"?!0:MI(d.startDateTime)===t:!1),a=kO(r),o=Array.from(a.entries()).map(([d,h])=>({playerId:d,points:h.points,eventsPlayed:h.events,champWins:h.champWins}));return o.sort((d,h)=>h.points-d.points),IO(o,d=>d.points).map(d=>{const h=e.find(g=>g.id===d.playerId);return{...d,name:h?.name||"Unknown",imageUrl:h?.imageUrl||"",dupr:h?.dupr,id:d.playerId}})},[n,e,t])},Rt=qs.forwardRef(({children:t,className:e,variant:n="default",hover:r=!1,padding:a="md",theme:o="primary",...c},d)=>{const h="rounded-xl border transition-all duration-300",g={sm:"p-4",md:"p-6",lg:"p-8",xl:"p-12"},v={primary:{bg:"from-primary/10 to-primary/5",border:"border-primary/20"},success:{bg:"from-success/10 to-success/5",border:"border-success/20"},warning:{bg:"from-warning/10 to-warning/5",border:"border-warning/20"},error:{bg:"from-error/10 to-error/5",border:"border-error/20"},"text-accent":{bg:"from-text-accent/10 to-text-accent/5",border:"border-text-accent/20"},bronze:{bg:"from-bronze/10 to-bronze/5",border:"border-bronze/20"}},x={default:"bg-surface border-border shadow-sm",premium:`bg-gradient-to-br from-surface via-surface-alt to-surface border-border shadow-2xl ${r?"hover:shadow-3xl hover:scale-[1.02] hover:border-primary/50":""}`,gradient:`bg-gradient-to-br ${v[o].bg} ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-[1.02]":""}`,outlined:"bg-transparent border-border hover:border-primary/50",flat:"bg-surface-alt border-transparent shadow-none",stat:`bg-gradient-to-br ${v[o].bg} border-2 ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-105":""}`,info:`bg-gradient-to-r ${v[o].bg} border-2 ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-[1.02]":""}`},E=r?"cursor-pointer group":"";return f.jsx("div",{ref:d,className:on(h,x[n]??x.default,g[a],E,e),...c,children:t})});Rt.displayName="Card";const yF=t=>{if(!t||isNaN(t))return String(t);const e=t%100;if(e>=11&&e<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`;default:return`${t}th`}},zI=({rank:t,className:e,size:n="md"})=>{const r={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"},a=o=>o===1?"bg-warning/20 text-warning":o===2?"bg-surface-alt text-text-muted":o===3?"bg-bronze/20 text-bronze":"text-text-muted";return f.jsx("span",{className:on("flex items-center justify-center rounded-full font-bold",r[n],a(t),e),children:yF(t)})},vF=({data:t,players:e,showEvents:n=!0,showPoints:r=!0,className:a})=>f.jsx(Rt,{className:on("p-0 overflow-hidden",a),children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-border",children:[f.jsx("thead",{className:"bg-surface-highlight",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider pl-6",children:"Rank"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Player"}),r&&f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Points"}),n&&f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Events"})]})}),f.jsx("tbody",{className:"bg-surface divide-y divide-border",children:t.map(o=>{const c=e?.find(d=>d.id===o.playerId)||{name:"Unknown",imageUrl:""};return f.jsxs("tr",{className:on("hover:bg-surface-highlight transition-colors",(o.rank||0)<=4?"bg-primary-light/10":""),children:[f.jsx("td",{className:"px-4 pl-6 py-4 whitespace-nowrap",children:f.jsx(zI,{rank:o.rank??0})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:f.jsxs(bt,{to:`/player/${o.playerId}`,className:"flex items-center group",children:[f.jsx(ad,{imageUrl:c.imageUrl,name:c.name,className:"mr-3 group-hover:ring-2 ring-primary transition-all"}),f.jsx("div",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:c.name}),o.rank===1&&f.jsx(Ln,{className:"ml-2 h-4 w-4 text-warning"})]})}),r&&f.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm font-bold text-text-main",children:o.points??0})}),n&&f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-text-muted",children:o.eventsPlayed??0})]},o.playerId)})})]})})}),xF=()=>{const[t,e]=M.useState("all"),{data:n=[]}=Ad(),{data:r=[]}=ua(),a=M.useMemo(()=>VI(r.map(d=>d.startDateTime)),[r]),o=tb(t),c=o.slice(0,3);return f.jsxs("div",{className:"space-y-16 pb-12",children:[f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-warning/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-warning/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(Ln,{className:"h-10 w-10 text-white"})}),f.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Challenge Leaderboard"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Leaderboard derived from Challenge events - track your progress month by month or all time"})]}),f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})}),c.length>0&&f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-success/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-success/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(dS,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Current Champions"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:t==="all"?"All-time leaders":`${a.find(d=>d.key===t)?.label||"Monthly"} champions`})]}),f.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto mb-8",children:c.map((d,h)=>{const g=n.find(E=>E.id===d.playerId),x=[{bg:"from-warning/20 via-warning/10 to-warning/5",border:"border-warning/30",text:"text-warning",emoji:""},{bg:"from-text-accent/20 via-text-accent/10 to-text-accent/5",border:"border-text-accent/30",text:"text-text-accent",emoji:""},{bg:"from-bronze/20 via-bronze/10 to-bronze/5",border:"border-bronze/30",text:"text-bronze",emoji:""}][h];return f.jsxs("div",{className:`group relative overflow-hidden rounded-2xl bg-gradient-to-r ${x.bg} border-2 ${x.border} p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]`,children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${x.text==="text-warning"?"from-warning to-warning/80":x.text==="text-text-accent"?"from-text-accent to-text-accent/80":"from-bronze to-bronze/80"} rounded-full flex items-center justify-center shadow-lg mx-auto mb-4`,children:f.jsx("span",{className:"text-2xl font-black text-white",children:h+1})}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-2",children:g?.name||"Unknown Player"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:`text-3xl font-black ${x.text}`,children:d.points}),f.jsx("div",{className:"text-text-muted font-medium",children:"Points"}),f.jsxs("div",{className:"text-sm text-text-muted",children:[d.eventsPlayed," Events"]})]})]}),f.jsx("div",{className:"text-4xl opacity-50 absolute top-6 right-6",children:x.emoji})]},d.playerId)})}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(Pl,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Full Rankings"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto mb-8",children:"Complete standings with detailed statistics for all players"}),f.jsxs("div",{className:"inline-flex items-center gap-4 p-2 bg-surface-alt rounded-2xl border border-border shadow-lg",children:[f.jsx("span",{className:"text-sm font-semibold text-text-muted px-3",children:"View:"}),f.jsxs("select",{value:t,onChange:d=>e(d.target.value==="all"?"all":d.target.value),className:"appearance-none bg-primary text-white text-sm font-bold rounded-xl px-4 py-2 border-0 focus:outline-none focus:ring-2 focus:ring-primary/50",children:[f.jsx("option",{value:"all",children:"All Time"}),a.map(d=>f.jsx("option",{value:d.key,children:d.label},d.key))]})]})]}),f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsx("div",{className:"bg-gradient-to-r from-surface-alt/50 to-surface/50 rounded-2xl border border-border shadow-lg overflow-hidden",children:f.jsx(vF,{data:o,players:n})})}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})})]})},Ty=({badgeContent:t,title:e,description:n,emoji:r,color:a="primary",className:o=""})=>f.jsx("div",{className:`group relative overflow-hidden rounded-2xl bg-gradient-to-r from-${a}/20 via-${a}/10 to-${a}/5 border-2 border-${a}/30 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] ${o}`,children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:`w-16 h-16 bg-gradient-to-br from-${a} to-${a}/80 rounded-full flex items-center justify-center shadow-lg`,children:f.jsx("span",{className:"text-2xl font-black text-white",children:t})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("div",{className:"text-lg font-bold text-text-main mb-1",children:e}),f.jsx("div",{className:"text-text-muted",children:n})]}),r&&f.jsx("div",{className:"text-3xl opacity-50",children:r})]})}),bF=()=>(M.useEffect(()=>{document.title="Pickleball League  Season 1 (Competitive)"},[]),f.jsxs("div",{className:"space-y-16 pb-12",children:[f.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-surface-alt via-surface to-surface-alt border border-border shadow-lg",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-text-muted/5 to-primary/5"}),f.jsx("div",{className:"relative px-6 py-8 md:px-12 md:py-10",children:f.jsx("div",{className:"max-w-4xl mx-auto",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 md:gap-8",children:[f.jsx("div",{className:"flex-shrink-0 text-center md:text-left",children:f.jsx("div",{className:"text-4xl md:text-5xl mb-2",children:""})}),f.jsxs("div",{className:"flex-grow text-center md:text-left",children:[f.jsx("h1",{className:"text-2xl md:text-4xl font-black text-text-main mb-2 leading-tight",children:"Paddle Up Premier League"}),f.jsx("div",{className:"text-lg md:text-xl font-bold text-text-accent mb-3",children:"Season 1 (Competitive)"}),f.jsx("p",{className:"text-text-muted text-sm md:text-base leading-relaxed max-w-2xl",children:"First competitive season  DUPR 3.5+  Two structured rounds  Monthly & seasonal rankings"})]}),f.jsxs("div",{className:"flex-shrink-0 flex flex-col sm:flex-row gap-3",children:[f.jsx(bt,{to:"/schedule",className:"bg-primary text-white px-6 py-3 rounded-xl font-semibold text-sm hover:bg-primary-hover transition-colors shadow-md",children:"Register Tonight"}),f.jsxs("a",{href:"https://paddleup.github.io",className:"bg-surface-highlight border border-border text-text-main px-6 py-3 rounded-xl font-semibold text-sm hover:bg-surface-alt transition-colors flex items-center gap-2",children:["View Standings",f.jsx(Du,{className:"h-4 w-4"})]})]})]})})}),f.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full blur-xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-text-accent/5 rounded-full blur-lg -z-10"})]}),f.jsx("div",{className:"max-w-2xl mx-auto",children:f.jsxs("div",{className:"bg-gradient-to-r from-surface to-surface-alt rounded-2xl p-6 border border-border shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-center gap-3 text-text-main mb-3",children:[f.jsx(Du,{className:"h-6 w-6 text-primary"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xl font-bold",children:"Live Leaderboard & Results"}),f.jsx("span",{className:"text-xs font-semibold text-success bg-success/10 px-2 py-1 rounded-full border border-success/20 animate-pulse",children:"LIVE"})]})]}),f.jsxs("p",{className:"text-text-muted text-center",children:["Track your points, season standings, and all-time rankings in real-time at"," ",f.jsx("a",{href:"https://paddleup.github.io/#/standings",className:"text-primary hover:text-primary-hover font-semibold underline decoration-primary/30 hover:decoration-primary transition-colors",children:"paddleup.github.io"})]})]})}),f.jsxs(vv,{primaryColor:"warning",secondaryColor:"primary",children:[f.jsx(xv,{icon:Ln,title:" Season 1 Championship",subtitle:"Compete for exclusive prizes and eternal glory in our inaugural competitive season",iconColor:"warning"}),f.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[f.jsx("div",{className:"text-center lg:text-left",children:f.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-2xl p-8 border border-primary/20 shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[f.jsx($f,{className:"h-8 w-8 text-primary"}),f.jsx("h3",{className:"text-2xl font-bold text-text-main",children:"Season Duration"})]}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"text-center lg:text-left",children:[f.jsx("div",{className:"text-4xl font-black text-primary mb-2",children:"4"}),f.jsx("div",{className:"text-xl font-semibold text-text-main",children:"Weeks of Competition"}),f.jsx("div",{className:"text-text-muted mt-2",children:"Every Sunday  7PM-10PM"})]})})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold text-text-main mb-6 text-center lg:text-left",children:"Championship Rewards"}),f.jsx("p",{className:"text-text-muted mb-6 text-center lg:text-left",children:"Top 3 finishers earn exclusive Joola gear and club points:"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ty,{badgeContent:"1st",title:"Champion",description:f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"font-semibold text-warning",children:"Joola Hat"})," +",f.jsx("span",{className:"font-semibold text-primary ml-1",children:"25 Club Points"})]}),emoji:"",color:"warning"}),f.jsx(Ty,{badgeContent:"2nd",title:"Runner-up",description:f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"font-semibold text-text-accent",children:"Joola Water Bottle"})," +",f.jsx("span",{className:"font-semibold text-primary ml-1",children:"15 Club Points"})]}),emoji:"",color:"text-accent"}),f.jsx(Ty,{badgeContent:"3rd",title:"Third Place",description:f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"font-semibold text-bronze",children:"Joola Wristbands"})," +",f.jsx("span",{className:"font-semibold text-primary ml-1",children:"10 Club Points"})]}),emoji:"",color:"bronze"})]})]})]})]}),f.jsxs(vv,{primaryColor:"primary",secondaryColor:"success",children:[f.jsx(xv,{icon:$f,title:" Nightly Experience",subtitle:"Every Sunday brings competitive action with structured rounds and exciting gameplay",iconColor:"primary"}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsx(Ki,{emoji:"",title:"Schedule",value:"7PM  10PM",description:"Every Sunday",color:"primary"}),f.jsx(Ki,{emoji:"",title:"Entry Fee",value:"$20",description:f.jsxs("div",{className:"space-y-1",children:[f.jsx("div",{children:"per night"}),f.jsx("div",{className:"text-sm text-success font-semibold bg-success/10 rounded-full px-3 py-1",children:"Free for Annual Members"})]}),color:"success"}),f.jsx(Ki,{emoji:"",title:"Eligibility",value:"DUPR 3.5+",description:"Required Rating",color:"warning"}),f.jsx(Ki,{emoji:"",title:"Format",value:"2 Rounds",description:"per night",color:"text-accent"})]})]}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-success/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-success/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(Ck,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:"Game Format"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Structured gameplay with rotating partnerships and dynamic scoring systems"})]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 to-primary/5 border-2 border-primary/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-5xl mb-6",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Players per Court"}),f.jsx("div",{className:"text-4xl font-black text-primary mb-2",children:"45"}),f.jsx("div",{className:"text-text-muted font-medium",children:"Players"})]}),f.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-warning/10 to-warning/5 border-2 border-warning/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-5xl mb-6",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Partnership"}),f.jsxs("div",{className:"text-text-muted font-medium leading-relaxed",children:["Every player partners ",f.jsx("strong",{className:"text-warning",children:"once per round"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-warning/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-5xl mb-6",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Scoring"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"bg-text-accent/10 rounded-xl p-4 border border-text-accent/20",children:[f.jsx("div",{className:"font-bold text-text-main text-lg",children:"4-Player Courts"}),f.jsx("div",{className:"text-text-muted font-medium",children:"3 games  15 pts  win by 1"})]}),f.jsxs("div",{className:"bg-text-accent/10 rounded-xl p-4 border border-text-accent/20",children:[f.jsx("div",{className:"font-bold text-text-main text-lg",children:"5-Player Courts"}),f.jsx("div",{className:"text-text-muted font-medium",children:"4 games  11 pts  win by 1"})]})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-text-accent/5 rounded-full blur-xl"})]})]}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-surface to-success/10 rounded-3xl p-8 md:p-10 border border-primary/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:f.jsx(Ml,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:"Round 1: Initial Seeding"})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"flex-shrink-0 mt-1",children:f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-lg font-black text-white",children:""})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Assignment"}),f.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Courts assigned via ",f.jsx("strong",{className:"text-primary",children:"snake draft"})," ","(back-and-forth order)"]})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"flex-shrink-0 mt-1",children:f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-lg font-black text-white",children:""})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Seeding Basis"}),f.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Seeding based on"," ",f.jsx("strong",{className:"text-success",children:"previous weeks' performance"})," (or random for the first week)"]})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]})]}),f.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-warning/10 via-surface to-text-accent/10 rounded-3xl p-8 md:p-10 border border-warning/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:f.jsx(Jw,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:"Round 2"}),f.jsx("p",{className:"text-lg text-text-muted font-medium",children:"Ranked Courts"})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"flex-shrink-0 mt-1",children:f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-lg font-black text-white",children:""})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Placement"}),f.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Players ranked by"," ",f.jsx("strong",{className:"text-warning",children:"Round 1 performance"})]})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-warning/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"flex-shrink-0 mt-1",children:f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-text-accent to-text-accent/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-lg font-black text-white",children:""})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Assignment"}),f.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Top finishers placed on ",f.jsx("strong",{className:"text-text-accent",children:"Court 1"}),", next group on ",f.jsx("strong",{className:"text-text-accent",children:"Court 2"}),", etc."]})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-text-accent/5 rounded-full blur-xl"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})})]}),f.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-warning/10 rounded-2xl p-8 border border-primary/30",children:[f.jsxs("h2",{className:"text-3xl font-bold text-text-main mb-6 flex items-center gap-3",children:[f.jsx(Ln,{className:"h-8 w-8 text-warning"}),"Points & Prizes"]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold text-text-main mb-4",children:"Top Finisher Points"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between p-3 bg-warning/20 rounded-lg border border-warning/50",children:[f.jsx("span",{className:"font-bold text-warning",children:"1st Place"}),f.jsx("span",{className:"font-bold text-text-main",children:"1000 points"})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface rounded-lg border border-border",children:[f.jsx("span",{className:"font-bold text-text-accent",children:"2nd Place"}),f.jsx("span",{className:"font-bold text-text-main",children:"800 points"})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-bronze/20 rounded-lg border border-bronze/50",children:[f.jsx("span",{className:"font-bold text-bronze",children:"3rd Place"}),f.jsx("span",{className:"font-bold text-text-main",children:"600 points"})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface rounded-lg border border-border",children:[f.jsx("span",{className:"font-bold text-text-main",children:"4th Place"}),f.jsx("span",{className:"font-bold text-text-main",children:"500 points"})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold text-text-main mb-4",children:"Point System"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"p-4 bg-surface rounded-lg border border-border",children:f.jsxs("p",{className:"text-text-muted",children:[f.jsx("strong",{children:"All finishing positions earn points"}),", with points dropping by half every three ranks (approximate)"]})}),f.jsx("div",{className:"p-4 bg-primary-light rounded-lg border border-primary/50",children:f.jsxs("p",{className:"text-text-main",children:["Points from every game count toward"," ",f.jsx("strong",{children:"monthly and cumulative rankings"})]})})]})]})]})]}),f.jsxs("div",{className:"bg-surface rounded-2xl p-8 border border-border",children:[f.jsxs("h2",{className:"text-3xl font-bold text-text-main mb-6 flex items-center gap-3",children:[f.jsx(Jw,{className:"h-8 w-8 text-success"})," Key Takeaways"]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"text-success text-lg",children:""}),f.jsxs("p",{className:"text-text-muted",children:["Structured, competitive league for ",f.jsx("strong",{children:"DUPR 3.5+ players"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"text-success text-lg",children:""}),f.jsxs("p",{className:"text-text-muted",children:["Sunday evenings, ",f.jsx("strong",{children:"7PM10PM"})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"text-success text-lg",children:""}),f.jsxs("p",{className:"text-text-muted",children:[f.jsx("strong",{children:"Two rounds each night"}),", with partner rotation"]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"text-success text-lg",children:""}),f.jsxs("p",{className:"text-text-muted",children:["Points determine"," ",f.jsx("strong",{children:"court placement, monthly standings, and season/all-time rankings"})]})]})]})]})]}),f.jsxs("div",{className:"bg-primary-light rounded-2xl p-8 md:p-12 text-center border border-primary/50",children:[f.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Ready to Compete?"}),f.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto",children:"Check your standings online and track points for this season and all-time rankings for every player."}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[f.jsxs("a",{href:"https://paddleup.github.io",className:"bg-primary text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:[" Check Your Standings",f.jsx(Du,{className:"h-5 w-5"})]}),f.jsx(bt,{to:"/schedule",className:"bg-surface border-2 border-primary text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white transition-colors",children:"Register for Tonight"})]})]})]})),_F=()=>{const{data:t=[]}=ua(),[e,n]=M.useState("all"),r=tb(e),a=M.useMemo(()=>VI(t.map(g=>g.startDateTime)),[t]),o=r.length,c=r.filter(g=>g.eventsPlayed>0).length,d=Math.max(...r.map(g=>g.eventsPlayed),0),h=r[0];return f.jsxs("div",{className:"space-y-16 pb-12",children:[f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-success/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-success/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(Ml,{className:"h-10 w-10 text-white"})}),f.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Players"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Meet the competitive athletes who make our league exceptional"})]}),f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-success/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-warning/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(Pl,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" League Stats"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto mb-8",children:e==="all"?"All-time statistics":`${a.find(g=>g.key===e)?.label||"Monthly"} performance overview`}),f.jsxs("div",{className:"inline-flex items-center gap-4 p-2 bg-surface-alt rounded-2xl border border-border shadow-lg",children:[f.jsx("span",{className:"text-sm font-semibold text-text-muted px-3",children:"View:"}),f.jsxs("select",{value:e,onChange:g=>n(g.target.value==="all"?"all":g.target.value),className:"appearance-none bg-primary text-white text-sm font-bold rounded-xl px-4 py-2 border-0 focus:outline-none focus:ring-2 focus:ring-primary/50",children:[f.jsx("option",{value:"all",children:"All Time"}),a.map(g=>f.jsx("option",{value:g.key,children:g.label},g.key))]})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Total Players"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-2xl font-black text-primary",children:o}),f.jsx("div",{className:"text-text-muted font-medium",children:"Registered"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Active Players"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-2xl font-black text-success",children:c}),f.jsx("div",{className:"text-text-muted font-medium",children:"With Events"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Most Events"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-2xl font-black text-warning",children:d}),f.jsx("div",{className:"text-text-muted font-medium",children:"Per Player"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-warning/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Current Leader"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-lg font-black text-text-accent truncate",children:h?.name||"N/A"}),f.jsxs("div",{className:"text-text-muted font-medium",children:[h?.points||0," pts"]})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-text-accent/5 rounded-full blur-xl"})]})]}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-text-accent/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-text-accent/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-text-accent to-text-accent/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(dS,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Player Roster"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Click on any player to view their detailed stats and match history"})]}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:r.map(g=>f.jsx(bt,{to:`/player/${g.id}`,className:"block group",children:f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-surface-alt/80 to-surface border-2 border-border p-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] hover:border-primary/50 flex flex-col h-full",children:[f.jsxs("div",{className:"aspect-square w-full relative bg-surface-highlight overflow-hidden rounded-t-2xl",children:[g.imageUrl?f.jsx("img",{src:g.imageUrl.startsWith("/")?`/${g.imageUrl.slice(1)}`:g.imageUrl,alt:g.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-surface-highlight to-surface",children:f.jsx("span",{className:"text-4xl font-bold text-text-muted opacity-30",children:g.name?.charAt(0)})}),f.jsx("div",{className:"absolute top-3 left-3",children:f.jsxs("div",{className:"bg-primary/90 backdrop-blur-sm border border-primary/50 px-3 py-1 rounded-full text-sm font-bold text-white shadow-lg",children:["#",g.rank??0]})}),f.jsx("div",{className:"absolute top-3 right-3",children:f.jsxs("div",{className:"bg-success/90 backdrop-blur-md border border-success/50 px-3 py-1 rounded-full text-sm font-bold text-white shadow-lg",children:[g.points," pts"]})})]}),f.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[f.jsx("h2",{className:"text-lg font-bold text-text-main mb-1 group-hover:text-primary transition-colors text-center truncate",children:g.name}),f.jsxs("p",{className:"text-xs text-text-muted text-center mb-3",children:["DUPR ",g.dupr??"N/A"]}),f.jsxs("div",{className:"mt-auto grid grid-cols-3 gap-2 pt-3 border-t border-border text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Events"}),f.jsx("p",{className:"font-bold text-sm text-text-main",children:g.eventsPlayed})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Champ Ct"}),f.jsxs("div",{className:"flex items-center justify-center gap-1",children:[f.jsx(Oy,{className:"h-3 w-3 text-success"}),f.jsx("p",{className:"font-bold text-sm text-text-main",children:g.champWins})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Rank"}),f.jsx("p",{className:"font-bold text-sm text-text-main",children:g.rank??"-"})]})]})]}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl"})]})},g.id))}),r.length===0&&f.jsxs("div",{className:"text-center p-12",children:[f.jsx("div",{className:"text-6xl mb-6 opacity-50",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"No Players Found"}),f.jsx("p",{className:"text-text-muted",children:"No players have participated in events for the selected time period."})]}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})})]})},wF=({history:t})=>{const[e,n]=M.useState(null);return f.jsxs("div",{className:"flex flex-col gap-4",children:[t.length===0&&f.jsx("p",{className:"text-text-muted text-center py-4",children:"No event placements available."}),t.slice().reverse().map((r,a)=>f.jsxs("div",{className:`rounded-xl shadow-md border border-border bg-surface transition-all duration-200 ${e===a?"ring-2 ring-primary":""}`,children:[f.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-4 text-lg font-bold text-primary focus:outline-none",onClick:()=>n(e===a?null:a),"aria-expanded":e===a,tabIndex:0,children:[f.jsxs("span",{children:[r.eventName??r.eventId," (",r.date,")"]}),f.jsx("span",{className:"text-xs text-text-muted",children:e===a?"Tap to collapse":"Tap to expand"})]}),f.jsx("div",{className:`overflow-hidden transition-all duration-300 ${e===a?"max-h-[300px] py-2":"max-h-0"}`,children:e===a&&f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"text-sm text-text-muted mb-2",children:["Rank: ",f.jsx("span",{className:"font-bold text-text-main",children:r.rank})]}),f.jsx(bt,{to:`/event/${r.eventId}`,className:"inline-block mt-2 px-4 py-2 bg-primary text-white rounded-lg font-bold hover:bg-primary-hover transition",children:"View Event"})]})})]},r.eventId+a))]})},EF=()=>{const{id:t}=$T(),{data:e}=oF(),{data:n=[]}=ua(),r=e?.find(v=>v.id===t);if(!r)return f.jsxs("div",{className:"text-center py-12",children:[f.jsx("h2",{className:"text-2xl font-bold text-text-main mb-4",children:"Player Not Found"}),f.jsx(bt,{to:"/players",className:"text-primary hover:underline",children:"Back to Players"})]});const a=n.filter(v=>Array.isArray(v.standings)&&v.standings.length>0).map(v=>{const x={id:v.id,date:v.startDateTime?v.startDateTime.toISOString():v.id,isCompleted:!0,standings:v.standings},E=Dv(x)||[];return{ev:v,finals:E}}),o=new Map;a.forEach(({finals:v})=>{v.forEach(x=>{const E=x.playerId,T=x.pointsEarned||0,j=o.get(E)||{points:0,events:0,champWins:0};j.points+=T,j.events+=1,x.rank===1&&(j.champWins+=1),o.set(E,j)})});const c=Array.from(o.entries()).map(([v,x])=>({playerId:v,points:x.points,eventsPlayed:x.events,champWins:x.champWins})).sort((v,x)=>x.points-v.points);let d=null;c.forEach((v,x)=>{v.playerId===t&&(d=x+1)});const h=o.get(t||"")||{points:0,events:0,champWins:0},g=[];return a.forEach(({ev:v,finals:x})=>{const E=x.find(T=>T.playerId===t);E&&g.push({eventId:v.id,date:v.startDateTime?v.startDateTime.toLocaleDateString():v.id,rank:E.rank})}),f.jsxs("div",{className:"space-y-8 pb-12",children:[f.jsxs(bt,{to:"/players",className:"inline-flex items-center text-text-muted hover:text-primary transition-colors mb-4",children:[f.jsx(XD,{className:"h-4 w-4 mr-1"})," Back to Players"]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"md:col-span-1 space-y-6",children:[f.jsxs(Rt,{className:"p-0 overflow-hidden border-border",children:[f.jsx("div",{className:"aspect-square w-full relative bg-surface-highlight",children:r.imageUrl?f.jsx("img",{src:r.imageUrl.startsWith("/")?`/${r.imageUrl.slice(1)}`:r.imageUrl,alt:r.name,className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx("span",{className:"text-6xl font-bold text-text-muted opacity-20",children:r.name.charAt(0)})})}),f.jsxs("div",{className:"p-6 text-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-text-main mb-2",children:r.name}),f.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[f.jsxs("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold border border-primary/20",children:["DUPR ",r.dupr??"N/A"]}),f.jsxs("span",{className:"bg-surface-highlight text-text-muted px-3 py-1 rounded-full text-sm font-medium border border-border",children:["Rank #",d??"-"]})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs(Rt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[f.jsx(Ln,{className:"h-6 w-6 text-warning mb-2"}),f.jsx("span",{className:"text-2xl font-bold text-text-main",children:h.points}),f.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Points"})]}),f.jsxs(Rt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[f.jsx(Oy,{className:"h-6 w-6 text-success mb-2"}),f.jsx("span",{className:"text-2xl font-bold text-text-main",children:h.champWins}),f.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Top Finishes"})]}),f.jsxs(Rt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[f.jsx(Yw,{className:"h-6 w-6 text-primary mb-2"}),f.jsx("span",{className:"text-2xl font-bold text-text-main",children:g.length}),f.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Events"})]}),f.jsxs(Rt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[f.jsx(oo,{className:"h-6 w-6 text-text-muted mb-2"}),f.jsx("span",{className:"text-2xl font-bold text-text-main",children:h.events}),f.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Appearances"})]})]})]}),f.jsxs("div",{className:"md:col-span-2 space-y-8",children:[f.jsxs(Rt,{children:[f.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[f.jsx(Yw,{className:"h-5 w-5 text-primary"}),"Event Placements"]}),f.jsx(wF,{history:g.map(v=>({...v,eventName:n.find(x=>x.id===v.eventId)?.name}))})]}),f.jsxs(Rt,{children:[f.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[f.jsx(Oy,{className:"h-5 w-5 text-primary"}),"Event Rankings"]}),f.jsx("div",{className:"space-y-2",children:g.length>0?g.slice().reverse().map((v,x)=>f.jsxs(bt,{to:`/event/${v.eventId}`,className:"flex items-center justify-between p-2 border-b border-border last:border-0 hover:bg-surface-highlight transition-colors cursor-pointer group",children:[f.jsx("span",{className:"text-sm text-text-muted group-hover:text-text-main transition-colors",children:v.date}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:["Rank #",v.rank]}),f.jsx(zI,{rank:v.rank,size:"sm"})]})]},x)):f.jsx("p",{className:"text-text-muted text-center py-4",children:"No event data available."})})]})]})]})]})},TF=({options:t,value:e,onChange:n,className:r})=>f.jsx("div",{className:r,children:f.jsx("div",{className:"inline-flex",children:t.map(a=>f.jsx("button",{onClick:()=>n(a.value),className:on("px-6 py-2.5 rounded-lg text-sm font-bold transition-all",e===a.value?"bg-primary text-text-main shadow-md":"text-text-muted hover:text-text-main hover:bg-surface"),children:a.label},a.value))})});function LI(t,e){const n=BT(),r=Js(),a=M.useMemo(()=>new URLSearchParams(r.search),[r.search]),o=M.useMemo(()=>a.get(t)??void 0,[a,t]),c=M.useCallback(g=>{const v=new URLSearchParams(r.search),x=v.get(t)??void 0;g!==x&&(g===void 0||g===""?v.delete(t):v.set(t,g),n({pathname:r.pathname,search:`?${v.toString()}`,hash:r.hash},{replace:!0}))},[n,r,t]),d=M.useCallback(async g=>{c(g)},[c]),h=M.useCallback(async g=>{c(g)},[c]);return M.useEffect(()=>{e!==void 0&&o===void 0&&h(e)},[e,o]),e===void 0?[o,d]:[o??e,h]}const SF=()=>{const{data:t}=ua(),e=v=>v?v.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}):"",n=v=>v?v.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"",r=(t||[]).filter(v=>v.startDateTime instanceof Date&&!isNaN(v.startDateTime.getTime())).slice().sort((v,x)=>v.startDateTime.getTime()-x.startDateTime.getTime()),a=new Date,o=r.filter(v=>v.startDateTime.getTime()>=a.getTime()),c=r.filter(v=>v.startDateTime.getTime()<a.getTime()).slice().reverse(),[d,h]=LI("view","upcoming"),g=d==="upcoming"?o:c;return f.jsxs("div",{className:"space-y-16 pb-12",children:[f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(oo,{className:"h-10 w-10 text-white"})}),f.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Season Schedule"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Per-night registration links for 'The Challenge'  register for any night below"})]}),f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center gap-2",children:f.jsx(TF,{options:[{value:"upcoming",label:"Upcoming"},{value:"past",label:"Past"}],value:d,onChange:v=>h(v)})}),f.jsxs("div",{className:"text-sm text-text-muted",children:[g.length," ",g.length===1?"event":"events"]})]})}),f.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[g.map(v=>f.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-surface via-surface-alt to-surface border border-border p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:border-primary/50",children:f.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[f.jsxs("div",{className:"flex-grow",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold text-text-main mb-2 group-hover:text-primary transition-colors",children:v.name}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-muted",children:[f.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${d==="past"?"bg-success":"bg-primary"}`}),d==="past"?"Completed Event":"Upcoming Event"]})]}),f.jsxs("div",{className:"text-right text-sm text-text-muted",children:[f.jsx("div",{className:"font-semibold",children:e(v.startDateTime)}),f.jsx("div",{children:n(v.startDateTime)})]})]}),f.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/10 rounded-xl border border-primary/20",children:[f.jsx(oo,{className:"h-5 w-5 text-primary flex-shrink-0"}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Date"}),f.jsx("div",{className:"font-bold text-text-main truncate",children:e(v.startDateTime)})]})]}),f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-success/10 rounded-xl border border-success/20",children:[f.jsx($f,{className:"h-5 w-5 text-success flex-shrink-0"}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Time"}),f.jsx("div",{className:"font-bold text-text-main truncate",children:n(v.startDateTime)})]})]}),f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-warning/10 rounded-xl border border-warning/20 sm:col-span-2 lg:col-span-1",children:[f.jsx(hS,{className:"h-5 w-5 text-warning flex-shrink-0"}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Location"}),f.jsx("div",{className:"font-bold text-text-main truncate",children:v.location})]})]})]})]}),f.jsx("div",{className:"flex-shrink-0 flex flex-col gap-3 lg:w-48",children:d==="past"?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-success/20 border-2 border-success/30 rounded-xl text-success font-bold",children:[f.jsx("span",{className:"inline-block h-3 w-3 rounded-full bg-success"}),"Completed"]}),f.jsx(bt,{to:`/event/${encodeURIComponent(v.id)}`,className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-surface-highlight border border-border text-text-main rounded-xl font-semibold hover:bg-surface-alt transition-colors",children:"View Results"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("a",{href:v.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-xl font-bold hover:bg-primary-hover transition-all duration-300 shadow-md hover:shadow-lg",children:[f.jsx(Du,{className:"h-5 w-5"}),"Register Now"]}),f.jsx(bt,{to:`/event/${encodeURIComponent(v.id)}`,className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-surface-highlight border border-border text-text-main rounded-xl font-semibold hover:bg-surface-alt transition-colors",children:"Event Details"})]})})]})},v.id)),g.length===0&&f.jsxs("div",{className:"text-center p-12 bg-surface rounded-2xl border border-border",children:[f.jsx("div",{className:"text-6xl mb-6 opacity-50",children:d==="upcoming"?"":""}),f.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:d==="upcoming"?"No Upcoming Events":"No Past Events"}),f.jsx("p",{className:"text-text-muted",children:d==="upcoming"?"Check back soon for new match nights to register for!":"Past events will appear here once they're completed."})]})]})]})};function UI(){const[t,e]=M.useState(null),[n,r]=M.useState(!1),[a,o]=M.useState(!0);return M.useEffect(()=>{const c=R2(Vf,async d=>{if(e(d),!d){r(!1),o(!1);return}const g=(await d.getIdTokenResult(!0)).claims;r(g.admin===!0),o(!1)});return()=>c()},[]),{user:t,isAdmin:n,loading:a}}const AF=({isAdmin:t})=>{const{create:e,status:n,error:r}=lF(),[a,o]=M.useState(""),[c,d]=M.useState(""),[h,g]=M.useState(""),[v,x]=M.useState(""),[E,T]=M.useState(""),[j,D]=M.useState(""),[P,Z]=M.useState(""),[X,Q]=M.useState(""),[le,G]=M.useState(""),ae=async I=>{if(I.preventDefault(),!t){alert("You are not authorized to create events.");return}if(!a.trim()||!c){alert("Name and start date are required.");return}const A=new Date(`${c}T${h||"00:00"}`),C=v?new Date(`${v}T${E||"00:00"}`):void 0,z={name:a.trim(),startDateTime:A,...C?{endDateTime:C}:{},...j.trim()?{location:j.trim()}:{},...P?{status:P}:{},...X.trim()?{label:X.trim()}:{},...le.trim()?{link:le.trim()}:{},standings:[],rounds:[]};try{const V=await e(z);alert(`Event created${V?` (id: ${String(V)})`:""}.`),o(""),d(""),g(""),x(""),T(""),D(""),Z(""),Q(""),G("")}catch(V){console.error("Create event failed",V),alert("Failed to create event. See console for details.")}};return f.jsxs("form",{onSubmit:ae,className:"space-y-3 max-w-md",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Event name"}),f.jsx("input",{value:a,onChange:I=>o(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Start date"}),f.jsx("input",{type:"date",value:c,onChange:I=>d(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Start time (optional)"}),f.jsx("input",{type:"time",value:h,onChange:I=>g(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"End date (optional)"}),f.jsx("input",{type:"date",value:v,onChange:I=>x(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"End time (optional)"}),f.jsx("input",{type:"time",value:E,onChange:I=>T(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Location (optional)"}),f.jsx("input",{value:j,onChange:I=>D(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Status (optional)"}),f.jsxs("select",{value:P,onChange:I=>Z(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1",children:[f.jsx("option",{value:"",children:"(none)"}),f.jsx("option",{value:"open",children:"open"}),f.jsx("option",{value:"closed",children:"closed"}),f.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Label (optional)"}),f.jsx("input",{value:X,onChange:I=>Q(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Link (optional)"}),f.jsx("input",{value:le,onChange:I=>G(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:!t||n==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:n==="pending"?"Creating...":"Create event"})}),r&&f.jsxs("p",{className:"text-sm text-red-600",children:["Error creating event: ",String(r)]})]})},NF=()=>{const[t,e]=M.useState(null),n=new Us,{isAdmin:r}=UI(),{create:a,status:o,error:c}=aF(),d=ua(),h=Ad(),g=d.data??[],v=h.data??[],[x,E]=M.useState(void 0),[T,j]=M.useState([]),{data:D}=DI(x)??{},{update:P,status:Z,error:X}=kI(),[Q,le]=M.useState(x),[G,ae]=M.useState(D?.standings);(x!==Q||D?.standings!==G)&&(le(x),ae(D?.standings),D?.standings&&Array.isArray(D.standings)?j([...D.standings]):j([]));const I=R=>{R&&j(q=>[...q,R])},A=R=>{j(q=>q.filter((se,ue)=>ue!==R))},C=R=>{R<=0||j(q=>{const se=[...q],ue=se[R-1];return se[R-1]=se[R],se[R]=ue,se})},z=R=>{j(q=>{if(R>=q.length-1)return q;const se=[...q],ue=se[R+1];return se[R+1]=se[R],se[R]=ue,se})},V=async()=>{if(!r){alert("You are not authorized to update events.");return}if(!x){alert("Select an event first.");return}try{await P({id:x,standings:T}),alert("Standings saved.")}catch(R){console.error("Save standings failed",R),alert("Failed to save standings. See console for details.")}},[U,k]=M.useState(""),[Ge,Ze]=M.useState(""),[W,he]=M.useState(""),ce=async R=>{if(R.preventDefault(),!r){alert("You are not authorized to add players.");return}try{const q=Ge.trim()?Number(Ge):void 0,se={name:U.trim(),...q!==void 0&&!Number.isNaN(q)?{dupr:q}:{},...W.trim()?{imageUrl:W.trim()}:{},createdAt:new Date().toISOString()};await a(se),k(""),Ze(""),he(""),alert("Player added.")}catch(q){console.error("Create player failed",q),alert("Failed to add player. See console for details.")}};M.useEffect(()=>{const R=R2(Vf,q=>{e(q)});return()=>R()},[]);const Me=async()=>{try{await az(Vf,n)}catch(R){console.error("Google sign-in failed",R),alert("Sign-in failed. See console for details.")}},Fe=async()=>{try{await U6(Vf)}catch(R){console.error("Sign-out failed",R),alert("Sign-out failed. See console for details.")}};return f.jsxs("div",{className:"p-4 space-y-8",children:[f.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin"}),t?f.jsxs("div",{className:"space-y-8",children:[f.jsxs("p",{className:"mb-2",children:["Signed in as ",f.jsx("strong",{children:t.displayName??t.email})]}),f.jsxs("p",{children:["Admin status: ",r?"Yes":"No"]}),f.jsx("button",{onClick:Fe,className:"px-3 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Sign out"}),f.jsxs(Rt,{className:"p-6 mb-6",children:[f.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Protected admin area"}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You are authenticated and can now access admin-only features."}),!r&&f.jsx("p",{className:"text-sm text-red-600 mb-4",children:"You are not an admin. Editing is disabled."})]}),f.jsx(Rt,{className:"p-6 mb-6",children:f.jsxs("form",{onSubmit:ce,className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Name"}),f.jsx("input",{value:U,onChange:R=>k(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"DUPR (optional)"}),f.jsx("input",{value:Ge,onChange:R=>Ze(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1",inputMode:"decimal"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Image URL (optional)"}),f.jsx("input",{value:W,onChange:R=>he(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:!r||o==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:o==="pending"?"Adding...":"Add player"})}),c&&f.jsxs("p",{className:"text-sm text-red-600",children:["Error creating player: ",String(c)]})]})}),f.jsxs(Rt,{className:"p-6 mb-6",children:[f.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Create Event"}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create a new Event (start date/time is required)."}),f.jsx(AF,{isAdmin:r})]}),f.jsxs(Rt,{className:"p-6 mb-6",children:[f.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Manage Event Standings"}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select an event, build an ordered standings list of players, and save to the event."}),f.jsxs(Rt,{className:"p-6",children:[f.jsxs("div",{className:"md:col-span-1",children:[f.jsx("label",{className:"block text-sm font-medium",children:"Event"}),f.jsxs("select",{value:x??"",onChange:R=>E(R.target.value||void 0),className:"mt-1 block w-full border rounded px-2 py-1",children:[f.jsx("option",{value:"",children:"(select an event)"}),g.map(R=>f.jsx("option",{value:R.id,children:R.name??R.id},R.id))]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("label",{className:"block text-sm font-medium",children:"Players"}),f.jsxs("div",{className:"mt-1 max-h-56 overflow-auto border rounded p-1",children:[v.length===0&&f.jsx("p",{className:"text-sm text-gray-500",children:"No players found."}),v.map(R=>f.jsxs("div",{className:"flex items-center justify-between px-1 py-2",children:[f.jsx("div",{className:"text-base",children:R.name}),f.jsx("div",{children:f.jsx("button",{type:"button",onClick:()=>I(R.id),className:"px-4 py-2 bg-blue-600 text-white rounded text-base",children:"Add"})})]},R.id))]})]})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium",children:"Standings (ordered)"}),f.jsxs("div",{className:"mt-1 border rounded p-2 bg-white",children:[T.length===0&&f.jsx("p",{className:"text-sm text-gray-500",children:"No players in standings. Add players from the left."}),f.jsx("ul",{children:T.map((R,q)=>{const se=v.find(ue=>ue.id===R);return f.jsxs("li",{className:"flex items-center justify-between py-2 border-b",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsxs("div",{className:"text-sm font-medium",children:[q+1,"."]}),f.jsx("div",{className:"text-sm",children:se?se.name:R})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{type:"button",onClick:()=>C(q),disabled:q===0,className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50 text-base",children:""}),f.jsx("button",{type:"button",onClick:()=>z(q),disabled:q===T.length-1,className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50 text-base",children:""}),f.jsx("button",{type:"button",onClick:()=>A(q),className:"px-4 py-2 bg-red-600 text-white rounded text-base",children:"Remove"})]})]},`${R}-${q}`)})}),f.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[f.jsx("button",{type:"button",onClick:V,disabled:!r||Z==="pending"||!x,className:"px-6 py-3 bg-green-600 text-white rounded disabled:opacity-50 text-base",children:Z==="pending"?"Saving...":"Save standings to event"}),f.jsx("button",{type:"button",onClick:()=>{j([])},className:"px-6 py-3 bg-gray-200 rounded text-base",children:"Clear"})]}),X&&f.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["Error saving: ",String(X)]})]})]})]})]})]}):f.jsxs("div",{children:[f.jsx("p",{className:"mb-4",children:"Sign in with a Google account to access admin features."}),f.jsx("button",{onClick:Me,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Sign in with Google"})]})]})},FI=(t,e=5)=>{const n=e===5?4:5,r=(o,c)=>{if(o===0)return c;if(o<0||c>=7)return-1;const d=r(o-e,c+1);return d!==-1?d:r(o-n,c+1)},a=r(t,0);if(a<=0)throw new Error("Invalid number of players for court allocation");return a},IF=t=>{try{return FI(t,5),!0}catch{return!1}},wm=(t,e,n=5)=>{const r=FI(t,n),a=Array.from({length:r},()=>({seeds:[]}));let o=0,c=1;if(e===1)for(let d=1;d<=t;d++)a[o].seeds.push(d),o+=c,(o===r||o===-1)&&(c*=-1,o+=c);else if(e===2){const d=Math.floor(t/r);let h=t%r,g=1;for(let v=0;v<r;v++){const x=d+(h>0?1:0);for(let E=0;E<x;E++)a[v].seeds.push(g++);h>0&&h--}}return a},RF=(t,e,n=5)=>{const r=t.length;return wm(r,e,n).map((c,d)=>{const h=c.seeds.map(g=>t[g-1]);return{courtNumber:d+1,playerIds:h,roundNumber:e}})},CF=t=>{const{roundNumber:e,playerIds:n}=t;if(n.length===4){const[r,a,o,c]=n;return[{team1:{player1Id:r,player2Id:a},team2:{player1Id:o,player2Id:c}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:a,player2Id:c}},{team1:{player1Id:r,player2Id:c},team2:{player1Id:a,player2Id:o}}].map(h=>({...h,roundNumber:e}))}if(n.length===5){const[r,a,o,c,d]=n;return[{team1:{player1Id:r,player2Id:a},team2:{player1Id:o,player2Id:c}},{team1:{player1Id:a,player2Id:o},team2:{player1Id:c,player2Id:d}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:a,player2Id:d}},{team1:{player1Id:r,player2Id:c},team2:{player1Id:o,player2Id:d}},{team1:{player1Id:r,player2Id:d},team2:{player1Id:a,player2Id:c}}].map(g=>({...g,roundNumber:e}))}throw new Error("Invalid number of players for game generation")},jF=(t,e,n)=>n===2&&t.courtNumber!==e.courtNumber?t.courtNumber-e.courtNumber:t.wins!==e.wins?e.wins-t.wins:t.pointDifferential!==e.pointDifferential?e.pointDifferential-t.pointDifferential:t.seed-e.seed;function od(t,e){if(!t?.length)return[];if(![1,2,3].includes(e))return[];const n=t.reduce((c,d)=>c+d.playerIds.length,0),r=wm(n,e),a=t.flatMap((c,d)=>{const h=c.playerIds.map((g,v)=>({id:g,courtNumber:c.courtNumber,wins:0,losses:0,pointDifferential:0,seed:r[d].seeds[v],roundPlace:0,nextCourt:0}));for(const g of c.games){const{team1:v,team2:x,team1Score:E,team2Score:T}=g,j=(Q,le,G,ae)=>{if(le===void 0||G===void 0)return;const I=le>G||le===G&&ae;Q.wins+=I?1:0,Q.losses+=I?0:1,Q.pointDifferential+=le-G},D=h.find(Q=>Q.id===v.player1Id),P=h.find(Q=>Q.id===v.player2Id),Z=h.find(Q=>Q.id===x.player1Id),X=h.find(Q=>Q.id===x.player2Id);j(D,E,T,!0),j(P,E,T,!0),j(Z,T,E,!1),j(X,T,E,!1)}return h}),o=(c,d)=>jF(c,d,e);if(a.sort(o),a.forEach((c,d)=>{c.roundPlace=d+1}),e===1){const c=t.reduce((h,g)=>h+g.playerIds.length,0),d=wm(c,2);a.forEach(h=>{const g=d.findIndex(v=>v.seeds.includes(h.roundPlace));h.nextCourt=g+1})}return a}const NT=(t,e)=>{const{data:n}=OI(t),{data:r}=PI(t);return M.useMemo(()=>{if(typeof e!="number"||![1,2].includes(e)||!n||!r||n.length===0)return;const o=n.reduce((h,g)=>h+g.playerIds.length,0),c=wm(o,e),d=n.filter(h=>h.roundNumber===e).sort((h,g)=>h.courtNumber-g.courtNumber).map((h,g)=>({...h,seeds:c[g].seeds,games:r.filter(v=>v.courtId===h.id)}));if(d.length!==0)return{roundNumber:e,courts:d,standings:od(d,e).map(h=>h.id)}},[n,r,e])},DF=t=>{const{data:e}=ua(),[n,r]=M.useState(t),a=t??n,{data:o}=cF(a),{update:c}=kI(),d=NT(a,1),h=NT(a,2),g=M.useCallback(R=>{const q=R===1?d:h;return q!==void 0&&q.courts.length>0},[d,h]),v=M.useCallback(R=>{const q=R===1?d:h;return q?q.courts.every(se=>se.games.every(ue=>ue.team1Score!==void 0&&ue.team2Score!==void 0)):!1},[d,h]),x=M.useMemo(()=>o?.ongoingStage||1,[o]),[E,T]=LI("stage",x),j=M.useCallback(R=>{T(typeof R=="string"?R:R.toString())},[T]),D=M.useMemo(()=>{if(E==="initial"||E==="standings")return E;const R=parseInt(E,10);return[1,2,3].includes(R)?R:x},[E,x]),P=M.useCallback(R=>{o&&c({id:o.id,ongoingStage:R})},[o,c]),{create:Z}=uF(a),{create:X}=hF(a),{update:Q}=fF(a),{data:le=[]}=PI(a),{remove:G}=mF(a),{data:ae=[]}=OI(a),{remove:I}=dF(a),A=M.useCallback(async()=>{if(window.confirm("Are you sure you want to clear all data and start over?")&&n){for(const R of le||[])await G(R.id);for(const R of ae||[])await I(R.id);P(1),j(1)}},[n,P,j,le,G,ae,I]),C=M.useCallback(async(R,q)=>{if(g(q)){console.error(`Round ${q} has already been created.`);return}if(IF(R.length)===!1){console.error(`Invalid number of players: ${R.length}. Must be between 8 and 35 players.`);return}const se=RF(R,q);for(const ue of se){const Ee=await Z(ue),Ie=CF(ue);for(const _e of Ie)await X({courtId:Ee,..._e});P(q),j(q)}},[g,Z,P,j,X]),z=tb(),V=M.useCallback(async R=>{const q=R.sort((se,ue)=>{const Ee=z.find(_e=>_e.playerId===se);return(z.find(_e=>_e.playerId===ue)?.points||0)-(Ee?.points||0)});await C(q,1)},[C,z]),U=M.useCallback(async()=>{if(!v(1)){alert("Cannot advance to round 2: round 1 is not complete.");return}if(g(2)){alert("Round 2 has already been created.");return}if(!d?.courts||d.courts.length===0){alert("No courts available from round 1 to advance to round 2.");return}const R=od(d.courts,1);await C(R.map(q=>q.id),2),j(2),P(2)},[v,g,d,j,P,C]),k=()=>{if(!o){alert("No event selected to finalize.");return}if(!h){alert("Cannot finalize event: round 2 data is missing.");return}if(!v(2)){alert("Cannot finalize event: round 2 is not complete.");return}o.standings&&o.standings.length>0&&window.confirm("Standings already exist. Overwrite?")===!1||(c({id:o.id,standings:h.standings}),j("standings"))},Ge=M.useMemo(()=>le?.filter(R=>R.team1Score!==void 0&&R.team2Score!==void 0).length||0,[le]),Ze=M.useMemo(()=>le?.length||1,[le]),W=Math.round(Ge/Math.max(1,Ze)*100),he=M.useCallback((R,q,se)=>{Q({id:R,[q]:se})},[Q]),ce=M.useMemo(()=>g(2)===!1,[g]),Me=M.useMemo(()=>o?.standings===void 0||o.standings.length===0,[o]),Fe=M.useMemo(()=>g(1)===!1,[g]);return{events:e,selectedEventId:a,setSelectedEventId:r,round1:d,round2:h,needsInitialization:Fe,event:o,currentView:D,setCurrentView:j,completedMatches:Ge,totalMatches:Ze,progressPercent:W,handleScoreChange:he,areRound1UpdatesAllowed:ce,areRound2UpdatesAllowed:Me,initializeRoundOne:V,advanceToRoundTwo:U,finalizeEvent:k,resetAll:A,apiError:null}},BI=qs.forwardRef(({label:t,textarea:e=!1,className:n,error:r,success:a,rows:o=4,size:c="md",variant:d="default",icon:h,iconPosition:g="left",...v},x)=>{const E="w-full rounded-xl border transition-all duration-300 text-text-main placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background disabled:opacity-50 disabled:cursor-not-allowed",T={sm:"px-3 py-2 text-sm",md:"px-4 py-3 text-base",lg:"px-6 py-4 text-lg"},j={default:"bg-surface border-border focus:border-primary focus:ring-primary/30 shadow-sm hover:shadow-md",premium:"bg-gradient-to-br from-surface via-surface-alt to-surface border-border focus:border-primary focus:ring-primary/30 shadow-lg hover:shadow-xl",outlined:"bg-transparent border-2 border-border focus:border-primary focus:ring-primary/30 hover:border-primary/50"},D=()=>r?"border-error focus:border-error focus:ring-error/30 shadow-error/10":a?"border-success focus:border-success focus:ring-success/30 shadow-success/10":"",P={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"},Z=()=>{if(!h)return null;if(qs.isValidElement(h)){const Q=h.props?.className||"";return qs.cloneElement(h,{className:on(P[c],"text-text-muted",Q)})}return h},X=on(E,j[d],T[c],D(),h&&g==="left"?"pl-10":"",h&&g==="right"?"pr-10":"",e?"resize-vertical min-h-[6rem]":"");return f.jsxs("label",{className:on("block",n&&void 0),children:[t&&f.jsxs("div",{className:"mb-3 text-sm font-semibold text-text-main flex items-center gap-2",children:[t,r&&f.jsx("span",{className:"text-error",children:"*"}),a&&f.jsx("span",{className:"text-success",children:""})]}),f.jsxs("div",{className:"relative",children:[h&&g==="left"&&f.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none",children:Z()}),e?f.jsx("textarea",{ref:x,rows:o,className:X,"aria-invalid":!!r,...v}):f.jsx("input",{ref:x,className:X,"aria-invalid":!!r,...v}),h&&g==="right"&&f.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:Z()})]}),r&&f.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 rounded-full bg-error/20 flex items-center justify-center",children:f.jsx("span",{className:"text-xs text-error font-bold",children:"!"})}),f.jsx("p",{className:"text-sm text-error font-medium",children:r})]}),a&&!r&&f.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 rounded-full bg-success/20 flex items-center justify-center",children:f.jsx("span",{className:"text-xs text-success font-bold",children:""})}),f.jsx("p",{className:"text-sm text-success font-medium",children:a})]})]})});BI.displayName="Input";const kF=({roundNumber:t,playerRankings:e,players:n,completedGames:r,totalGames:a,previousRoundRankings:o})=>{const[c,d]=M.useState(!1),h=a>0?Math.round(r/a*100):0,g=(x,E)=>{let T,j;if(t===1){const D=e.find(P=>P.id===E)?.seed;T=D,j=D?`Seed #${D}`:"No seed"}else if(o)T=o.find(D=>D.id===E)?.roundPlace,j=T?`Round 1 #${T}`:"No previous rank";else return null;return T?x<T?f.jsx("div",{title:`Moved up from ${j}`,children:f.jsx(ek,{className:"h-4 w-4 text-success"})}):x>T?f.jsx("div",{title:`Moved down from ${j}`,children:f.jsx(ZD,{className:"h-4 w-4 text-error"})}):f.jsx("div",{title:`Same as ${j}`,children:f.jsx("div",{className:"w-2 h-2 rounded-full bg-text-muted mx-auto"})}):null},v=(x,E)=>{const T=x+E;return T===0?"0%":`${Math.round(x/T*100)}%`};return f.jsxs("div",{className:"mb-6",children:[f.jsx("button",{onClick:()=>d(!c),className:"w-full bg-gradient-to-r from-primary/10 via-primary/5 to-primary/10 border border-primary/30 rounded-xl p-4 hover:bg-primary/15 transition-all duration-200",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary/70 rounded-full flex items-center justify-center",children:f.jsx(Ln,{className:"h-5 w-5 text-white"})}),f.jsxs("div",{className:"text-left",children:[f.jsxs("h3",{className:"font-bold text-text-main",children:["Round ",t," Rankings"]}),f.jsxs("p",{className:"text-sm text-text-muted",children:[r,"/",a," games (",h,"%)"]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-sm text-text-muted",children:[c?"Hide":"Show"," Rankings"]}),c?f.jsx(uS,{className:"h-5 w-5 text-text-muted"}):f.jsx(cS,{className:"h-5 w-5 text-text-muted"})]})]})}),c&&f.jsx("div",{className:"mt-3 bg-surface rounded-xl border border-border overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-surface-alt border-b border-border",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Rank"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Player"}),f.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Court"}),t===1&&f.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Projected Next Court"}),f.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"W-L"}),f.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Win %"}),f.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Diff"}),f.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Movement"})]})}),f.jsx("tbody",{className:"divide-y divide-border",children:e.map((x,E)=>{const T=n.find(D=>D.id===x.id),j=E+1;return f.jsxs("tr",{className:`transition-colors ${j<=3?j===1?"bg-warning/5 hover:bg-warning/10":j===2?"bg-text-accent/5 hover:bg-text-accent/10":"bg-bronze/5 hover:bg-bronze/10":"hover:bg-surface-highlight"}`,children:[f.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${j===1?"bg-gradient-to-br from-warning to-warning/70 text-white":j===2?"bg-gradient-to-br from-text-accent to-text-accent/70 text-white":j===3?"bg-gradient-to-br from-bronze to-bronze/70 text-white":"bg-surface-alt text-text-main"}`,children:j===1?"":j===2?"":j===3?"":j})}),f.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[f.jsx("div",{className:"font-semibold text-text-main",children:T?.name||`Player ${x.id}`}),f.jsxs("div",{className:"text-xs text-text-muted",children:["Seed #",x.seed]})]}),f.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:f.jsx("span",{className:"text-sm font-medium text-text-main",children:x.courtNumber})}),t===1&&f.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:f.jsx("span",{className:"text-sm font-medium text-text-accent",children:typeof x.nextCourt=="number"&&x.nextCourt>0?x.nextCourt:"-"})}),f.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:f.jsxs("span",{className:"text-sm font-semibold text-text-main",children:[x.wins,"-",x.losses]})}),f.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:f.jsx("span",{className:"text-sm font-medium text-text-main",children:v(x.wins,x.losses)})}),f.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:f.jsxs("span",{className:`text-sm font-semibold ${x.pointDifferential>0?"text-success":x.pointDifferential<0?"text-error":"text-text-muted"}`,children:[x.pointDifferential>0?"+":"",x.pointDifferential]})}),f.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:g(j,x.id)})]},x.id)})})]})})})]})},OF=({courtNumber:t,playerStats:e,players:n,totalGamesForCourt:r,completedGamesForCourt:a})=>{const[o,c]=M.useState(!1),d=r>0?Math.round(a/r*100):0,h=(v,x)=>{const E=v+x;return E===0?"0%":`${Math.round(v/E*100)}%`},g=[...e].sort((v,x)=>v.wins!==x.wins?x.wins-v.wins:v.pointDifferential!==x.pointDifferential?x.pointDifferential-v.pointDifferential:v.seed-x.seed);return f.jsxs("div",{className:"mt-3",children:[f.jsx("button",{onClick:()=>c(!o),className:"w-full bg-gradient-to-r from-success/10 via-success/5 to-success/10 border border-success/30 rounded-lg p-3 hover:bg-success/15 transition-all duration-200",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-success to-success/70 rounded-full flex items-center justify-center",children:f.jsx(ik,{className:"h-4 w-4 text-white"})}),f.jsxs("div",{className:"text-left",children:[f.jsxs("h4",{className:"text-sm font-bold text-text-main",children:["Court ",t," Stats"]}),f.jsxs("p",{className:"text-xs text-text-muted",children:[a,"/",r," games (",d,"%)"]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs text-text-muted",children:o?"Hide":"Show"}),o?f.jsx(uS,{className:"h-4 w-4 text-text-muted"}):f.jsx(cS,{className:"h-4 w-4 text-text-muted"})]})]})}),o&&f.jsxs("div",{className:"mt-2 bg-surface-alt/30 rounded-lg border border-border/50 overflow-hidden",children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-surface-alt/50 border-b border-border/30",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Rank"}),f.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Player"}),f.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"W-L"}),f.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Win %"}),f.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Diff"}),f.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Games"})]})}),f.jsx("tbody",{className:"divide-y divide-border/30",children:g.map((v,x)=>{const E=n.find(j=>j.id===v.id),T=x+1;return f.jsxs("tr",{className:`transition-colors ${T===1?"bg-success/5 hover:bg-success/10":"hover:bg-surface-highlight"}`,children:[f.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:f.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${T===1?"bg-gradient-to-br from-success to-success/70 text-white":"bg-surface-alt text-text-main"}`,children:T===1?"":T})}),f.jsxs("td",{className:"px-3 py-2 whitespace-nowrap",children:[f.jsx("div",{className:"text-sm font-semibold text-text-main",children:E?.name||`Player ${v.id}`}),E?.dupr&&f.jsxs("div",{className:"text-xs text-text-muted",children:["DUPR: ",E.dupr]})]}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:f.jsxs("span",{className:"text-sm font-semibold text-text-main",children:[v.wins,"-",v.losses]})}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:f.jsx("span",{className:"text-sm font-medium text-text-main",children:h(v.wins,v.losses)})}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:f.jsxs("span",{className:`text-sm font-semibold ${v.pointDifferential>0?"text-success":v.pointDifferential<0?"text-error":"text-text-muted"}`,children:[v.pointDifferential>0?"+":"",v.pointDifferential]})}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:f.jsxs("span",{className:"text-sm font-medium text-text-main",children:[v.wins+v.losses,"/",g.length===5?4:r]})})]},v.id)})})]})}),a===r&&f.jsx("div",{className:"p-3 border-t border-border/30 bg-surface-alt/20",children:f.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[f.jsx(Pl,{className:"h-4 w-4"}),f.jsxs("span",{children:["Court ",t," complete  Leader advances to next round"]})]})})]})]})},PF=({value:t,onChange:e,isAdmin:n=!1,teamColor:r="primary",disabled:a=!1,maxScore:o})=>{const[c,d]=M.useState(!1),[h,g]=M.useState(t?.toString()||""),v=M.useRef(null);M.useEffect(()=>{c&&v.current&&(v.current.focus(),v.current.select())},[c]);const x=()=>{!n||a||(g(t?.toString()||""),d(!0))},E=()=>{let Z=parseInt(h);!isNaN(Z)&&Z>=0&&(typeof o=="number"&&Z>o&&(Z=o),e(Z)),d(!1)},T=()=>{g(t?.toString()||""),d(!1)},j=Z=>{Z.key==="Enter"?E():Z.key==="Escape"&&T()},P={primary:{bg:"bg-surface",border:"border-border",hover:"hover:bg-surface-highlight",text:"text-text-main"},success:{bg:"bg-surface",border:"border-border",hover:"hover:bg-surface-highlight",text:"text-text-main"}}[r];return c?f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("input",{ref:v,type:"number",value:h,onChange:Z=>g(Z.target.value),onKeyDown:j,onBlur:E,className:`w-14 h-12 px-2 text-lg font-bold border-2 ${P.border} rounded-lg bg-surface text-center focus:outline-none focus:ring-2 focus:ring-primary/50`,min:"0",max:typeof o=="number"?o:99})}):f.jsx("button",{onClick:x,disabled:!n||a,className:`min-w-[2.5rem] h-8 px-2 flex items-center justify-center ${P.bg} border-2 ${P.border} rounded-md text-lg font-black transition-all duration-200 ${n&&!a?`${P.hover} cursor-pointer active:scale-95`:"cursor-default"}`,children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:P.text,children:t??"-"}),n&&!a&&f.jsx(bk,{className:`h-2.5 w-2.5 ${P.text} opacity-60`})]})})},MF=({players:t,onPlayerSelect:e,onClear:n,placeholder:r="Find your name...",className:a=""})=>{const[o,c]=M.useState(""),[d,h]=M.useState(!1),g=M.useMemo(()=>o.trim()?t.filter(T=>T.name.toLowerCase().includes(o.toLowerCase())).slice(0,8).sort((T,j)=>T.name.localeCompare(j.name)):[],[t,o]),v=T=>{const j=t.find(D=>D.id===T);j&&(c(j.name),h(!1),e(T))},x=()=>{c(""),h(!1),n()},E=T=>{c(T),h(T.length>0)};return f.jsxs("div",{className:`relative ${a}`,children:[f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",value:o,onChange:T=>E(T.target.value),placeholder:r,className:"w-full h-12 pl-12 pr-12 bg-surface border-2 border-border rounded-xl text-text-main placeholder-text-muted focus:outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all duration-200"}),f.jsx(fS,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-text-muted"}),o&&f.jsx("button",{onClick:x,className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-6 h-6 bg-surface-alt rounded-full flex items-center justify-center hover:bg-surface-highlight transition-colors",children:f.jsx(pS,{className:"h-4 w-4 text-text-muted"})})]}),d&&g.length>0&&f.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-2 bg-surface border-2 border-border rounded-xl shadow-xl max-h-64 overflow-y-auto",children:f.jsx("div",{className:"p-2",children:g.map(T=>f.jsxs("button",{onClick:()=>v(T.id||""),className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-surface-highlight transition-colors text-left",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary/20 to-primary/10 rounded-full flex items-center justify-center",children:f.jsx(mS,{className:"h-4 w-4 text-primary"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"font-semibold text-text-main truncate",children:T.name}),T.dupr&&f.jsxs("div",{className:"text-sm text-text-muted",children:["DUPR: ",T.dupr]})]})]},T.id))})}),d&&o&&g.length===0&&f.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-2 bg-surface border-2 border-border rounded-xl shadow-xl p-4 text-center",children:f.jsxs("div",{className:"text-text-muted",children:["No players found matching ",o,""]})})]})},Sy=({icon:t,label:e,value:n,className:r})=>f.jsxs("div",{className:`flex items-center gap-3 p-3 bg-surface-alt/50 rounded-xl ${r||""}`,children:[t,f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"text-xs text-text-muted uppercase",children:e}),f.jsx("div",{className:"font-semibold text-sm",children:n})]})]}),IT=({color:t,player1:e,player2:n,score:r,onScoreChange:a,isAdmin:o,isEditable:c})=>f.jsxs("div",{className:"flex items-center justify-between py-1.5",children:[f.jsx("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:f.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[f.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[f.jsx(ad,{imageUrl:e?.imageUrl,name:e?.name,size:"sm"}),f.jsx("span",{className:"text-base font-normal text-text-main truncate",children:e?.name||"Player"})]}),f.jsx("span",{className:"mx-1 text-text-muted font-light text-lg",children:"&"}),f.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[f.jsx(ad,{imageUrl:n?.imageUrl,name:n?.name,size:"sm"}),f.jsx("span",{className:"text-base font-normal text-text-main truncate",children:n?.name||"Player"})]})]})}),f.jsx(PF,{value:r,onChange:a,isAdmin:o,teamColor:t,disabled:c===!1})]}),VF=({court:t,players:e,roundNumber:n,highlightedPlayerId:r,isAdmin:a,handleScoreChange:o})=>{const[c,d]=M.useState(!0),h=od([t],n),g=t.games.filter(T=>T.roundNumber===n&&T.team1Score!==void 0&&T.team2Score!==void 0).length,v=t.games.filter(T=>T.roundNumber===n).length,x=n===1&&(typeof window.areRound1UpdatesAllowed=="boolean"?window.areRound1UpdatesAllowed:!0)||n===2&&(typeof window.areRound2UpdatesAllowed=="boolean"?window.areRound2UpdatesAllowed:!0),E=t.playerIds.map(T=>e.find(j=>j.id===T)).filter(Boolean);return f.jsxs(Rt,{id:`court-${t.id}`,variant:"premium",padding:"md",hover:!0,className:`${t.playerIds.some(T=>T===r)?"ring-2 ring-primary/50 bg-primary/5":""}`,children:[f.jsxs("button",{className:"w-full flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 focus:outline-none",onClick:()=>d(T=>!T),"aria-expanded":c,type:"button",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[f.jsx("div",{className:"flex items-center gap-3",children:f.jsxs("h3",{className:"text-2xl font-bold text-text-main",children:["Court ",t.courtNumber]})}),f.jsx("div",{className:"flex flex-wrap gap-1 mt-1 sm:mt-0",children:E.map(T=>T?f.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-text-muted bg-surface-alt px-2 py-0.5 rounded",children:[f.jsx(ad,{imageUrl:T.imageUrl,name:T.name,size:"sm",border:!1,className:"ring-1 ring-surface"}),T.name]},T.id+"-name"):null)})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-sm px-3 py-1 bg-primary/20 text-primary rounded-lg font-semibold",children:[g,"/",v," games"]}),f.jsxs("span",{className:"text-sm px-3 py-1 bg-success/20 text-success rounded-lg font-semibold",children:[t.playerIds.length," players"]}),f.jsx("span",{className:"text-xs px-2 py-1 bg-surface-alt text-text-muted rounded font-medium border border-border",children:t.playerIds.length===4?"First to 15, win by 1":t.playerIds.length===5?"First to 11, win by 1":""})]})]}),c&&f.jsxs("div",{className:"space-y-4 mt-4",children:[f.jsx("div",{className:"space-y-2",children:t.games.map((T,j)=>{const D=e.find(G=>G.id===T.team1.player1Id),P=e.find(G=>G.id===T.team1.player2Id),Z=e.find(G=>G.id===T.team2.player1Id),X=e.find(G=>G.id===T.team2.player2Id);let Q="",le="";return typeof T.team1Score=="number"&&typeof T.team2Score=="number"&&(T.team1Score>T.team2Score?Q="bg-success/10":T.team2Score>T.team1Score&&(le="bg-success/10")),f.jsxs("div",{children:[f.jsx("div",{className:"px-2 pt-1 pb-0",children:f.jsxs("span",{className:"text-xs text-text-muted font-semibold tracking-wide uppercase",children:["Game ",j+1]})}),f.jsx("div",{className:"bg-surface rounded-xl border border-border/30 shadow transition-all duration-200 overflow-hidden",children:f.jsxs("div",{className:"p-2 space-y-1",children:[f.jsx("div",{className:`rounded-lg transition-all duration-200 px-4 ${Q}`,children:f.jsx(IT,{color:"primary",player1:D,player2:P,score:T.team1Score,onScoreChange:G=>o(T.id,"team1Score",G),isAdmin:a,isEditable:x})}),f.jsx("div",{className:`rounded-lg transition-all duration-200 px-4 ${le}`,children:f.jsx(IT,{color:"success",player1:Z,player2:X,score:T.team2Score,onScoreChange:G=>o(T.id,"team2Score",G),isAdmin:a,isEditable:x})})]})})]},T.id)})}),f.jsx(OF,{courtNumber:t.courtNumber,playerStats:h,players:e,totalGamesForCourt:v,completedGamesForCourt:g})]})]},t.id)};function zF(t){return t?t.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"}):""}function LF(t){return t?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):""}const UF=()=>{const{id:t}=$T(),e=t?decodeURIComponent(t):"",{data:n,isLoading:r}=DI(e),{data:a=[]}=Ad(),{isAdmin:o}=UI(),c=DF(e),[d,h]=M.useState([]),[g,v]=M.useState(""),[x,E]=M.useState(!1),[T,j]=M.useState(null),D=M.useMemo(()=>a.filter(G=>G.name.toLowerCase().includes(g.toLowerCase())).sort((G,ae)=>G.name.localeCompare(ae.name)),[a,g]),P=G=>{h(ae=>ae.includes(G)?ae.filter(I=>I!==G):[...ae,G])},Z=async()=>{if(d.length<8||d.length>35){alert("Please select between 8-35 players");return}E(!0);try{await c.initializeRoundOne(d),h([])}catch(G){console.error("Failed to initialize round:",G),alert("Failed to initialize round. Please try again.")}finally{E(!1)}},X=async()=>{if(window.confirm("Are you sure you want to advance to Round 2? This cannot be undone."))try{await c.advanceToRoundTwo()}catch(G){console.error("Failed to advance to round 2:",G),alert("Failed to advance to Round 2. Please try again.")}},Q=()=>{window.confirm("Are you sure you want to finalize this event? Final standings will be published.")&&c.finalizeEvent()};if(r)return f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:f.jsxs(Rt,{variant:"premium",padding:"xl",className:"max-w-md w-full text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary/20 border-t-primary mx-auto mb-6"}),f.jsx("h2",{className:"text-2xl font-bold text-text-main mb-2",children:"Loading Event"}),f.jsx("p",{className:"text-text-muted",children:"Please wait while we fetch the event details..."})]})});if(!n)return f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:f.jsxs(Rt,{variant:"gradient",theme:"error",padding:"xl",className:"max-w-2xl w-full text-center",children:[f.jsx("div",{className:"text-6xl mb-6 opacity-50",children:""}),f.jsx("h1",{className:"text-3xl font-black text-text-main mb-4",children:"Event Not Found"}),f.jsxs("p",{className:"text-text-muted mb-8 leading-relaxed",children:["The event ID"," ",f.jsx("code",{className:"bg-surface-alt px-2 py-1 rounded font-mono text-sm",children:e||"(empty)"})," ","does not match any scheduled event in our system."]}),f.jsx(bt,{to:"/schedule",children:f.jsx(Fi,{variant:"primary",size:"lg",icon:f.jsx(Xw,{}),iconPosition:"left",children:"Back to Schedule"})})]})});const le=c.currentView===1?c.round1:c.currentView===2?c.round2:null;return f.jsxs("div",{className:"space-y-8 pb-12 px-4 max-w-7xl mx-auto",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs(bt,{to:"/schedule",className:"inline-flex items-center gap-2 text-text-muted hover:text-primary transition-colors font-semibold",children:[f.jsx(Xw,{className:"h-5 w-5"}),f.jsx("span",{children:"Back to Schedule"})]}),f.jsx(Rt,{variant:"premium",padding:"lg",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4",children:f.jsx(oo,{className:"h-8 w-8 text-white"})}),f.jsx("h1",{className:"text-3xl md:text-4xl font-black text-text-main mb-6",children:n.name}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[f.jsx(Sy,{icon:f.jsx(oo,{className:"h-5 w-5 text-primary"}),label:"Date",value:zF(n.startDateTime)}),f.jsx(Sy,{icon:f.jsx($f,{className:"h-5 w-5 text-success"}),label:"Time",value:LF(n.startDateTime)}),f.jsx(Sy,{icon:f.jsx(hS,{className:"h-5 w-5 text-warning"}),label:"Location",value:n.location||"TBD"})]})]})})]}),o&&c.needsInitialization&&f.jsxs(Rt,{variant:"gradient",theme:"primary",padding:"lg",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4",children:f.jsx(Pk,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-text-main mb-2",children:"Initialize Event"}),f.jsx("p",{className:"text-text-muted",children:"Select 8-35 players to start the event"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(BI,{icon:f.jsx(fS,{}),placeholder:"Search players by name...",value:g,onChange:G=>v(G.target.value),variant:"premium"}),f.jsx("div",{className:"text-center",children:f.jsxs("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${d.length>=8&&d.length<=35?"bg-success/20 text-success":"bg-warning/20 text-warning"}`,children:[d.length," / 35 players selected",d.length<8&&" (minimum 8)"]})}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 max-h-96 overflow-y-auto p-2",children:D.map(G=>{const ae=d.includes(G.id||"");return f.jsx("div",{onClick:()=>P(G.id||""),className:`p-3 rounded-xl border-2 cursor-pointer transition-all duration-200 ${ae?"border-primary bg-primary/10 shadow-md":"border-border hover:border-primary/50 bg-surface"}`,children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${ae?"border-primary bg-primary":"border-border"}`,children:ae&&f.jsx(uk,{className:"h-4 w-4 text-white"})}),f.jsxs("div",{className:"flex-1 text-left",children:[f.jsx("div",{className:"font-semibold text-text-main",children:G.name}),G.dupr&&f.jsxs("div",{className:"text-xs text-text-muted",children:["DUPR: ",G.dupr]})]})]})},G.id)})}),f.jsx("div",{className:"text-center pt-4",children:f.jsx(Fi,{variant:"primary",size:"lg",icon:f.jsx(wk,{}),onClick:Z,disabled:d.length<8||d.length>35||x,loading:x,children:"Initialize Round 1"})})]})]}),!c.needsInitialization&&f.jsx(Rt,{variant:"flat",padding:"sm",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center gap-2",children:[1,2,"standings"].map(G=>{const ae=c.currentView===G,I=G===1||G===2&&c.round1||G==="standings"&&c.round2;return f.jsx(Fi,{variant:ae?"primary":"ghost",size:"sm",onClick:()=>c.setCurrentView(G),disabled:!I,children:G==="standings"?"Final Standings":`Round ${G}`},G)})}),f.jsxs("div",{className:"text-sm text-text-muted",children:["Progress: ",c.completedMatches,"/",c.totalMatches," matches (",c.progressPercent,"%)"]})]})}),!c.needsInitialization&&le&&f.jsx(MF,{players:a.filter(G=>le.courts.some(ae=>ae.playerIds.includes(G.id||""))),onPlayerSelect:G=>{j(G);const ae=le.courts.find(I=>I.playerIds.includes(G));if(ae){const I=document.getElementById(`court-${ae.id}`);I&&I.scrollIntoView({behavior:"smooth",block:"center"})}},onClear:()=>j(null),placeholder:"Find a player on the courts...",className:"mb-6"}),le&&f.jsxs("div",{className:"space-y-6",children:[(()=>{const G=od(le.courts,c.currentView),ae=c.currentView===2&&c.round1?od(c.round1.courts,1):void 0,I=le.courts.flatMap(C=>C.games.filter(z=>z.roundNumber===c.currentView)),A=I.filter(C=>C.team1Score!==void 0&&C.team2Score!==void 0).length;return f.jsx(kF,{roundNumber:c.currentView,playerRankings:G,players:a,completedGames:A,totalGames:I.length,previousRoundRankings:ae})})(),f.jsx(Rt,{variant:"gradient",theme:"success",padding:"md",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/70 rounded-full flex items-center justify-center",children:f.jsx(Ml,{className:"h-6 w-6 text-white"})}),f.jsxs("div",{children:[f.jsxs("h2",{className:"text-xl font-bold text-text-main",children:["Round ",c.currentView," Courts"]}),f.jsxs("p",{className:"text-text-muted text-sm",children:[le.courts.length," courts  Live scoring enabled"]})]})]}),o&&f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Fi,{variant:"secondary",size:"sm",icon:f.jsx(Ak,{}),onClick:c.resetAll,children:"Reset All"}),c.currentView===1&&c.round1&&f.jsx(Fi,{variant:"primary",size:"sm",icon:f.jsx(bf,{}),onClick:X,disabled:!c.round1.courts.every(G=>G.games.every(ae=>ae.team1Score!==void 0&&ae.team2Score!==void 0)),children:"Advance to Round 2"}),c.currentView===2&&c.round2&&f.jsx(Fi,{variant:"primary",size:"sm",icon:f.jsx(Ln,{}),onClick:Q,disabled:!c.round2.courts.every(G=>G.games.every(ae=>ae.team1Score!==void 0&&ae.team2Score!==void 0)),children:"Finalize Event"})]})]})}),f.jsx("div",{className:"grid grid-cols-1 gap-4",children:le.courts.map(G=>f.jsx(VF,{court:G,players:a,roundNumber:c.currentView,highlightedPlayerId:T,isAdmin:o,handleScoreChange:c.handleScoreChange},G.id))})]}),c.currentView==="standings"&&n.standings&&f.jsxs(Rt,{variant:"gradient",theme:"warning",padding:"lg",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-4",children:f.jsx(Ln,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-text-main mb-2",children:"Final Standings"}),f.jsx("p",{className:"text-text-muted",children:"Official results from this event"})]}),f.jsx("div",{className:"bg-surface rounded-xl border border-border overflow-hidden max-w-2xl mx-auto",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-surface-alt border-b border-border",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-text-main uppercase tracking-wider",children:"Position"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-text-main uppercase tracking-wider",children:"Player"}),f.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-text-main uppercase tracking-wider",children:"Points"})]})}),f.jsx("tbody",{className:"divide-y divide-border",children:n.standings.map((G,ae)=>{const I=a.find(z=>z.id===G),A=["warning","text-accent","bronze"],C=["","",""];return f.jsxs("tr",{className:`transition-colors ${ae<3?ae===0?"bg-warning/5 hover:bg-warning/10":ae===1?"bg-text-accent/5 hover:bg-text-accent/10":"bg-bronze/5 hover:bg-bronze/10":"hover:bg-surface-highlight"}`,children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${ae<3?`bg-gradient-to-br from-${A[ae]} to-${A[ae]}/70 text-white`:"bg-surface-alt text-text-main"}`,children:f.jsx("span",{className:"font-bold text-lg",children:ae<3?C[ae]:`#${ae+1}`})})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.jsx("div",{className:"font-bold text-lg text-text-main",children:I?.name||`Player ${G}`}),I?.dupr&&f.jsxs("div",{className:"text-sm text-text-muted",children:["DUPR: ",I.dupr]})]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:[f.jsxs("div",{className:"flex items-center justify-center gap-1 text-2xl font-bold text-success",children:[f.jsx(Tk,{className:"h-5 w-5"}),cs(ae+1).toLocaleString()]}),f.jsx("div",{className:"text-sm text-text-muted",children:"points"})]})]},G)})})]})})})]})]})},FF=()=>f.jsx(RO,{children:f.jsxs(Aj,{children:[f.jsx(Ls,{path:"/",element:f.jsx(pF,{})}),f.jsx(Ls,{path:"/standings",element:f.jsx(xF,{})}),f.jsx(Ls,{path:"/schedule",element:f.jsx(SF,{})}),f.jsx(Ls,{path:"/players",element:f.jsx(_F,{})}),f.jsx(Ls,{path:"/player/:id",element:f.jsx(EF,{})}),f.jsx(Ls,{path:"/format",element:f.jsx(bF,{})}),f.jsx(Ls,{path:"/admin",element:f.jsx(NF,{})}),f.jsx(Ls,{path:"/event/:id",element:f.jsx(UF,{})})]})}),BF=new RD;RC.createRoot(document.getElementById("root")).render(f.jsx(M.StrictMode,{children:f.jsx(CD,{client:BF,children:f.jsx(Yj,{children:f.jsx(FF,{})})})}));
