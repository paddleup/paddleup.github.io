function RP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function CP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mv={exports:{}},hd={};var GT;function NP(){if(GT)return hd;GT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return hd.Fragment=e,hd.jsx=n,hd.jsxs=n,hd}var KT;function DP(){return KT||(KT=1,Mv.exports=NP()),Mv.exports}var v=DP(),jv={exports:{}},Ve={};var QT;function OP(){if(QT)return Ve;QT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,D={};function V(F,K,ce){this.props=F,this.context=K,this.refs=D,this.updater=ce||A}V.prototype.isReactComponent={},V.prototype.setState=function(F,K){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,K,"setState")},V.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function $(){}$.prototype=V.prototype;function z(F,K,ce){this.props=F,this.context=K,this.refs=D,this.updater=ce||A}var Q=z.prototype=new $;Q.constructor=z,R(Q,V.prototype),Q.isPureReactComponent=!0;var W=Array.isArray;function se(){}var C={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function k(F,K,ce){var de=ce.ref;return{$$typeof:t,type:F,key:K,ref:de!==void 0?de:null,props:ce}}function M(F,K){return k(F.type,K,F.props)}function j(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function L(F){var K={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ce){return K[ce]})}var P=/\/+/g;function pe(F,K){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):K.toString(36)}function ye(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(se,se):(F.status="pending",F.then(function(K){F.status==="pending"&&(F.status="fulfilled",F.value=K)},function(K){F.status==="pending"&&(F.status="rejected",F.reason=K)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function q(F,K,ce,de,xe){var we=typeof F;(we==="undefined"||we==="boolean")&&(F=null);var _e=!1;if(F===null)_e=!0;else switch(we){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(F.$$typeof){case t:case e:_e=!0;break;case g:return _e=F._init,q(_e(F._payload),K,ce,de,xe)}}if(_e)return xe=xe(F),_e=de===""?"."+pe(F,0):de,W(xe)?(ce="",_e!=null&&(ce=_e.replace(P,"$&/")+"/"),q(xe,K,ce,"",function($n){return $n})):xe!=null&&(j(xe)&&(xe=M(xe,ce+(xe.key==null||F&&F.key===xe.key?"":(""+xe.key).replace(P,"$&/")+"/")+_e)),K.push(xe)),1;_e=0;var ke=de===""?".":de+":";if(W(F))for(var He=0;He<F.length;He++)de=F[He],we=ke+pe(de,He),_e+=q(de,K,ce,we,xe);else if(He=w(F),typeof He=="function")for(F=He.call(F),He=0;!(de=F.next()).done;)de=de.value,we=ke+pe(de,He++),_e+=q(de,K,ce,we,xe);else if(we==="object"){if(typeof F.then=="function")return q(ye(F),K,ce,de,xe);throw K=String(F),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return _e}function Z(F,K,ce){if(F==null)return F;var de=[],xe=0;return q(F,de,"","",function(we){return K.call(ce,we,xe++)}),de}function H(F){if(F._status===-1){var K=F._result;K=K(),K.then(function(ce){(F._status===0||F._status===-1)&&(F._status=1,F._result=ce)},function(ce){(F._status===0||F._status===-1)&&(F._status=2,F._result=ce)}),F._status===-1&&(F._status=0,F._result=K)}if(F._status===1)return F._result.default;throw F._result}var he=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},be={map:Z,forEach:function(F,K,ce){Z(F,function(){K.apply(this,arguments)},ce)},count:function(F){var K=0;return Z(F,function(){K++}),K},toArray:function(F){return Z(F,function(K){return K})||[]},only:function(F){if(!j(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Ve.Activity=b,Ve.Children=be,Ve.Component=V,Ve.Fragment=n,Ve.Profiler=i,Ve.PureComponent=z,Ve.StrictMode=r,Ve.Suspense=h,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(F){return C.H.useMemoCache(F)}},Ve.cache=function(F){return function(){return F.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(F,K,ce){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var de=R({},F.props),xe=F.key;if(K!=null)for(we in K.key!==void 0&&(xe=""+K.key),K)!I.call(K,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&K.ref===void 0||(de[we]=K[we]);var we=arguments.length-2;if(we===1)de.children=ce;else if(1<we){for(var _e=Array(we),ke=0;ke<we;ke++)_e[ke]=arguments[ke+2];de.children=_e}return k(F.type,xe,de)},Ve.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},Ve.createElement=function(F,K,ce){var de,xe={},we=null;if(K!=null)for(de in K.key!==void 0&&(we=""+K.key),K)I.call(K,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(xe[de]=K[de]);var _e=arguments.length-2;if(_e===1)xe.children=ce;else if(1<_e){for(var ke=Array(_e),He=0;He<_e;He++)ke[He]=arguments[He+2];xe.children=ke}if(F&&F.defaultProps)for(de in _e=F.defaultProps,_e)xe[de]===void 0&&(xe[de]=_e[de]);return k(F,we,xe)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(F){return{$$typeof:c,render:F}},Ve.isValidElement=j,Ve.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:H}},Ve.memo=function(F,K){return{$$typeof:f,type:F,compare:K===void 0?null:K}},Ve.startTransition=function(F){var K=C.T,ce={};C.T=ce;try{var de=F(),xe=C.S;xe!==null&&xe(ce,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(se,he)}catch(we){he(we)}finally{K!==null&&ce.types!==null&&(K.types=ce.types),C.T=K}},Ve.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ve.use=function(F){return C.H.use(F)},Ve.useActionState=function(F,K,ce){return C.H.useActionState(F,K,ce)},Ve.useCallback=function(F,K){return C.H.useCallback(F,K)},Ve.useContext=function(F){return C.H.useContext(F)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(F,K){return C.H.useDeferredValue(F,K)},Ve.useEffect=function(F,K){return C.H.useEffect(F,K)},Ve.useEffectEvent=function(F){return C.H.useEffectEvent(F)},Ve.useId=function(){return C.H.useId()},Ve.useImperativeHandle=function(F,K,ce){return C.H.useImperativeHandle(F,K,ce)},Ve.useInsertionEffect=function(F,K){return C.H.useInsertionEffect(F,K)},Ve.useLayoutEffect=function(F,K){return C.H.useLayoutEffect(F,K)},Ve.useMemo=function(F,K){return C.H.useMemo(F,K)},Ve.useOptimistic=function(F,K){return C.H.useOptimistic(F,K)},Ve.useReducer=function(F,K,ce){return C.H.useReducer(F,K,ce)},Ve.useRef=function(F){return C.H.useRef(F)},Ve.useState=function(F){return C.H.useState(F)},Ve.useSyncExternalStore=function(F,K,ce){return C.H.useSyncExternalStore(F,K,ce)},Ve.useTransition=function(){return C.H.useTransition()},Ve.version="19.2.3",Ve}var ZT;function Fp(){return ZT||(ZT=1,jv.exports=OP()),jv.exports}var S=Fp();const $e=CP(S),kP=RP({__proto__:null,default:$e},[S]);var Vv={exports:{}},fd={},Lv={exports:{}},zv={};var YT;function PP(){return YT||(YT=1,(function(t){function e(q,Z){var H=q.length;q.push(Z);e:for(;0<H;){var he=H-1>>>1,be=q[he];if(0<i(be,Z))q[he]=Z,q[H]=be,H=he;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Z=q[0],H=q.pop();if(H!==Z){q[0]=H;e:for(var he=0,be=q.length,F=be>>>1;he<F;){var K=2*(he+1)-1,ce=q[K],de=K+1,xe=q[de];if(0>i(ce,H))de<be&&0>i(xe,ce)?(q[he]=xe,q[de]=H,he=de):(q[he]=ce,q[K]=H,he=K);else if(de<be&&0>i(xe,H))q[he]=xe,q[de]=H,he=de;else break e}}return Z}function i(q,Z){var H=q.sortIndex-Z.sortIndex;return H!==0?H:q.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],f=[],g=1,b=null,_=3,w=!1,A=!1,R=!1,D=!1,V=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Q(q){for(var Z=n(f);Z!==null;){if(Z.callback===null)r(f);else if(Z.startTime<=q)r(f),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=n(f)}}function W(q){if(R=!1,Q(q),!A)if(n(h)!==null)A=!0,se||(se=!0,L());else{var Z=n(f);Z!==null&&ye(W,Z.startTime-q)}}var se=!1,C=-1,I=5,k=-1;function M(){return D?!0:!(t.unstable_now()-k<I)}function j(){if(D=!1,se){var q=t.unstable_now();k=q;var Z=!0;try{e:{A=!1,R&&(R=!1,$(C),C=-1),w=!0;var H=_;try{t:{for(Q(q),b=n(h);b!==null&&!(b.expirationTime>q&&M());){var he=b.callback;if(typeof he=="function"){b.callback=null,_=b.priorityLevel;var be=he(b.expirationTime<=q);if(q=t.unstable_now(),typeof be=="function"){b.callback=be,Q(q),Z=!0;break t}b===n(h)&&r(h),Q(q)}else r(h);b=n(h)}if(b!==null)Z=!0;else{var F=n(f);F!==null&&ye(W,F.startTime-q),Z=!1}}break e}finally{b=null,_=H,w=!1}Z=void 0}}finally{Z?L():se=!1}}}var L;if(typeof z=="function")L=function(){z(j)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,pe=P.port2;P.port1.onmessage=j,L=function(){pe.postMessage(null)}}else L=function(){V(j,0)};function ye(q,Z){C=V(function(){q(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(q){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var H=_;_=Z;try{return q()}finally{_=H}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var H=_;_=q;try{return Z()}finally{_=H}},t.unstable_scheduleCallback=function(q,Z,H){var he=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?he+H:he):H=he,q){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=H+be,q={id:g++,callback:Z,priorityLevel:q,startTime:H,expirationTime:be,sortIndex:-1},H>he?(q.sortIndex=H,e(f,q),n(h)===null&&q===n(f)&&(R?($(C),C=-1):R=!0,ye(W,H-he))):(q.sortIndex=be,e(h,q),A||w||(A=!0,se||(se=!0,L()))),q},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(q){var Z=_;return function(){var H=_;_=Z;try{return q.apply(this,arguments)}finally{_=H}}}})(zv)),zv}var WT;function MP(){return WT||(WT=1,Lv.exports=PP()),Lv.exports}var Uv={exports:{}},Tn={};var XT;function jP(){if(XT)return Tn;XT=1;var t=Fp();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,f,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:h,containerInfo:f,implementation:g}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tn.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,g)},Tn.flushSync=function(h){var f=l.T,g=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=f,r.p=g,r.d.f()}},Tn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},Tn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Tn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,b=c(g,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:w}):g==="script"&&r.d.X(h,{crossOrigin:b,integrity:_,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Tn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=c(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},Tn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,b=c(g,f.crossOrigin);r.d.L(h,g,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Tn.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=c(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},Tn.requestFormReset=function(h){r.d.r(h)},Tn.unstable_batchedUpdates=function(h,f){return h(f)},Tn.useFormState=function(h,f,g){return l.H.useFormState(h,f,g)},Tn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Tn.version="19.2.3",Tn}var JT;function HI(){if(JT)return Uv.exports;JT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Uv.exports=jP(),Uv.exports}var e1;function VP(){if(e1)return fd;e1=1;var t=MP(),e=Fp(),n=HI();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function c(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(r(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var u=s,d=a;;){var p=u.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){u=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===u)return h(p),s;if(y===d)return h(p),a;y=y.sibling}throw Error(r(188))}if(u.return!==d.return)u=p,d=y;else{for(var E=!1,N=p.child;N;){if(N===u){E=!0,u=p,d=y;break}if(N===d){E=!0,d=p,u=y;break}N=N.sibling}if(!E){for(N=y.child;N;){if(N===u){E=!0,u=y,d=p;break}if(N===d){E=!0,d=y,u=p;break}N=N.sibling}if(!E)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),z=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var P=Symbol.for("react.client.reference");function pe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===P?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case V:return"Profiler";case D:return"StrictMode";case W:return"Suspense";case se:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case z:return s.displayName||"Context";case $:return(s._context.displayName||"Context")+".Consumer";case Q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return a=s.displayName||null,a!==null?a:pe(s.type)||"Memo";case I:a=s._payload,s=s._init;try{return pe(s(a))}catch{}}return null}var ye=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},he=[],be=-1;function F(s){return{current:s}}function K(s){0>be||(s.current=he[be],he[be]=null,be--)}function ce(s,a){be++,he[be]=s.current,s.current=a}var de=F(null),xe=F(null),we=F(null),_e=F(null);function ke(s,a){switch(ce(we,a),ce(xe,s),ce(de,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?pT(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=pT(a),s=gT(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(de),ce(de,s)}function He(){K(de),K(xe),K(we)}function $n(s){s.memoizedState!==null&&ce(_e,s);var a=de.current,u=gT(a,s.type);a!==u&&(ce(xe,s),ce(de,u))}function gt(s){xe.current===s&&(K(de),K(xe)),_e.current===s&&(K(_e),ld._currentValue=H)}var Lr,fl;function is(s){if(Lr===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Lr=a&&a[1]||"",fl=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lr+s+fl}var lc=!1;function Va(s,a){if(!s||lc)return"";lc=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(re){var te=re}Reflect.construct(s,[],ue)}else{try{ue.call()}catch(re){te=re}s.call(ue.prototype)}}else{try{throw Error()}catch(re){te=re}(ue=s())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(re){if(re&&te&&typeof re.stack=="string")return[re.stack,te.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),E=y[0],N=y[1];if(E&&N){var U=E.split(`
`),ee=N.split(`
`);for(p=d=0;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;for(;p<ee.length&&!ee[p].includes("DetermineComponentFrameRoot");)p++;if(d===U.length||p===ee.length)for(d=U.length-1,p=ee.length-1;1<=d&&0<=p&&U[d]!==ee[p];)p--;for(;1<=d&&0<=p;d--,p--)if(U[d]!==ee[p]){if(d!==1||p!==1)do if(d--,p--,0>p||U[d]!==ee[p]){var ae=`
`+U[d].replace(" at new "," at ");return s.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",s.displayName)),ae}while(1<=d&&0<=p);break}}}finally{lc=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?is(u):""}function uc(s,a){switch(s.tag){case 26:case 27:case 5:return is(s.type);case 16:return is("Lazy");case 13:return s.child!==a&&a!==null?is("Suspense Fallback"):is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return Va(s.type,!1);case 11:return Va(s.type.render,!1);case 1:return Va(s.type,!0);case 31:return is("Activity");default:return""}}function cc(s){try{var a="",u=null;do a+=uc(s,u),u=s,s=s.return;while(s);return a}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Bt=Object.prototype.hasOwnProperty,nn=t.unstable_scheduleCallback,Ii=t.unstable_cancelCallback,Vg=t.unstable_shouldYield,Mh=t.unstable_requestPaint,Nn=t.unstable_now,La=t.unstable_getCurrentPriorityLevel,dc=t.unstable_ImmediatePriority,hc=t.unstable_UserBlockingPriority,Ri=t.unstable_NormalPriority,Lg=t.unstable_LowPriority,jh=t.unstable_IdlePriority,Vh=t.log,Lh=t.unstable_setDisableYieldValue,zr=null,pn=null;function mr(s){if(typeof Vh=="function"&&Lh(s),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(zr,s)}catch{}}var Lt=Math.clz32?Math.clz32:Uh,zh=Math.log,ml=Math.LN2;function Uh(s){return s>>>=0,s===0?32:31-(zh(s)/ml|0)|0}var as=256,za=262144,qt=4194304;function os(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ls(s,a,u){var d=s.pendingLanes;if(d===0)return 0;var p=0,y=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var N=d&134217727;return N!==0?(d=N&~y,d!==0?p=os(d):(E&=N,E!==0?p=os(E):u||(u=N&~s,u!==0&&(p=os(u))))):(N=d&~y,N!==0?p=os(N):E!==0?p=os(E):u||(u=d&~s,u!==0&&(p=os(u)))),p===0?0:a!==0&&a!==p&&(a&y)===0&&(y=p&-p,u=a&-a,y>=u||y===32&&(u&4194048)!==0)?a:p}function Ur(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function zg(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $h(){var s=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),s}function us(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Ua(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ug(s,a,u,d,p,y){var E=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var N=s.entanglements,U=s.expirationTimes,ee=s.hiddenUpdates;for(u=E&~u;0<u;){var ae=31-Lt(u),ue=1<<ae;N[ae]=0,U[ae]=-1;var te=ee[ae];if(te!==null)for(ee[ae]=null,ae=0;ae<te.length;ae++){var re=te[ae];re!==null&&(re.lane&=-536870913)}u&=~ue}d!==0&&$a(s,d,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(E&~a))}function $a(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var d=31-Lt(a);s.entangledLanes|=a,s.entanglements[d]=s.entanglements[d]|1073741824|u&261930}function fc(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var d=31-Lt(u),p=1<<d;p&a|s[d]&a&&(s[d]|=a),u&=~p}}function mc(s,a){var u=a&-a;return u=(u&42)!==0?1:Fa(u),(u&(s.suspendedLanes|a))!==0?0:u}function Fa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Bs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Fh(){var s=Z.p;return s!==0?s:(s=window.event,s===void 0?32:zT(s.type))}function $r(s,a){var u=Z.p;try{return Z.p=s,a()}finally{Z.p=u}}var Fr=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Fr,un="__reactProps$"+Fr,cs="__reactContainer$"+Fr,pl="__reactEvents$"+Fr,$g="__reactListeners$"+Fr,Bh="__reactHandles$"+Fr,qh="__reactResources$"+Fr,ds="__reactMarker$"+Fr;function gl(s){delete s[Ht],delete s[un],delete s[pl],delete s[$g],delete s[Bh]}function hs(s){var a=s[Ht];if(a)return a;for(var u=s.parentNode;u;){if(a=u[cs]||u[Ht]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=ET(s);s!==null;){if(u=s[Ht])return u;s=ET(s)}return a}s=u,u=s.parentNode}return null}function pr(s){if(s=s[Ht]||s[cs]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Jn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function fs(s){var a=s[qh];return a||(a=s[qh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Gt(s){s[ds]=!0}var pc=new Set,gc={};function ms(s,a){ps(s,a),ps(s+"Capture",a)}function ps(s,a){for(gc[s]=a,s=0;s<a.length;s++)pc.add(a[s])}var yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vc={},bc={};function Hh(s){return Bt.call(bc,s)?!0:Bt.call(vc,s)?!1:yc.test(s)?bc[s]=!0:(vc[s]=!0,!1)}function yl(s,a,u){if(Hh(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function er(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function Kt(s,a,u,d){if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+d)}}function cn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ci(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function _c(s,a,u){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var p=d.get,y=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(E){u=""+E,y.call(this,E)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ut(s){if(!s._valueTracker){var a=Ci(s)?"checked":"value";s._valueTracker=_c(s,a,""+s[a])}}function Ba(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),d="";return s&&(d=Ci(s)?s.checked?"true":"false":s.value),s=d,s!==u?(a.setValue(s),!0):!1}function gs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var qa=/[\n"\\]/g;function Fn(s){return s.replace(qa,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function vl(s,a,u,d,p,y,E,N){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),a!=null?E==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+cn(a)):s.value!==""+cn(a)&&(s.value=""+cn(a)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),a!=null?xc(s,E,cn(a)):u!=null?xc(s,E,cn(u)):d!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.name=""+cn(N):s.removeAttribute("name")}function Gh(s,a,u,d,p,y,E,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){ut(s);return}u=u!=null?""+cn(u):"",a=a!=null?""+cn(a):u,N||a===s.value||(s.value=a),s.defaultValue=a}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=N?s.checked:!!d,s.defaultChecked=!!d,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E),ut(s)}function xc(s,a,u){a==="number"&&gs(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Ni(s,a,u,d){if(s=s.options,a){a={};for(var p=0;p<u.length;p++)a["$"+u[p]]=!0;for(u=0;u<s.length;u++)p=a.hasOwnProperty("$"+s[u].value),s[u].selected!==p&&(s[u].selected=p),p&&d&&(s[u].defaultSelected=!0)}else{for(u=""+cn(u),a=null,p=0;p<s.length;p++){if(s[p].value===u){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function Kh(s,a,u){if(a!=null&&(a=""+cn(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+cn(u):""}function Di(s,a,u,d){if(a==null){if(d!=null){if(u!=null)throw Error(r(92));if(ye(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),a=u}u=cn(a),s.defaultValue=u,d=s.textContent,d===u&&d!==""&&d!==null&&(s.value=d),ut(s)}function Bn(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Qh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wc(s,a,u){var d=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":d?s.setProperty(a,u):typeof u!="number"||u===0||Qh.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function Ec(s,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var p in a)d=a[p],a.hasOwnProperty(p)&&u[p]!==d&&wc(s,p,d)}else for(var y in a)a.hasOwnProperty(y)&&wc(s,y,a[y])}function bl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _l(s){return Oi.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Br(){}var Tc=null;function gr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ki=null,ys=null;function Ha(s){var a=pr(s);if(a&&(s=a.stateNode)){var u=s[un]||null;e:switch(s=a.stateNode,a.type){case"input":if(vl(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Fn(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var d=u[a];if(d!==s&&d.form===s.form){var p=d[un]||null;if(!p)throw Error(r(90));vl(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<u.length;a++)d=u[a],d.form===s.form&&Ba(d)}break e;case"textarea":Kh(s,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Ni(s,!!u.multiple,a,!1)}}}var xl=!1;function Pi(s,a,u){if(xl)return s(a,u);xl=!0;try{var d=s(a);return d}finally{if(xl=!1,(ki!==null||ys!==null)&&(Bf(),ki&&(a=ki,s=ys,ys=ki=null,Ha(a),s)))for(a=0;a<s.length;a++)Ha(s[a])}}function qr(s,a){var u=s.stateNode;if(u===null)return null;var d=u[un]||null;if(d===null)return null;u=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ga=!1;if(yr)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){Ga=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{Ga=!1}var vs=null,Sc=null,Ka=null;function Ac(){if(Ka)return Ka;var s,a=Sc,u=a.length,d,p="value"in vs?vs.value:vs.textContent,y=p.length;for(s=0;s<u&&a[s]===p[s];s++);var E=u-s;for(d=1;d<=E&&a[u-d]===p[y-d];d++);return Ka=p.slice(s,1<d?1-d:void 0)}function Qa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function qs(){return!0}function Hr(){return!1}function gn(s){function a(u,d,p,y,E){this._reactName=u,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(u=s[N],this[N]=u?u(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?qs:Hr,this.isPropagationStopped=Hr,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),a}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=gn(Hs),Mi=b({},Hs,{view:0,detail:0}),Ic=gn(Mi),ji,wl,_s,El=b({},Mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==_s&&(_s&&s.type==="mousemove"?(ji=s.screenX-_s.screenX,wl=s.screenY-_s.screenY):wl=ji=0,_s=s),ji)},movementY:function(s){return"movementY"in s?s.movementY:wl}}),Rc=gn(El),Za=b({},El,{dataTransfer:0}),Yh=gn(Za),Wh=b({},Mi,{relatedTarget:0}),Ya=gn(Wh),Cc=b({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Xh=gn(Cc),Tl=b({},Hs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jh=gn(Tl),ef=b({},Hs,{data:0}),xs=gn(ef),tf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sf(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=rf[s])?!!a[s]:!1}function Vi(){return sf}var Dn=b({},Mi,{key:function(s){if(s.key){var a=tf[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Qa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?nf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vi,charCode:function(s){return s.type==="keypress"?Qa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),af=gn(Dn),of=b({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gs=gn(of),m=b({},Mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vi}),x=gn(m),T=b({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=gn(T),X=b({},El,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=gn(X),ge=b({},Hs,{newState:0,oldState:0}),Le=gn(ge),zt=[9,13,27,32],at=yr&&"CompositionEvent"in window,Tt=null;yr&&"documentMode"in document&&(Tt=document.documentMode);var vr=yr&&"TextEvent"in window&&!Tt,ws=yr&&(!at||Tt&&8<Tt&&11>=Tt),Gr=" ",Kr=!1;function Wa(s,a){switch(s){case"keyup":return zt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sl(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Al=!1;function XO(s,a){switch(s){case"compositionend":return Sl(a);case"keypress":return a.which!==32?null:(Kr=!0,Gr);case"textInput":return s=a.data,s===Gr&&Kr?null:s;default:return null}}function JO(s,a){if(Al)return s==="compositionend"||!at&&Wa(s,a)?(s=Ac(),Ka=Sc=vs=null,Al=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ws&&a.locale!=="ko"?null:a.data;default:return null}}var ek={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!ek[s.type]:a==="textarea"}function I0(s,a,u,d){ki?ys?ys.push(d):ys=[d]:ki=d,a=Yf(a,"onChange"),0<a.length&&(u=new bs("onChange","change",null,u,d),s.push({event:u,listeners:a}))}var Nc=null,Dc=null;function tk(s){uT(s,0)}function lf(s){var a=Jn(s);if(Ba(a))return s}function R0(s,a){if(s==="change")return a}var C0=!1;if(yr){var Fg;if(yr){var Bg="oninput"in document;if(!Bg){var N0=document.createElement("div");N0.setAttribute("oninput","return;"),Bg=typeof N0.oninput=="function"}Fg=Bg}else Fg=!1;C0=Fg&&(!document.documentMode||9<document.documentMode)}function D0(){Nc&&(Nc.detachEvent("onpropertychange",O0),Dc=Nc=null)}function O0(s){if(s.propertyName==="value"&&lf(Dc)){var a=[];I0(a,Dc,s,gr(s)),Pi(tk,a)}}function nk(s,a,u){s==="focusin"?(D0(),Nc=a,Dc=u,Nc.attachEvent("onpropertychange",O0)):s==="focusout"&&D0()}function rk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return lf(Dc)}function sk(s,a){if(s==="click")return lf(a)}function ik(s,a){if(s==="input"||s==="change")return lf(a)}function ak(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var tr=typeof Object.is=="function"?Object.is:ak;function Oc(s,a){if(tr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),d=Object.keys(a);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var p=u[d];if(!Bt.call(a,p)||!tr(s[p],a[p]))return!1}return!0}function k0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function P0(s,a){var u=k0(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=a&&d>=a)return{node:u,offset:a-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=k0(u)}}function M0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?M0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function j0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=gs(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=gs(s.document)}return a}function qg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var ok=yr&&"documentMode"in document&&11>=document.documentMode,Il=null,Hg=null,kc=null,Gg=!1;function V0(s,a,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Gg||Il==null||Il!==gs(d)||(d=Il,"selectionStart"in d&&qg(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),kc&&Oc(kc,d)||(kc=d,d=Yf(Hg,"onSelect"),0<d.length&&(a=new bs("onSelect","select",null,a,u),s.push({event:a,listeners:d}),a.target=Il)))}function Xa(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Rl={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},Kg={},L0={};yr&&(L0=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function Ja(s){if(Kg[s])return Kg[s];if(!Rl[s])return s;var a=Rl[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in L0)return Kg[s]=a[u];return s}var z0=Ja("animationend"),U0=Ja("animationiteration"),$0=Ja("animationstart"),lk=Ja("transitionrun"),uk=Ja("transitionstart"),ck=Ja("transitioncancel"),F0=Ja("transitionend"),B0=new Map,Qg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qg.push("scrollEnd");function Qr(s,a){B0.set(s,a),ms(a,[s])}var uf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},br=[],Cl=0,Zg=0;function cf(){for(var s=Cl,a=Zg=Cl=0;a<s;){var u=br[a];br[a++]=null;var d=br[a];br[a++]=null;var p=br[a];br[a++]=null;var y=br[a];if(br[a++]=null,d!==null&&p!==null){var E=d.pending;E===null?p.next=p:(p.next=E.next,E.next=p),d.pending=p}y!==0&&q0(u,p,y)}}function df(s,a,u,d){br[Cl++]=s,br[Cl++]=a,br[Cl++]=u,br[Cl++]=d,Zg|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Yg(s,a,u,d){return df(s,a,u,d),hf(s)}function eo(s,a){return df(s,null,null,a),hf(s)}function q0(s,a,u){s.lanes|=u;var d=s.alternate;d!==null&&(d.lanes|=u);for(var p=!1,y=s.return;y!==null;)y.childLanes|=u,d=y.alternate,d!==null&&(d.childLanes|=u),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&a!==null&&(p=31-Lt(u),s=y.hiddenUpdates,d=s[p],d===null?s[p]=[a]:d.push(a),a.lane=u|536870912),y):null}function hf(s){if(50<td)throw td=0,iv=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Nl={};function dk(s,a,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(s,a,u,d){return new dk(s,a,u,d)}function Wg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ks(s,a){var u=s.alternate;return u===null?(u=nr(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function H0(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function ff(s,a,u,d,p,y){var E=0;if(d=s,typeof s=="function")Wg(s)&&(E=1);else if(typeof s=="string")E=gP(s,u,de.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case k:return s=nr(31,u,a,p),s.elementType=k,s.lanes=y,s;case R:return to(u.children,p,y,a);case D:E=8,p|=24;break;case V:return s=nr(12,u,a,p|2),s.elementType=V,s.lanes=y,s;case W:return s=nr(13,u,a,p),s.elementType=W,s.lanes=y,s;case se:return s=nr(19,u,a,p),s.elementType=se,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:E=10;break e;case $:E=9;break e;case Q:E=11;break e;case C:E=14;break e;case I:E=16,d=null;break e}E=29,u=Error(r(130,s===null?"null":typeof s,"")),d=null}return a=nr(E,u,a,p),a.elementType=s,a.type=d,a.lanes=y,a}function to(s,a,u,d){return s=nr(7,s,d,a),s.lanes=u,s}function Xg(s,a,u){return s=nr(6,s,null,a),s.lanes=u,s}function G0(s){var a=nr(18,null,null,0);return a.stateNode=s,a}function Jg(s,a,u){return a=nr(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var K0=new WeakMap;function _r(s,a){if(typeof s=="object"&&s!==null){var u=K0.get(s);return u!==void 0?u:(a={value:s,source:a,stack:cc(a)},K0.set(s,a),a)}return{value:s,source:a,stack:cc(a)}}var Dl=[],Ol=0,mf=null,Pc=0,xr=[],wr=0,Li=null,Es=1,Ts="";function Qs(s,a){Dl[Ol++]=Pc,Dl[Ol++]=mf,mf=s,Pc=a}function Q0(s,a,u){xr[wr++]=Es,xr[wr++]=Ts,xr[wr++]=Li,Li=s;var d=Es;s=Ts;var p=32-Lt(d)-1;d&=~(1<<p),u+=1;var y=32-Lt(a)+p;if(30<y){var E=p-p%5;y=(d&(1<<E)-1).toString(32),d>>=E,p-=E,Es=1<<32-Lt(a)+p|u<<p|d,Ts=y+s}else Es=1<<y|u<<p|d,Ts=s}function ey(s){s.return!==null&&(Qs(s,1),Q0(s,1,0))}function ty(s){for(;s===mf;)mf=Dl[--Ol],Dl[Ol]=null,Pc=Dl[--Ol],Dl[Ol]=null;for(;s===Li;)Li=xr[--wr],xr[wr]=null,Ts=xr[--wr],xr[wr]=null,Es=xr[--wr],xr[wr]=null}function Z0(s,a){xr[wr++]=Es,xr[wr++]=Ts,xr[wr++]=Li,Es=a.id,Ts=a.overflow,Li=s}var yn=null,wt=null,Je=!1,zi=null,Er=!1,ny=Error(r(519));function Ui(s){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mc(_r(a,s)),ny}function Y0(s){var a=s.stateNode,u=s.type,d=s.memoizedProps;switch(a[Ht]=s,a[un]=d,u){case"dialog":Ke("cancel",a),Ke("close",a);break;case"iframe":case"object":case"embed":Ke("load",a);break;case"video":case"audio":for(u=0;u<rd.length;u++)Ke(rd[u],a);break;case"source":Ke("error",a);break;case"img":case"image":case"link":Ke("error",a),Ke("load",a);break;case"details":Ke("toggle",a);break;case"input":Ke("invalid",a),Gh(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Ke("invalid",a);break;case"textarea":Ke("invalid",a),Di(a,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||d.suppressHydrationWarning===!0||fT(a.textContent,u)?(d.popover!=null&&(Ke("beforetoggle",a),Ke("toggle",a)),d.onScroll!=null&&Ke("scroll",a),d.onScrollEnd!=null&&Ke("scrollend",a),d.onClick!=null&&(a.onclick=Br),a=!0):a=!1,a||Ui(s,!0)}function W0(s){for(yn=s.return;yn;)switch(yn.tag){case 5:case 31:case 13:Er=!1;return;case 27:case 3:Er=!0;return;default:yn=yn.return}}function kl(s){if(s!==yn)return!1;if(!Je)return W0(s),Je=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||_v(s.type,s.memoizedProps)),u=!u),u&&wt&&Ui(s),W0(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));wt=wT(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));wt=wT(s)}else a===27?(a=wt,ea(s.type)?(s=Sv,Sv=null,wt=s):wt=a):wt=yn?Sr(s.stateNode.nextSibling):null;return!0}function no(){wt=yn=null,Je=!1}function ry(){var s=zi;return s!==null&&(Kn===null?Kn=s:Kn.push.apply(Kn,s),zi=null),s}function Mc(s){zi===null?zi=[s]:zi.push(s)}var sy=F(null),ro=null,Zs=null;function $i(s,a,u){ce(sy,a._currentValue),a._currentValue=u}function Ys(s){s._currentValue=sy.current,K(sy)}function iy(s,a,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),s===u)break;s=s.return}}function ay(s,a,u,d){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=p;for(var U=0;U<a.length;U++)if(N.context===a[U]){y.lanes|=u,N=y.alternate,N!==null&&(N.lanes|=u),iy(y.return,u,s),d||(E=null);break e}y=N.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(r(341));E.lanes|=u,y=E.alternate,y!==null&&(y.lanes|=u),iy(E,u,s),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===s){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function Pl(s,a,u,d){s=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var N=p.type;tr(p.pendingProps.value,E.value)||(s!==null?s.push(N):s=[N])}}else if(p===_e.current){if(E=p.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(ld):s=[ld])}p=p.return}s!==null&&ay(a,s,u,d),a.flags|=262144}function pf(s){for(s=s.firstContext;s!==null;){if(!tr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function so(s){ro=s,Zs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function vn(s){return X0(ro,s)}function gf(s,a){return ro===null&&so(s),X0(s,a)}function X0(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Zs===null){if(s===null)throw Error(r(308));Zs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Zs=Zs.next=a;return u}var hk=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,d){s.push(d)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},fk=t.unstable_scheduleCallback,mk=t.unstable_NormalPriority,Qt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oy(){return{controller:new hk,data:new Map,refCount:0}}function jc(s){s.refCount--,s.refCount===0&&fk(mk,function(){s.controller.abort()})}var Vc=null,ly=0,Ml=0,jl=null;function pk(s,a){if(Vc===null){var u=Vc=[];ly=0,Ml=dv(),jl={status:"pending",value:void 0,then:function(d){u.push(d)}}}return ly++,a.then(J0,J0),a}function J0(){if(--ly===0&&Vc!==null){jl!==null&&(jl.status="fulfilled");var s=Vc;Vc=null,Ml=0,jl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function gk(s,a){var u=[],d={status:"pending",value:null,reason:null,then:function(p){u.push(p)}};return s.then(function(){d.status="fulfilled",d.value=a;for(var p=0;p<u.length;p++)(0,u[p])(a)},function(p){for(d.status="rejected",d.reason=p,p=0;p<u.length;p++)(0,u[p])(void 0)}),d}var ew=q.S;q.S=function(s,a){VE=Nn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&pk(s,a),ew!==null&&ew(s,a)};var io=F(null);function uy(){var s=io.current;return s!==null?s:xt.pooledCache}function yf(s,a){a===null?ce(io,io.current):ce(io,a.pool)}function tw(){var s=uy();return s===null?null:{parent:Qt._currentValue,pool:s}}var Vl=Error(r(460)),cy=Error(r(474)),vf=Error(r(542)),bf={then:function(){}};function nw(s){return s=s.status,s==="fulfilled"||s==="rejected"}function rw(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(Br,Br),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,iw(s),s;default:if(typeof a.status=="string")a.then(Br,Br);else{if(s=xt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(d){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=d}},function(d){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,iw(s),s}throw oo=a,Vl}}function ao(s){try{var a=s._init;return a(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(oo=u,Vl):u}}var oo=null;function sw(){if(oo===null)throw Error(r(459));var s=oo;return oo=null,s}function iw(s){if(s===Vl||s===vf)throw Error(r(483))}var Ll=null,Lc=0;function _f(s){var a=Lc;return Lc+=1,Ll===null&&(Ll=[]),rw(Ll,s,a)}function zc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function xf(s,a){throw a.$$typeof===_?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function aw(s){function a(G,B){if(s){var J=G.deletions;J===null?(G.deletions=[B],G.flags|=16):J.push(B)}}function u(G,B){if(!s)return null;for(;B!==null;)a(G,B),B=B.sibling;return null}function d(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function p(G,B){return G=Ks(G,B),G.index=0,G.sibling=null,G}function y(G,B,J){return G.index=J,s?(J=G.alternate,J!==null?(J=J.index,J<B?(G.flags|=67108866,B):J):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function E(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function N(G,B,J,oe){return B===null||B.tag!==6?(B=Xg(J,G.mode,oe),B.return=G,B):(B=p(B,J),B.return=G,B)}function U(G,B,J,oe){var Ce=J.type;return Ce===R?ae(G,B,J.props.children,oe,J.key):B!==null&&(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===I&&ao(Ce)===B.type)?(B=p(B,J.props),zc(B,J),B.return=G,B):(B=ff(J.type,J.key,J.props,null,G.mode,oe),zc(B,J),B.return=G,B)}function ee(G,B,J,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==J.containerInfo||B.stateNode.implementation!==J.implementation?(B=Jg(J,G.mode,oe),B.return=G,B):(B=p(B,J.children||[]),B.return=G,B)}function ae(G,B,J,oe,Ce){return B===null||B.tag!==7?(B=to(J,G.mode,oe,Ce),B.return=G,B):(B=p(B,J),B.return=G,B)}function ue(G,B,J){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Xg(""+B,G.mode,J),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return J=ff(B.type,B.key,B.props,null,G.mode,J),zc(J,B),J.return=G,J;case A:return B=Jg(B,G.mode,J),B.return=G,B;case I:return B=ao(B),ue(G,B,J)}if(ye(B)||L(B))return B=to(B,G.mode,J,null),B.return=G,B;if(typeof B.then=="function")return ue(G,_f(B),J);if(B.$$typeof===z)return ue(G,gf(G,B),J);xf(G,B)}return null}function te(G,B,J,oe){var Ce=B!==null?B.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ce!==null?null:N(G,B,""+J,oe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return J.key===Ce?U(G,B,J,oe):null;case A:return J.key===Ce?ee(G,B,J,oe):null;case I:return J=ao(J),te(G,B,J,oe)}if(ye(J)||L(J))return Ce!==null?null:ae(G,B,J,oe,null);if(typeof J.then=="function")return te(G,B,_f(J),oe);if(J.$$typeof===z)return te(G,B,gf(G,J),oe);xf(G,J)}return null}function re(G,B,J,oe,Ce){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return G=G.get(J)||null,N(B,G,""+oe,Ce);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case w:return G=G.get(oe.key===null?J:oe.key)||null,U(B,G,oe,Ce);case A:return G=G.get(oe.key===null?J:oe.key)||null,ee(B,G,oe,Ce);case I:return oe=ao(oe),re(G,B,J,oe,Ce)}if(ye(oe)||L(oe))return G=G.get(J)||null,ae(B,G,oe,Ce,null);if(typeof oe.then=="function")return re(G,B,J,_f(oe),Ce);if(oe.$$typeof===z)return re(G,B,J,gf(B,oe),Ce);xf(B,oe)}return null}function Ee(G,B,J,oe){for(var Ce=null,rt=null,Ie=B,Fe=B=0,Ye=null;Ie!==null&&Fe<J.length;Fe++){Ie.index>Fe?(Ye=Ie,Ie=null):Ye=Ie.sibling;var st=te(G,Ie,J[Fe],oe);if(st===null){Ie===null&&(Ie=Ye);break}s&&Ie&&st.alternate===null&&a(G,Ie),B=y(st,B,Fe),rt===null?Ce=st:rt.sibling=st,rt=st,Ie=Ye}if(Fe===J.length)return u(G,Ie),Je&&Qs(G,Fe),Ce;if(Ie===null){for(;Fe<J.length;Fe++)Ie=ue(G,J[Fe],oe),Ie!==null&&(B=y(Ie,B,Fe),rt===null?Ce=Ie:rt.sibling=Ie,rt=Ie);return Je&&Qs(G,Fe),Ce}for(Ie=d(Ie);Fe<J.length;Fe++)Ye=re(Ie,G,Fe,J[Fe],oe),Ye!==null&&(s&&Ye.alternate!==null&&Ie.delete(Ye.key===null?Fe:Ye.key),B=y(Ye,B,Fe),rt===null?Ce=Ye:rt.sibling=Ye,rt=Ye);return s&&Ie.forEach(function(ia){return a(G,ia)}),Je&&Qs(G,Fe),Ce}function Oe(G,B,J,oe){if(J==null)throw Error(r(151));for(var Ce=null,rt=null,Ie=B,Fe=B=0,Ye=null,st=J.next();Ie!==null&&!st.done;Fe++,st=J.next()){Ie.index>Fe?(Ye=Ie,Ie=null):Ye=Ie.sibling;var ia=te(G,Ie,st.value,oe);if(ia===null){Ie===null&&(Ie=Ye);break}s&&Ie&&ia.alternate===null&&a(G,Ie),B=y(ia,B,Fe),rt===null?Ce=ia:rt.sibling=ia,rt=ia,Ie=Ye}if(st.done)return u(G,Ie),Je&&Qs(G,Fe),Ce;if(Ie===null){for(;!st.done;Fe++,st=J.next())st=ue(G,st.value,oe),st!==null&&(B=y(st,B,Fe),rt===null?Ce=st:rt.sibling=st,rt=st);return Je&&Qs(G,Fe),Ce}for(Ie=d(Ie);!st.done;Fe++,st=J.next())st=re(Ie,G,Fe,st.value,oe),st!==null&&(s&&st.alternate!==null&&Ie.delete(st.key===null?Fe:st.key),B=y(st,B,Fe),rt===null?Ce=st:rt.sibling=st,rt=st);return s&&Ie.forEach(function(IP){return a(G,IP)}),Je&&Qs(G,Fe),Ce}function _t(G,B,J,oe){if(typeof J=="object"&&J!==null&&J.type===R&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case w:e:{for(var Ce=J.key;B!==null;){if(B.key===Ce){if(Ce=J.type,Ce===R){if(B.tag===7){u(G,B.sibling),oe=p(B,J.props.children),oe.return=G,G=oe;break e}}else if(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===I&&ao(Ce)===B.type){u(G,B.sibling),oe=p(B,J.props),zc(oe,J),oe.return=G,G=oe;break e}u(G,B);break}else a(G,B);B=B.sibling}J.type===R?(oe=to(J.props.children,G.mode,oe,J.key),oe.return=G,G=oe):(oe=ff(J.type,J.key,J.props,null,G.mode,oe),zc(oe,J),oe.return=G,G=oe)}return E(G);case A:e:{for(Ce=J.key;B!==null;){if(B.key===Ce)if(B.tag===4&&B.stateNode.containerInfo===J.containerInfo&&B.stateNode.implementation===J.implementation){u(G,B.sibling),oe=p(B,J.children||[]),oe.return=G,G=oe;break e}else{u(G,B);break}else a(G,B);B=B.sibling}oe=Jg(J,G.mode,oe),oe.return=G,G=oe}return E(G);case I:return J=ao(J),_t(G,B,J,oe)}if(ye(J))return Ee(G,B,J,oe);if(L(J)){if(Ce=L(J),typeof Ce!="function")throw Error(r(150));return J=Ce.call(J),Oe(G,B,J,oe)}if(typeof J.then=="function")return _t(G,B,_f(J),oe);if(J.$$typeof===z)return _t(G,B,gf(G,J),oe);xf(G,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,B!==null&&B.tag===6?(u(G,B.sibling),oe=p(B,J),oe.return=G,G=oe):(u(G,B),oe=Xg(J,G.mode,oe),oe.return=G,G=oe),E(G)):u(G,B)}return function(G,B,J,oe){try{Lc=0;var Ce=_t(G,B,J,oe);return Ll=null,Ce}catch(Ie){if(Ie===Vl||Ie===vf)throw Ie;var rt=nr(29,Ie,null,G.mode);return rt.lanes=oe,rt.return=G,rt}}}var lo=aw(!0),ow=aw(!1),Fi=!1;function dy(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hy(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Bi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function qi(s,a,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(ot&2)!==0){var p=d.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),d.pending=a,a=hf(s),q0(s,null,u),a}return df(s,d,a,u),hf(s)}function Uc(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var d=a.lanes;d&=s.pendingLanes,u|=d,a.lanes=u,fc(s,u)}}function fy(s,a){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var p=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var E={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,u=u.next}while(u!==null);y===null?p=y=a:y=y.next=a}else p=y=a;u={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var my=!1;function $c(){if(my){var s=jl;if(s!==null)throw s}}function Fc(s,a,u,d){my=!1;var p=s.updateQueue;Fi=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var U=N,ee=U.next;U.next=null,E===null?y=ee:E.next=ee,E=U;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,N=ae.lastBaseUpdate,N!==E&&(N===null?ae.firstBaseUpdate=ee:N.next=ee,ae.lastBaseUpdate=U))}if(y!==null){var ue=p.baseState;E=0,ae=ee=U=null,N=y;do{var te=N.lane&-536870913,re=te!==N.lane;if(re?(Ze&te)===te:(d&te)===te){te!==0&&te===Ml&&(my=!0),ae!==null&&(ae=ae.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ee=s,Oe=N;te=a;var _t=u;switch(Oe.tag){case 1:if(Ee=Oe.payload,typeof Ee=="function"){ue=Ee.call(_t,ue,te);break e}ue=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Oe.payload,te=typeof Ee=="function"?Ee.call(_t,ue,te):Ee,te==null)break e;ue=b({},ue,te);break e;case 2:Fi=!0}}te=N.callback,te!==null&&(s.flags|=64,re&&(s.flags|=8192),re=p.callbacks,re===null?p.callbacks=[te]:re.push(te))}else re={lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ae===null?(ee=ae=re,U=ue):ae=ae.next=re,E|=te;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;re=N,N=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);ae===null&&(U=ue),p.baseState=U,p.firstBaseUpdate=ee,p.lastBaseUpdate=ae,y===null&&(p.shared.lanes=0),Zi|=E,s.lanes=E,s.memoizedState=ue}}function lw(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function uw(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)lw(u[s],a)}var zl=F(null),wf=F(0);function cw(s,a){s=ii,ce(wf,s),ce(zl,a),ii=s|a.baseLanes}function py(){ce(wf,ii),ce(zl,zl.current)}function gy(){ii=wf.current,K(zl),K(wf)}var rr=F(null),Tr=null;function Hi(s){var a=s.alternate;ce(Ut,Ut.current&1),ce(rr,s),Tr===null&&(a===null||zl.current!==null||a.memoizedState!==null)&&(Tr=s)}function yy(s){ce(Ut,Ut.current),ce(rr,s),Tr===null&&(Tr=s)}function dw(s){s.tag===22?(ce(Ut,Ut.current),ce(rr,s),Tr===null&&(Tr=s)):Gi()}function Gi(){ce(Ut,Ut.current),ce(rr,rr.current)}function sr(s){K(rr),Tr===s&&(Tr=null),K(Ut)}var Ut=F(0);function Ef(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Ev(u)||Tv(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ws=0,ze=null,vt=null,Zt=null,Tf=!1,Ul=!1,uo=!1,Sf=0,Bc=0,$l=null,yk=0;function Ot(){throw Error(r(321))}function vy(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!tr(s[u],a[u]))return!1;return!0}function by(s,a,u,d,p,y){return Ws=y,ze=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,q.H=s===null||s.memoizedState===null?Qw:Py,uo=!1,y=u(d,p),uo=!1,Ul&&(y=fw(a,u,d,p)),hw(s),y}function hw(s){q.H=Gc;var a=vt!==null&&vt.next!==null;if(Ws=0,Zt=vt=ze=null,Tf=!1,Bc=0,$l=null,a)throw Error(r(300));s===null||Yt||(s=s.dependencies,s!==null&&pf(s)&&(Yt=!0))}function fw(s,a,u,d){ze=s;var p=0;do{if(Ul&&($l=null),Bc=0,Ul=!1,25<=p)throw Error(r(301));if(p+=1,Zt=vt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}q.H=Zw,y=a(u,d)}while(Ul);return y}function vk(){var s=q.H,a=s.useState()[0];return a=typeof a.then=="function"?qc(a):a,s=s.useState()[0],(vt!==null?vt.memoizedState:null)!==s&&(ze.flags|=1024),a}function _y(){var s=Sf!==0;return Sf=0,s}function xy(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function wy(s){if(Tf){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Tf=!1}Ws=0,Zt=vt=ze=null,Ul=!1,Bc=Sf=0,$l=null}function On(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?ze.memoizedState=Zt=s:Zt=Zt.next=s,Zt}function $t(){if(vt===null){var s=ze.alternate;s=s!==null?s.memoizedState:null}else s=vt.next;var a=Zt===null?ze.memoizedState:Zt.next;if(a!==null)Zt=a,vt=s;else{if(s===null)throw ze.alternate===null?Error(r(467)):Error(r(310));vt=s,s={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Zt===null?ze.memoizedState=Zt=s:Zt=Zt.next=s}return Zt}function Af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qc(s){var a=Bc;return Bc+=1,$l===null&&($l=[]),s=rw($l,s,a),a=ze,(Zt===null?a.memoizedState:Zt.next)===null&&(a=a.alternate,q.H=a===null||a.memoizedState===null?Qw:Py),s}function If(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return qc(s);if(s.$$typeof===z)return vn(s)}throw Error(r(438,String(s)))}function Ey(s){var a=null,u=ze.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var d=ze.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Af(),ze.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),d=0;d<s;d++)u[d]=M;return a.index++,u}function Xs(s,a){return typeof a=="function"?a(s):a}function Rf(s){var a=$t();return Ty(a,vt,s)}function Ty(s,a,u){var d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var p=s.baseQueue,y=d.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}a.baseQueue=p=y,d.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{a=p.next;var N=E=null,U=null,ee=a,ae=!1;do{var ue=ee.lane&-536870913;if(ue!==ee.lane?(Ze&ue)===ue:(Ws&ue)===ue){var te=ee.revertLane;if(te===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ue===Ml&&(ae=!0);else if((Ws&te)===te){ee=ee.next,te===Ml&&(ae=!0);continue}else ue={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},U===null?(N=U=ue,E=y):U=U.next=ue,ze.lanes|=te,Zi|=te;ue=ee.action,uo&&u(y,ue),y=ee.hasEagerState?ee.eagerState:u(y,ue)}else te={lane:ue,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},U===null?(N=U=te,E=y):U=U.next=te,ze.lanes|=ue,Zi|=ue;ee=ee.next}while(ee!==null&&ee!==a);if(U===null?E=y:U.next=N,!tr(y,s.memoizedState)&&(Yt=!0,ae&&(u=jl,u!==null)))throw u;s.memoizedState=y,s.baseState=E,s.baseQueue=U,d.lastRenderedState=y}return p===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Sy(s){var a=$t(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var d=u.dispatch,p=u.pending,y=a.memoizedState;if(p!==null){u.pending=null;var E=p=p.next;do y=s(y,E.action),E=E.next;while(E!==p);tr(y,a.memoizedState)||(Yt=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),u.lastRenderedState=y}return[y,d]}function mw(s,a,u){var d=ze,p=$t(),y=Je;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=a();var E=!tr((vt||p).memoizedState,u);if(E&&(p.memoizedState=u,Yt=!0),p=p.queue,Ry(yw.bind(null,d,p,s),[s]),p.getSnapshot!==a||E||Zt!==null&&Zt.memoizedState.tag&1){if(d.flags|=2048,Fl(9,{destroy:void 0},gw.bind(null,d,p,u,a),null),xt===null)throw Error(r(349));y||(Ws&127)!==0||pw(d,a,u)}return u}function pw(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=ze.updateQueue,a===null?(a=Af(),ze.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function gw(s,a,u,d){a.value=u,a.getSnapshot=d,vw(a)&&bw(s)}function yw(s,a,u){return u(function(){vw(a)&&bw(s)})}function vw(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!tr(s,u)}catch{return!0}}function bw(s){var a=eo(s,2);a!==null&&Qn(a,s,2)}function Ay(s){var a=On();if(typeof s=="function"){var u=s;if(s=u(),uo){mr(!0);try{u()}finally{mr(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:s},a}function _w(s,a,u,d){return s.baseState=u,Ty(s,vt,typeof d=="function"?d:Xs)}function bk(s,a,u,d,p){if(Df(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};q.T!==null?u(!0):y.isTransition=!1,d(y),u=a.pending,u===null?(y.next=a.pending=y,xw(a,y)):(y.next=u.next,a.pending=u.next=y)}}function xw(s,a){var u=a.action,d=a.payload,p=s.state;if(a.isTransition){var y=q.T,E={};q.T=E;try{var N=u(p,d),U=q.S;U!==null&&U(E,N),ww(s,a,N)}catch(ee){Iy(s,a,ee)}finally{y!==null&&E.types!==null&&(y.types=E.types),q.T=y}}else try{y=u(p,d),ww(s,a,y)}catch(ee){Iy(s,a,ee)}}function ww(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){Ew(s,a,d)},function(d){return Iy(s,a,d)}):Ew(s,a,u)}function Ew(s,a,u){a.status="fulfilled",a.value=u,Tw(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,xw(s,u)))}function Iy(s,a,u){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=u,Tw(a),a=a.next;while(a!==d)}s.action=null}function Tw(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Sw(s,a){return a}function Aw(s,a){if(Je){var u=xt.formState;if(u!==null){e:{var d=ze;if(Je){if(wt){t:{for(var p=wt,y=Er;p.nodeType!==8;){if(!y){p=null;break t}if(p=Sr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){wt=Sr(p.nextSibling),d=p.data==="F!";break e}}Ui(d)}d=!1}d&&(a=u[0])}}return u=On(),u.memoizedState=u.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sw,lastRenderedState:a},u.queue=d,u=Hw.bind(null,ze,d),d.dispatch=u,d=Ay(!1),y=ky.bind(null,ze,!1,d.queue),d=On(),p={state:a,dispatch:null,action:s,pending:null},d.queue=p,u=bk.bind(null,ze,p,y,u),p.dispatch=u,d.memoizedState=s,[a,u,!1]}function Iw(s){var a=$t();return Rw(a,vt,s)}function Rw(s,a,u){if(a=Ty(s,a,Sw)[0],s=Rf(Xs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=qc(a)}catch(E){throw E===Vl?vf:E}else d=a;a=$t();var p=a.queue,y=p.dispatch;return u!==a.memoizedState&&(ze.flags|=2048,Fl(9,{destroy:void 0},_k.bind(null,p,u),null)),[d,y,s]}function _k(s,a){s.action=a}function Cw(s){var a=$t(),u=vt;if(u!==null)return Rw(a,u,s);$t(),a=a.memoizedState,u=$t();var d=u.queue.dispatch;return u.memoizedState=s,[a,d,!1]}function Fl(s,a,u,d){return s={tag:s,create:u,deps:d,inst:a,next:null},a=ze.updateQueue,a===null&&(a=Af(),ze.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,a.lastEffect=s),s}function Nw(){return $t().memoizedState}function Cf(s,a,u,d){var p=On();ze.flags|=s,p.memoizedState=Fl(1|a,{destroy:void 0},u,d===void 0?null:d)}function Nf(s,a,u,d){var p=$t();d=d===void 0?null:d;var y=p.memoizedState.inst;vt!==null&&d!==null&&vy(d,vt.memoizedState.deps)?p.memoizedState=Fl(a,y,u,d):(ze.flags|=s,p.memoizedState=Fl(1|a,y,u,d))}function Dw(s,a){Cf(8390656,8,s,a)}function Ry(s,a){Nf(2048,8,s,a)}function xk(s){ze.flags|=4;var a=ze.updateQueue;if(a===null)a=Af(),ze.updateQueue=a,a.events=[s];else{var u=a.events;u===null?a.events=[s]:u.push(s)}}function Ow(s){var a=$t().memoizedState;return xk({ref:a,nextImpl:s}),function(){if((ot&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function kw(s,a){return Nf(4,2,s,a)}function Pw(s,a){return Nf(4,4,s,a)}function Mw(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function jw(s,a,u){u=u!=null?u.concat([s]):null,Nf(4,4,Mw.bind(null,a,s),u)}function Cy(){}function Vw(s,a){var u=$t();a=a===void 0?null:a;var d=u.memoizedState;return a!==null&&vy(a,d[1])?d[0]:(u.memoizedState=[s,a],s)}function Lw(s,a){var u=$t();a=a===void 0?null:a;var d=u.memoizedState;if(a!==null&&vy(a,d[1]))return d[0];if(d=s(),uo){mr(!0);try{s()}finally{mr(!1)}}return u.memoizedState=[d,a],d}function Ny(s,a,u){return u===void 0||(Ws&1073741824)!==0&&(Ze&261930)===0?s.memoizedState=a:(s.memoizedState=u,s=zE(),ze.lanes|=s,Zi|=s,u)}function zw(s,a,u,d){return tr(u,a)?u:zl.current!==null?(s=Ny(s,u,d),tr(s,a)||(Yt=!0),s):(Ws&42)===0||(Ws&1073741824)!==0&&(Ze&261930)===0?(Yt=!0,s.memoizedState=u):(s=zE(),ze.lanes|=s,Zi|=s,a)}function Uw(s,a,u,d,p){var y=Z.p;Z.p=y!==0&&8>y?y:8;var E=q.T,N={};q.T=N,ky(s,!1,a,u);try{var U=p(),ee=q.S;if(ee!==null&&ee(N,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ae=gk(U,d);Hc(s,a,ae,or(s))}else Hc(s,a,d,or(s))}catch(ue){Hc(s,a,{then:function(){},status:"rejected",reason:ue},or())}finally{Z.p=y,E!==null&&N.types!==null&&(E.types=N.types),q.T=E}}function wk(){}function Dy(s,a,u,d){if(s.tag!==5)throw Error(r(476));var p=$w(s).queue;Uw(s,p,a,H,u===null?wk:function(){return Fw(s),u(d)})}function $w(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:H},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Fw(s){var a=$w(s);a.next===null&&(a=s.alternate.memoizedState),Hc(s,a.next.queue,{},or())}function Oy(){return vn(ld)}function Bw(){return $t().memoizedState}function qw(){return $t().memoizedState}function Ek(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=or();s=Bi(u);var d=qi(a,s,u);d!==null&&(Qn(d,a,u),Uc(d,a,u)),a={cache:oy()},s.payload=a;return}a=a.return}}function Tk(s,a,u){var d=or();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Df(s)?Gw(a,u):(u=Yg(s,a,u,d),u!==null&&(Qn(u,s,d),Kw(u,a,d)))}function Hw(s,a,u){var d=or();Hc(s,a,u,d)}function Hc(s,a,u,d){var p={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Df(s))Gw(a,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var E=a.lastRenderedState,N=y(E,u);if(p.hasEagerState=!0,p.eagerState=N,tr(N,E))return df(s,a,p,0),xt===null&&cf(),!1}catch{}if(u=Yg(s,a,p,d),u!==null)return Qn(u,s,d),Kw(u,a,d),!0}return!1}function ky(s,a,u,d){if(d={lane:2,revertLane:dv(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Df(s)){if(a)throw Error(r(479))}else a=Yg(s,u,d,2),a!==null&&Qn(a,s,2)}function Df(s){var a=s.alternate;return s===ze||a!==null&&a===ze}function Gw(s,a){Ul=Tf=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function Kw(s,a,u){if((u&4194048)!==0){var d=a.lanes;d&=s.pendingLanes,u|=d,a.lanes=u,fc(s,u)}}var Gc={readContext:vn,use:If,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};Gc.useEffectEvent=Ot;var Qw={readContext:vn,use:If,useCallback:function(s,a){return On().memoizedState=[s,a===void 0?null:a],s},useContext:vn,useEffect:Dw,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,Cf(4194308,4,Mw.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Cf(4194308,4,s,a)},useInsertionEffect:function(s,a){Cf(4,2,s,a)},useMemo:function(s,a){var u=On();a=a===void 0?null:a;var d=s();if(uo){mr(!0);try{s()}finally{mr(!1)}}return u.memoizedState=[d,a],d},useReducer:function(s,a,u){var d=On();if(u!==void 0){var p=u(a);if(uo){mr(!0);try{u(a)}finally{mr(!1)}}}else p=a;return d.memoizedState=d.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},d.queue=s,s=s.dispatch=Tk.bind(null,ze,s),[d.memoizedState,s]},useRef:function(s){var a=On();return s={current:s},a.memoizedState=s},useState:function(s){s=Ay(s);var a=s.queue,u=Hw.bind(null,ze,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:Cy,useDeferredValue:function(s,a){var u=On();return Ny(u,s,a)},useTransition:function(){var s=Ay(!1);return s=Uw.bind(null,ze,s.queue,!0,!1),On().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var d=ze,p=On();if(Je){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),xt===null)throw Error(r(349));(Ze&127)!==0||pw(d,a,u)}p.memoizedState=u;var y={value:u,getSnapshot:a};return p.queue=y,Dw(yw.bind(null,d,y,s),[s]),d.flags|=2048,Fl(9,{destroy:void 0},gw.bind(null,d,y,u,a),null),u},useId:function(){var s=On(),a=xt.identifierPrefix;if(Je){var u=Ts,d=Es;u=(d&~(1<<32-Lt(d)-1)).toString(32)+u,a="_"+a+"R_"+u,u=Sf++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=yk++,a="_"+a+"r_"+u.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Oy,useFormState:Aw,useActionState:Aw,useOptimistic:function(s){var a=On();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=ky.bind(null,ze,!0,u),u.dispatch=a,[s,a]},useMemoCache:Ey,useCacheRefresh:function(){return On().memoizedState=Ek.bind(null,ze)},useEffectEvent:function(s){var a=On(),u={impl:s};return a.memoizedState=u,function(){if((ot&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Py={readContext:vn,use:If,useCallback:Vw,useContext:vn,useEffect:Ry,useImperativeHandle:jw,useInsertionEffect:kw,useLayoutEffect:Pw,useMemo:Lw,useReducer:Rf,useRef:Nw,useState:function(){return Rf(Xs)},useDebugValue:Cy,useDeferredValue:function(s,a){var u=$t();return zw(u,vt.memoizedState,s,a)},useTransition:function(){var s=Rf(Xs)[0],a=$t().memoizedState;return[typeof s=="boolean"?s:qc(s),a]},useSyncExternalStore:mw,useId:Bw,useHostTransitionStatus:Oy,useFormState:Iw,useActionState:Iw,useOptimistic:function(s,a){var u=$t();return _w(u,vt,s,a)},useMemoCache:Ey,useCacheRefresh:qw};Py.useEffectEvent=Ow;var Zw={readContext:vn,use:If,useCallback:Vw,useContext:vn,useEffect:Ry,useImperativeHandle:jw,useInsertionEffect:kw,useLayoutEffect:Pw,useMemo:Lw,useReducer:Sy,useRef:Nw,useState:function(){return Sy(Xs)},useDebugValue:Cy,useDeferredValue:function(s,a){var u=$t();return vt===null?Ny(u,s,a):zw(u,vt.memoizedState,s,a)},useTransition:function(){var s=Sy(Xs)[0],a=$t().memoizedState;return[typeof s=="boolean"?s:qc(s),a]},useSyncExternalStore:mw,useId:Bw,useHostTransitionStatus:Oy,useFormState:Cw,useActionState:Cw,useOptimistic:function(s,a){var u=$t();return vt!==null?_w(u,vt,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Ey,useCacheRefresh:qw};Zw.useEffectEvent=Ow;function My(s,a,u,d){a=s.memoizedState,u=u(d,a),u=u==null?a:b({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var jy={enqueueSetState:function(s,a,u){s=s._reactInternals;var d=or(),p=Bi(d);p.payload=a,u!=null&&(p.callback=u),a=qi(s,p,d),a!==null&&(Qn(a,s,d),Uc(a,s,d))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var d=or(),p=Bi(d);p.tag=1,p.payload=a,u!=null&&(p.callback=u),a=qi(s,p,d),a!==null&&(Qn(a,s,d),Uc(a,s,d))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=or(),d=Bi(u);d.tag=2,a!=null&&(d.callback=a),a=qi(s,d,u),a!==null&&(Qn(a,s,u),Uc(a,s,u))}};function Yw(s,a,u,d,p,y,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,E):a.prototype&&a.prototype.isPureReactComponent?!Oc(u,d)||!Oc(p,y):!0}function Ww(s,a,u,d){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,d),a.state!==s&&jy.enqueueReplaceState(a,a.state,null)}function co(s,a){var u=a;if("ref"in a){u={};for(var d in a)d!=="ref"&&(u[d]=a[d])}if(s=s.defaultProps){u===a&&(u=b({},u));for(var p in s)u[p]===void 0&&(u[p]=s[p])}return u}function Xw(s){uf(s)}function Jw(s){console.error(s)}function eE(s){uf(s)}function Of(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function tE(s,a,u){try{var d=s.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Vy(s,a,u){return u=Bi(u),u.tag=3,u.payload={element:null},u.callback=function(){Of(s,a)},u}function nE(s){return s=Bi(s),s.tag=3,s}function rE(s,a,u,d){var p=u.type.getDerivedStateFromError;if(typeof p=="function"){var y=d.value;s.payload=function(){return p(y)},s.callback=function(){tE(a,u,d)}}var E=u.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){tE(a,u,d),typeof p!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})})}function Sk(s,a,u,d,p){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=u.alternate,a!==null&&Pl(a,u,p,!0),u=rr.current,u!==null){switch(u.tag){case 31:case 13:return Tr===null?qf():u.alternate===null&&kt===0&&(kt=3),u.flags&=-257,u.flags|=65536,u.lanes=p,d===bf?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([d]):a.add(d),lv(s,d,p)),!1;case 22:return u.flags|=65536,d===bf?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([d]):u.add(d)),lv(s,d,p)),!1}throw Error(r(435,u.tag))}return lv(s,d,p),qf(),!1}if(Je)return a=rr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,d!==ny&&(s=Error(r(422),{cause:d}),Mc(_r(s,u)))):(d!==ny&&(a=Error(r(423),{cause:d}),Mc(_r(a,u))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,d=_r(d,u),p=Vy(s.stateNode,d,p),fy(s,p),kt!==4&&(kt=2)),!1;var y=Error(r(520),{cause:d});if(y=_r(y,u),ed===null?ed=[y]:ed.push(y),kt!==4&&(kt=2),a===null)return!0;d=_r(d,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=p&-p,u.lanes|=s,s=Vy(u.stateNode,d,s),fy(u,s),!1;case 1:if(a=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Yi===null||!Yi.has(y))))return u.flags|=65536,p&=-p,u.lanes|=p,p=nE(p),rE(p,s,u,d),fy(u,p),!1}u=u.return}while(u!==null);return!1}var Ly=Error(r(461)),Yt=!1;function bn(s,a,u,d){a.child=s===null?ow(a,null,u,d):lo(a,s.child,u,d)}function sE(s,a,u,d,p){u=u.render;var y=a.ref;if("ref"in d){var E={};for(var N in d)N!=="ref"&&(E[N]=d[N])}else E=d;return so(a),d=by(s,a,u,E,y,p),N=_y(),s!==null&&!Yt?(xy(s,a,p),Js(s,a,p)):(Je&&N&&ey(a),a.flags|=1,bn(s,a,d,p),a.child)}function iE(s,a,u,d,p){if(s===null){var y=u.type;return typeof y=="function"&&!Wg(y)&&y.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=y,aE(s,a,y,d,p)):(s=ff(u.type,null,d,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!Gy(s,p)){var E=y.memoizedProps;if(u=u.compare,u=u!==null?u:Oc,u(E,d)&&s.ref===a.ref)return Js(s,a,p)}return a.flags|=1,s=Ks(y,d),s.ref=a.ref,s.return=a,a.child=s}function aE(s,a,u,d,p){if(s!==null){var y=s.memoizedProps;if(Oc(y,d)&&s.ref===a.ref)if(Yt=!1,a.pendingProps=d=y,Gy(s,p))(s.flags&131072)!==0&&(Yt=!0);else return a.lanes=s.lanes,Js(s,a,p)}return zy(s,a,u,d,p)}function oE(s,a,u,d){var p=d.children,y=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|u:u,s!==null){for(d=a.child=s.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;d=p&~y}else d=0,a.child=null;return lE(s,a,y,u,d)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&yf(a,y!==null?y.cachePool:null),y!==null?cw(a,y):py(),dw(a);else return d=a.lanes=536870912,lE(s,a,y!==null?y.baseLanes|u:u,u,d)}else y!==null?(yf(a,y.cachePool),cw(a,y),Gi(),a.memoizedState=null):(s!==null&&yf(a,null),py(),Gi());return bn(s,a,p,u),a.child}function Kc(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function lE(s,a,u,d,p){var y=uy();return y=y===null?null:{parent:Qt._currentValue,pool:y},a.memoizedState={baseLanes:u,cachePool:y},s!==null&&yf(a,null),py(),dw(a),s!==null&&Pl(s,a,d,!0),a.childLanes=p,null}function kf(s,a){return a=Mf({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function uE(s,a,u){return lo(a,s.child,null,u),s=kf(a,a.pendingProps),s.flags|=2,sr(a),a.memoizedState=null,s}function Ak(s,a,u){var d=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Je){if(d.mode==="hidden")return s=kf(a,d),a.lanes=536870912,Kc(null,s);if(yy(a),(s=wt)?(s=xT(s,Er),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Li!==null?{id:Es,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},u=G0(s),u.return=a,a.child=u,yn=a,wt=null)):s=null,s===null)throw Ui(a);return a.lanes=536870912,null}return kf(a,d)}var y=s.memoizedState;if(y!==null){var E=y.dehydrated;if(yy(a),p)if(a.flags&256)a.flags&=-257,a=uE(s,a,u);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(r(558));else if(Yt||Pl(s,a,u,!1),p=(u&s.childLanes)!==0,Yt||p){if(d=xt,d!==null&&(E=mc(d,u),E!==0&&E!==y.retryLane))throw y.retryLane=E,eo(s,E),Qn(d,s,E),Ly;qf(),a=uE(s,a,u)}else s=y.treeContext,wt=Sr(E.nextSibling),yn=a,Je=!0,zi=null,Er=!1,s!==null&&Z0(a,s),a=kf(a,d),a.flags|=4096;return a}return s=Ks(s.child,{mode:d.mode,children:d.children}),s.ref=a.ref,a.child=s,s.return=a,s}function Pf(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function zy(s,a,u,d,p){return so(a),u=by(s,a,u,d,void 0,p),d=_y(),s!==null&&!Yt?(xy(s,a,p),Js(s,a,p)):(Je&&d&&ey(a),a.flags|=1,bn(s,a,u,p),a.child)}function cE(s,a,u,d,p,y){return so(a),a.updateQueue=null,u=fw(a,d,u,p),hw(s),d=_y(),s!==null&&!Yt?(xy(s,a,y),Js(s,a,y)):(Je&&d&&ey(a),a.flags|=1,bn(s,a,u,y),a.child)}function dE(s,a,u,d,p){if(so(a),a.stateNode===null){var y=Nl,E=u.contextType;typeof E=="object"&&E!==null&&(y=vn(E)),y=new u(d,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=jy,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=d,y.state=a.memoizedState,y.refs={},dy(a),E=u.contextType,y.context=typeof E=="object"&&E!==null?vn(E):Nl,y.state=a.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(My(a,u,E,d),y.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&jy.enqueueReplaceState(y,y.state,null),Fc(a,d,y,p),$c(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(s===null){y=a.stateNode;var N=a.memoizedProps,U=co(u,N);y.props=U;var ee=y.context,ae=u.contextType;E=Nl,typeof ae=="object"&&ae!==null&&(E=vn(ae));var ue=u.getDerivedStateFromProps;ae=typeof ue=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,ae||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||ee!==E)&&Ww(a,y,d,E),Fi=!1;var te=a.memoizedState;y.state=te,Fc(a,d,y,p),$c(),ee=a.memoizedState,N||te!==ee||Fi?(typeof ue=="function"&&(My(a,u,ue,d),ee=a.memoizedState),(U=Fi||Yw(a,u,U,d,te,ee,E))?(ae||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=ee),y.props=d,y.state=ee,y.context=E,d=U):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{y=a.stateNode,hy(s,a),E=a.memoizedProps,ae=co(u,E),y.props=ae,ue=a.pendingProps,te=y.context,ee=u.contextType,U=Nl,typeof ee=="object"&&ee!==null&&(U=vn(ee)),N=u.getDerivedStateFromProps,(ee=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==ue||te!==U)&&Ww(a,y,d,U),Fi=!1,te=a.memoizedState,y.state=te,Fc(a,d,y,p),$c();var re=a.memoizedState;E!==ue||te!==re||Fi||s!==null&&s.dependencies!==null&&pf(s.dependencies)?(typeof N=="function"&&(My(a,u,N,d),re=a.memoizedState),(ae=Fi||Yw(a,u,ae,d,te,re,U)||s!==null&&s.dependencies!==null&&pf(s.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,re,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,re,U)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=re),y.props=d,y.state=re,y.context=U,d=ae):(typeof y.componentDidUpdate!="function"||E===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),d=!1)}return y=d,Pf(s,a),d=(a.flags&128)!==0,y||d?(y=a.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&d?(a.child=lo(a,s.child,null,p),a.child=lo(a,null,u,p)):bn(s,a,u,p),a.memoizedState=y.state,s=a.child):s=Js(s,a,p),s}function hE(s,a,u,d){return no(),a.flags|=256,bn(s,a,u,d),a.child}var Uy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $y(s){return{baseLanes:s,cachePool:tw()}}function Fy(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=ar),s}function fE(s,a,u){var d=a.pendingProps,p=!1,y=(a.flags&128)!==0,E;if((E=y)||(E=s!==null&&s.memoizedState===null?!1:(Ut.current&2)!==0),E&&(p=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,s===null){if(Je){if(p?Hi(a):Gi(),(s=wt)?(s=xT(s,Er),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Li!==null?{id:Es,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},u=G0(s),u.return=a,a.child=u,yn=a,wt=null)):s=null,s===null)throw Ui(a);return Tv(s)?a.lanes=32:a.lanes=536870912,null}var N=d.children;return d=d.fallback,p?(Gi(),p=a.mode,N=Mf({mode:"hidden",children:N},p),d=to(d,p,u,null),N.return=a,d.return=a,N.sibling=d,a.child=N,d=a.child,d.memoizedState=$y(u),d.childLanes=Fy(s,E,u),a.memoizedState=Uy,Kc(null,d)):(Hi(a),By(a,N))}var U=s.memoizedState;if(U!==null&&(N=U.dehydrated,N!==null)){if(y)a.flags&256?(Hi(a),a.flags&=-257,a=qy(s,a,u)):a.memoizedState!==null?(Gi(),a.child=s.child,a.flags|=128,a=null):(Gi(),N=d.fallback,p=a.mode,d=Mf({mode:"visible",children:d.children},p),N=to(N,p,u,null),N.flags|=2,d.return=a,N.return=a,d.sibling=N,a.child=d,lo(a,s.child,null,u),d=a.child,d.memoizedState=$y(u),d.childLanes=Fy(s,E,u),a.memoizedState=Uy,a=Kc(null,d));else if(Hi(a),Tv(N)){if(E=N.nextSibling&&N.nextSibling.dataset,E)var ee=E.dgst;E=ee,d=Error(r(419)),d.stack="",d.digest=E,Mc({value:d,source:null,stack:null}),a=qy(s,a,u)}else if(Yt||Pl(s,a,u,!1),E=(u&s.childLanes)!==0,Yt||E){if(E=xt,E!==null&&(d=mc(E,u),d!==0&&d!==U.retryLane))throw U.retryLane=d,eo(s,d),Qn(E,s,d),Ly;Ev(N)||qf(),a=qy(s,a,u)}else Ev(N)?(a.flags|=192,a.child=s.child,a=null):(s=U.treeContext,wt=Sr(N.nextSibling),yn=a,Je=!0,zi=null,Er=!1,s!==null&&Z0(a,s),a=By(a,d.children),a.flags|=4096);return a}return p?(Gi(),N=d.fallback,p=a.mode,U=s.child,ee=U.sibling,d=Ks(U,{mode:"hidden",children:d.children}),d.subtreeFlags=U.subtreeFlags&65011712,ee!==null?N=Ks(ee,N):(N=to(N,p,u,null),N.flags|=2),N.return=a,d.return=a,d.sibling=N,a.child=d,Kc(null,d),d=a.child,N=s.child.memoizedState,N===null?N=$y(u):(p=N.cachePool,p!==null?(U=Qt._currentValue,p=p.parent!==U?{parent:U,pool:U}:p):p=tw(),N={baseLanes:N.baseLanes|u,cachePool:p}),d.memoizedState=N,d.childLanes=Fy(s,E,u),a.memoizedState=Uy,Kc(s.child,d)):(Hi(a),u=s.child,s=u.sibling,u=Ks(u,{mode:"visible",children:d.children}),u.return=a,u.sibling=null,s!==null&&(E=a.deletions,E===null?(a.deletions=[s],a.flags|=16):E.push(s)),a.child=u,a.memoizedState=null,u)}function By(s,a){return a=Mf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Mf(s,a){return s=nr(22,s,null,a),s.lanes=0,s}function qy(s,a,u){return lo(a,s.child,null,u),s=By(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function mE(s,a,u){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a),iy(s.return,a,u)}function Hy(s,a,u,d,p,y){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:p,treeForkCount:y}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=d,E.tail=u,E.tailMode=p,E.treeForkCount=y)}function pE(s,a,u){var d=a.pendingProps,p=d.revealOrder,y=d.tail;d=d.children;var E=Ut.current,N=(E&2)!==0;if(N?(E=E&1|2,a.flags|=128):E&=1,ce(Ut,E),bn(s,a,d,u),d=Je?Pc:0,!N&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&mE(s,u,a);else if(s.tag===19)mE(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(u=a.child,p=null;u!==null;)s=u.alternate,s!==null&&Ef(s)===null&&(p=u),u=u.sibling;u=p,u===null?(p=a.child,a.child=null):(p=u.sibling,u.sibling=null),Hy(a,!1,p,u,y,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&Ef(s)===null){a.child=p;break}s=p.sibling,p.sibling=u,u=p,p=s}Hy(a,!0,u,null,y,d);break;case"together":Hy(a,!1,null,null,void 0,d);break;default:a.memoizedState=null}return a.child}function Js(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Zi|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(Pl(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,u=Ks(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Ks(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function Gy(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&pf(s)))}function Ik(s,a,u){switch(a.tag){case 3:ke(a,a.stateNode.containerInfo),$i(a,Qt,s.memoizedState.cache),no();break;case 27:case 5:$n(a);break;case 4:ke(a,a.stateNode.containerInfo);break;case 10:$i(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,yy(a),null;break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(Hi(a),a.flags|=128,null):(u&a.child.childLanes)!==0?fE(s,a,u):(Hi(a),s=Js(s,a,u),s!==null?s.sibling:null);Hi(a);break;case 19:var p=(s.flags&128)!==0;if(d=(u&a.childLanes)!==0,d||(Pl(s,a,u,!1),d=(u&a.childLanes)!==0),p){if(d)return pE(s,a,u);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ce(Ut,Ut.current),d)break;return null;case 22:return a.lanes=0,oE(s,a,u,a.pendingProps);case 24:$i(a,Qt,s.memoizedState.cache)}return Js(s,a,u)}function gE(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)Yt=!0;else{if(!Gy(s,u)&&(a.flags&128)===0)return Yt=!1,Ik(s,a,u);Yt=(s.flags&131072)!==0}else Yt=!1,Je&&(a.flags&1048576)!==0&&Q0(a,Pc,a.index);switch(a.lanes=0,a.tag){case 16:e:{var d=a.pendingProps;if(s=ao(a.elementType),a.type=s,typeof s=="function")Wg(s)?(d=co(s,d),a.tag=1,a=dE(null,a,s,d,u)):(a.tag=0,a=zy(null,a,s,d,u));else{if(s!=null){var p=s.$$typeof;if(p===Q){a.tag=11,a=sE(null,a,s,d,u);break e}else if(p===C){a.tag=14,a=iE(null,a,s,d,u);break e}}throw a=pe(s)||s,Error(r(306,a,""))}}return a;case 0:return zy(s,a,a.type,a.pendingProps,u);case 1:return d=a.type,p=co(d,a.pendingProps),dE(s,a,d,p,u);case 3:e:{if(ke(a,a.stateNode.containerInfo),s===null)throw Error(r(387));d=a.pendingProps;var y=a.memoizedState;p=y.element,hy(s,a),Fc(a,d,null,u);var E=a.memoizedState;if(d=E.cache,$i(a,Qt,d),d!==y.cache&&ay(a,[Qt],u,!0),$c(),d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=hE(s,a,d,u);break e}else if(d!==p){p=_r(Error(r(424)),a),Mc(p),a=hE(s,a,d,u);break e}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,wt=Sr(s.firstChild),yn=a,Je=!0,zi=null,Er=!0,u=ow(a,null,d,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(no(),d===p){a=Js(s,a,u);break e}bn(s,a,d,u)}a=a.child}return a;case 26:return Pf(s,a),s===null?(u=IT(a.type,null,a.pendingProps,null))?a.memoizedState=u:Je||(u=a.type,s=a.pendingProps,d=Wf(we.current).createElement(u),d[Ht]=a,d[un]=s,_n(d,u,s),Gt(d),a.stateNode=d):a.memoizedState=IT(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return $n(a),s===null&&Je&&(d=a.stateNode=TT(a.type,a.pendingProps,we.current),yn=a,Er=!0,p=wt,ea(a.type)?(Sv=p,wt=Sr(d.firstChild)):wt=p),bn(s,a,a.pendingProps.children,u),Pf(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Je&&((p=d=wt)&&(d=rP(d,a.type,a.pendingProps,Er),d!==null?(a.stateNode=d,yn=a,wt=Sr(d.firstChild),Er=!1,p=!0):p=!1),p||Ui(a)),$n(a),p=a.type,y=a.pendingProps,E=s!==null?s.memoizedProps:null,d=y.children,_v(p,y)?d=null:E!==null&&_v(p,E)&&(a.flags|=32),a.memoizedState!==null&&(p=by(s,a,vk,null,null,u),ld._currentValue=p),Pf(s,a),bn(s,a,d,u),a.child;case 6:return s===null&&Je&&((s=u=wt)&&(u=sP(u,a.pendingProps,Er),u!==null?(a.stateNode=u,yn=a,wt=null,s=!0):s=!1),s||Ui(a)),null;case 13:return fE(s,a,u);case 4:return ke(a,a.stateNode.containerInfo),d=a.pendingProps,s===null?a.child=lo(a,null,d,u):bn(s,a,d,u),a.child;case 11:return sE(s,a,a.type,a.pendingProps,u);case 7:return bn(s,a,a.pendingProps,u),a.child;case 8:return bn(s,a,a.pendingProps.children,u),a.child;case 12:return bn(s,a,a.pendingProps.children,u),a.child;case 10:return d=a.pendingProps,$i(a,a.type,d.value),bn(s,a,d.children,u),a.child;case 9:return p=a.type._context,d=a.pendingProps.children,so(a),p=vn(p),d=d(p),a.flags|=1,bn(s,a,d,u),a.child;case 14:return iE(s,a,a.type,a.pendingProps,u);case 15:return aE(s,a,a.type,a.pendingProps,u);case 19:return pE(s,a,u);case 31:return Ak(s,a,u);case 22:return oE(s,a,u,a.pendingProps);case 24:return so(a),d=vn(Qt),s===null?(p=uy(),p===null&&(p=xt,y=oy(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=u),p=y),a.memoizedState={parent:d,cache:p},dy(a),$i(a,Qt,p)):((s.lanes&u)!==0&&(hy(s,a),Fc(a,null,null,u),$c()),p=s.memoizedState,y=a.memoizedState,p.parent!==d?(p={parent:d,cache:d},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),$i(a,Qt,d)):(d=y.cache,$i(a,Qt,d),d!==p.cache&&ay(a,[Qt],u,!0))),bn(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ei(s){s.flags|=4}function Ky(s,a,u,d,p){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(BE())s.flags|=8192;else throw oo=bf,cy}else s.flags&=-16777217}function yE(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!OT(a))if(BE())s.flags|=8192;else throw oo=bf,cy}function jf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?$h():536870912,s.lanes|=a,Gl|=a)}function Qc(s,a){if(!Je)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Et(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(a)for(var p=s.child;p!==null;)u|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)u|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=u,a}function Rk(s,a,u){var d=a.pendingProps;switch(ty(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(a),null;case 1:return Et(a),null;case 3:return u=a.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Ys(Qt),He(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(kl(a)?ei(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ry())),Et(a),null;case 26:var p=a.type,y=a.memoizedState;return s===null?(ei(a),y!==null?(Et(a),yE(a,y)):(Et(a),Ky(a,p,null,d,u))):y?y!==s.memoizedState?(ei(a),Et(a),yE(a,y)):(Et(a),a.flags&=-16777217):(s=s.memoizedProps,s!==d&&ei(a),Et(a),Ky(a,p,s,d,u)),null;case 27:if(gt(a),u=we.current,p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&ei(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return Et(a),null}s=de.current,kl(a)?Y0(a):(s=TT(p,d,u),a.stateNode=s,ei(a))}return Et(a),null;case 5:if(gt(a),p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&ei(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return Et(a),null}if(y=de.current,kl(a))Y0(a);else{var E=Wf(we.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?E.createElement("select",{is:d.is}):E.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?E.createElement(p,{is:d.is}):E.createElement(p)}}y[Ht]=a,y[un]=d;e:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break e;for(;E.sibling===null;){if(E.return===null||E.return===a)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=y;e:switch(_n(y,p,d),p){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ei(a)}}return Et(a),Ky(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,u),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==d&&ei(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(r(166));if(s=we.current,kl(a)){if(s=a.stateNode,u=a.memoizedProps,d=null,p=yn,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}s[Ht]=a,s=!!(s.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||fT(s.nodeValue,u)),s||Ui(a,!0)}else s=Wf(s).createTextNode(d),s[Ht]=a,a.stateNode=s}return Et(a),null;case 31:if(u=a.memoizedState,s===null||s.memoizedState!==null){if(d=kl(a),u!==null){if(s===null){if(!d)throw Error(r(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Ht]=a}else no(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Et(a),s=!1}else u=ry(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return a.flags&256?(sr(a),a):(sr(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Et(a),null;case 13:if(d=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=kl(a),d!==null&&d.dehydrated!==null){if(s===null){if(!p)throw Error(r(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Ht]=a}else no(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Et(a),p=!1}else p=ry(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(sr(a),a):(sr(a),null)}return sr(a),(a.flags&128)!==0?(a.lanes=u,a):(u=d!==null,s=s!==null&&s.memoizedState!==null,u&&(d=a.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==p&&(d.flags|=2048)),u!==s&&u&&(a.child.flags|=8192),jf(a,a.updateQueue),Et(a),null);case 4:return He(),s===null&&pv(a.stateNode.containerInfo),Et(a),null;case 10:return Ys(a.type),Et(a),null;case 19:if(K(Ut),d=a.memoizedState,d===null)return Et(a),null;if(p=(a.flags&128)!==0,y=d.rendering,y===null)if(p)Qc(d,!1);else{if(kt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Ef(s),y!==null){for(a.flags|=128,Qc(d,!1),s=y.updateQueue,a.updateQueue=s,jf(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)H0(u,s),u=u.sibling;return ce(Ut,Ut.current&1|2),Je&&Qs(a,d.treeForkCount),a.child}s=s.sibling}d.tail!==null&&Nn()>$f&&(a.flags|=128,p=!0,Qc(d,!1),a.lanes=4194304)}else{if(!p)if(s=Ef(y),s!==null){if(a.flags|=128,p=!0,s=s.updateQueue,a.updateQueue=s,jf(a,s),Qc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Je)return Et(a),null}else 2*Nn()-d.renderingStartTime>$f&&u!==536870912&&(a.flags|=128,p=!0,Qc(d,!1),a.lanes=4194304);d.isBackwards?(y.sibling=a.child,a.child=y):(s=d.last,s!==null?s.sibling=y:a.child=y,d.last=y)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Nn(),s.sibling=null,u=Ut.current,ce(Ut,p?u&1|2:u&1),Je&&Qs(a,d.treeForkCount),s):(Et(a),null);case 22:case 23:return sr(a),gy(),d=a.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(u&536870912)!==0&&(a.flags&128)===0&&(Et(a),a.subtreeFlags&6&&(a.flags|=8192)):Et(a),u=a.updateQueue,u!==null&&jf(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==u&&(a.flags|=2048),s!==null&&K(io),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ys(Qt),Et(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function Ck(s,a){switch(ty(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ys(Qt),He(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return gt(a),null;case 31:if(a.memoizedState!==null){if(sr(a),a.alternate===null)throw Error(r(340));no()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(sr(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));no()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return K(Ut),null;case 4:return He(),null;case 10:return Ys(a.type),null;case 22:case 23:return sr(a),gy(),s!==null&&K(io),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ys(Qt),null;case 25:return null;default:return null}}function vE(s,a){switch(ty(a),a.tag){case 3:Ys(Qt),He();break;case 26:case 27:case 5:gt(a);break;case 4:He();break;case 31:a.memoizedState!==null&&sr(a);break;case 13:sr(a);break;case 19:K(Ut);break;case 10:Ys(a.type);break;case 22:case 23:sr(a),gy(),s!==null&&K(io);break;case 24:Ys(Qt)}}function Zc(s,a){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&s)===s){d=void 0;var y=u.create,E=u.inst;d=y(),E.destroy=d}u=u.next}while(u!==p)}}catch(N){dt(a,a.return,N)}}function Ki(s,a,u){try{var d=a.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var y=p.next;d=y;do{if((d.tag&s)===s){var E=d.inst,N=E.destroy;if(N!==void 0){E.destroy=void 0,p=a;var U=u,ee=N;try{ee()}catch(ae){dt(p,U,ae)}}}d=d.next}while(d!==y)}}catch(ae){dt(a,a.return,ae)}}function bE(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{uw(a,u)}catch(d){dt(s,s.return,d)}}}function _E(s,a,u){u.props=co(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(d){dt(s,a,d)}}function Yc(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof u=="function"?s.refCleanup=u(d):u.current=d}}catch(p){dt(s,a,p)}}function Ss(s,a){var u=s.ref,d=s.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(p){dt(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(p){dt(s,a,p)}else u.current=null}function xE(s){var a=s.type,u=s.memoizedProps,d=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(p){dt(s,s.return,p)}}function Qy(s,a,u){try{var d=s.stateNode;Wk(d,s.type,u,a),d[un]=a}catch(p){dt(s,s.return,p)}}function wE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ea(s.type)||s.tag===4}function Zy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||wE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ea(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yy(s,a,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Br));else if(d!==4&&(d===27&&ea(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(Yy(s,a,u),s=s.sibling;s!==null;)Yy(s,a,u),s=s.sibling}function Vf(s,a,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(d!==4&&(d===27&&ea(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Vf(s,a,u),s=s.sibling;s!==null;)Vf(s,a,u),s=s.sibling}function EE(s){var a=s.stateNode,u=s.memoizedProps;try{for(var d=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);_n(a,d,u),a[Ht]=s,a[un]=u}catch(y){dt(s,s.return,y)}}var ti=!1,Wt=!1,Wy=!1,TE=typeof WeakSet=="function"?WeakSet:Set,dn=null;function Nk(s,a){if(s=s.containerInfo,vv=sm,s=j0(s),qg(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var E=0,N=-1,U=-1,ee=0,ae=0,ue=s,te=null;t:for(;;){for(var re;ue!==u||p!==0&&ue.nodeType!==3||(N=E+p),ue!==y||d!==0&&ue.nodeType!==3||(U=E+d),ue.nodeType===3&&(E+=ue.nodeValue.length),(re=ue.firstChild)!==null;)te=ue,ue=re;for(;;){if(ue===s)break t;if(te===u&&++ee===p&&(N=E),te===y&&++ae===d&&(U=E),(re=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=re}u=N===-1||U===-1?null:{start:N,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(bv={focusedElem:s,selectionRange:u},sm=!1,dn=a;dn!==null;)if(a=dn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,dn=s;else for(;dn!==null;){switch(a=dn,y=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)p=s[u],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,u=a,p=y.memoizedProps,y=y.memoizedState,d=u.stateNode;try{var Ee=co(u.type,p);s=d.getSnapshotBeforeUpdate(Ee,y),d.__reactInternalSnapshotBeforeUpdate=s}catch(Oe){dt(u,u.return,Oe)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)wv(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":wv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,dn=s;break}dn=a.return}}function SE(s,a,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:ri(s,u),d&4&&Zc(5,u);break;case 1:if(ri(s,u),d&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(E){dt(u,u.return,E)}else{var p=co(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(E){dt(u,u.return,E)}}d&64&&bE(u),d&512&&Yc(u,u.return);break;case 3:if(ri(s,u),d&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{uw(s,a)}catch(E){dt(u,u.return,E)}}break;case 27:a===null&&d&4&&EE(u);case 26:case 5:ri(s,u),a===null&&d&4&&xE(u),d&512&&Yc(u,u.return);break;case 12:ri(s,u);break;case 31:ri(s,u),d&4&&RE(s,u);break;case 13:ri(s,u),d&4&&CE(s,u),d&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=zk.bind(null,u),iP(s,u))));break;case 22:if(d=u.memoizedState!==null||ti,!d){a=a!==null&&a.memoizedState!==null||Wt,p=ti;var y=Wt;ti=d,(Wt=a)&&!y?si(s,u,(u.subtreeFlags&8772)!==0):ri(s,u),ti=p,Wt=y}break;case 30:break;default:ri(s,u)}}function AE(s){var a=s.alternate;a!==null&&(s.alternate=null,AE(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&gl(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var St=null,qn=!1;function ni(s,a,u){for(u=u.child;u!==null;)IE(s,a,u),u=u.sibling}function IE(s,a,u){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(zr,u)}catch{}switch(u.tag){case 26:Wt||Ss(u,a),ni(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Wt||Ss(u,a);var d=St,p=qn;ea(u.type)&&(St=u.stateNode,qn=!1),ni(s,a,u),id(u.stateNode),St=d,qn=p;break;case 5:Wt||Ss(u,a);case 6:if(d=St,p=qn,St=null,ni(s,a,u),St=d,qn=p,St!==null)if(qn)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(u.stateNode)}catch(y){dt(u,a,y)}else try{St.removeChild(u.stateNode)}catch(y){dt(u,a,y)}break;case 18:St!==null&&(qn?(s=St,bT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),eu(s)):bT(St,u.stateNode));break;case 4:d=St,p=qn,St=u.stateNode.containerInfo,qn=!0,ni(s,a,u),St=d,qn=p;break;case 0:case 11:case 14:case 15:Ki(2,u,a),Wt||Ki(4,u,a),ni(s,a,u);break;case 1:Wt||(Ss(u,a),d=u.stateNode,typeof d.componentWillUnmount=="function"&&_E(u,a,d)),ni(s,a,u);break;case 21:ni(s,a,u);break;case 22:Wt=(d=Wt)||u.memoizedState!==null,ni(s,a,u),Wt=d;break;default:ni(s,a,u)}}function RE(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{eu(s)}catch(u){dt(a,a.return,u)}}}function CE(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{eu(s)}catch(u){dt(a,a.return,u)}}function Dk(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new TE),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new TE),a;default:throw Error(r(435,s.tag))}}function Lf(s,a){var u=Dk(s);a.forEach(function(d){if(!u.has(d)){u.add(d);var p=Uk.bind(null,s,d);d.then(p,p)}})}function Hn(s,a){var u=a.deletions;if(u!==null)for(var d=0;d<u.length;d++){var p=u[d],y=s,E=a,N=E;e:for(;N!==null;){switch(N.tag){case 27:if(ea(N.type)){St=N.stateNode,qn=!1;break e}break;case 5:St=N.stateNode,qn=!1;break e;case 3:case 4:St=N.stateNode.containerInfo,qn=!0;break e}N=N.return}if(St===null)throw Error(r(160));IE(y,E,p),St=null,qn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)NE(a,s),a=a.sibling}var Zr=null;function NE(s,a){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Hn(a,s),Gn(s),d&4&&(Ki(3,s,s.return),Zc(3,s),Ki(5,s,s.return));break;case 1:Hn(a,s),Gn(s),d&512&&(Wt||u===null||Ss(u,u.return)),d&64&&ti&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var p=Zr;if(Hn(a,s),Gn(s),d&512&&(Wt||u===null||Ss(u,u.return)),d&4){var y=u!==null?u.memoizedState:null;if(d=s.memoizedState,u===null)if(d===null)if(s.stateNode===null){e:{d=s.type,u=s.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":y=p.getElementsByTagName("title")[0],(!y||y[ds]||y[Ht]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(d),p.head.insertBefore(y,p.querySelector("head > title"))),_n(y,d,u),y[Ht]=s,Gt(y),d=y;break e;case"link":var E=NT("link","href",p).get(d+(u.href||""));if(E){for(var N=0;N<E.length;N++)if(y=E[N],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){E.splice(N,1);break t}}y=p.createElement(d),_n(y,d,u),p.head.appendChild(y);break;case"meta":if(E=NT("meta","content",p).get(d+(u.content||""))){for(N=0;N<E.length;N++)if(y=E[N],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){E.splice(N,1);break t}}y=p.createElement(d),_n(y,d,u),p.head.appendChild(y);break;default:throw Error(r(468,d))}y[Ht]=s,Gt(y),d=y}s.stateNode=d}else DT(p,s.type,s.stateNode);else s.stateNode=CT(p,d,s.memoizedProps);else y!==d?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,d===null?DT(p,s.type,s.stateNode):CT(p,d,s.memoizedProps)):d===null&&s.stateNode!==null&&Qy(s,s.memoizedProps,u.memoizedProps)}break;case 27:Hn(a,s),Gn(s),d&512&&(Wt||u===null||Ss(u,u.return)),u!==null&&d&4&&Qy(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Hn(a,s),Gn(s),d&512&&(Wt||u===null||Ss(u,u.return)),s.flags&32){p=s.stateNode;try{Bn(p,"")}catch(Ee){dt(s,s.return,Ee)}}d&4&&s.stateNode!=null&&(p=s.memoizedProps,Qy(s,p,u!==null?u.memoizedProps:p)),d&1024&&(Wy=!0);break;case 6:if(Hn(a,s),Gn(s),d&4){if(s.stateNode===null)throw Error(r(162));d=s.memoizedProps,u=s.stateNode;try{u.nodeValue=d}catch(Ee){dt(s,s.return,Ee)}}break;case 3:if(em=null,p=Zr,Zr=Xf(a.containerInfo),Hn(a,s),Zr=p,Gn(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{eu(a.containerInfo)}catch(Ee){dt(s,s.return,Ee)}Wy&&(Wy=!1,DE(s));break;case 4:d=Zr,Zr=Xf(s.stateNode.containerInfo),Hn(a,s),Gn(s),Zr=d;break;case 12:Hn(a,s),Gn(s);break;case 31:Hn(a,s),Gn(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Lf(s,d)));break;case 13:Hn(a,s),Gn(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Uf=Nn()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Lf(s,d)));break;case 22:p=s.memoizedState!==null;var U=u!==null&&u.memoizedState!==null,ee=ti,ae=Wt;if(ti=ee||p,Wt=ae||U,Hn(a,s),Wt=ae,ti=ee,Gn(s),d&8192)e:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(u===null||U||ti||Wt||ho(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){U=u=a;try{if(y=U.stateNode,p)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{N=U.stateNode;var ue=U.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;N.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Ee){dt(U,U.return,Ee)}}}else if(a.tag===6){if(u===null){U=a;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(Ee){dt(U,U.return,Ee)}}}else if(a.tag===18){if(u===null){U=a;try{var re=U.stateNode;p?_T(re,!0):_T(U.stateNode,!1)}catch(Ee){dt(U,U.return,Ee)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=s.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Lf(s,u))));break;case 19:Hn(a,s),Gn(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Lf(s,d)));break;case 30:break;case 21:break;default:Hn(a,s),Gn(s)}}function Gn(s){var a=s.flags;if(a&2){try{for(var u,d=s.return;d!==null;){if(wE(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var p=u.stateNode,y=Zy(s);Vf(s,y,p);break;case 5:var E=u.stateNode;u.flags&32&&(Bn(E,""),u.flags&=-33);var N=Zy(s);Vf(s,N,E);break;case 3:case 4:var U=u.stateNode.containerInfo,ee=Zy(s);Yy(s,ee,U);break;default:throw Error(r(161))}}catch(ae){dt(s,s.return,ae)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function DE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;DE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ri(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)SE(s,a.alternate,a),a=a.sibling}function ho(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Ki(4,a,a.return),ho(a);break;case 1:Ss(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&_E(a,a.return,u),ho(a);break;case 27:id(a.stateNode);case 26:case 5:Ss(a,a.return),ho(a);break;case 22:a.memoizedState===null&&ho(a);break;case 30:ho(a);break;default:ho(a)}s=s.sibling}}function si(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,p=s,y=a,E=y.flags;switch(y.tag){case 0:case 11:case 15:si(p,y,u),Zc(4,y);break;case 1:if(si(p,y,u),d=y,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ee){dt(d,d.return,ee)}if(d=y,p=d.updateQueue,p!==null){var N=d.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)lw(U[p],N)}catch(ee){dt(d,d.return,ee)}}u&&E&64&&bE(y),Yc(y,y.return);break;case 27:EE(y);case 26:case 5:si(p,y,u),u&&d===null&&E&4&&xE(y),Yc(y,y.return);break;case 12:si(p,y,u);break;case 31:si(p,y,u),u&&E&4&&RE(p,y);break;case 13:si(p,y,u),u&&E&4&&CE(p,y);break;case 22:y.memoizedState===null&&si(p,y,u),Yc(y,y.return);break;case 30:break;default:si(p,y,u)}a=a.sibling}}function Xy(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&jc(u))}function Jy(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&jc(s))}function Yr(s,a,u,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)OE(s,a,u,d),a=a.sibling}function OE(s,a,u,d){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Yr(s,a,u,d),p&2048&&Zc(9,a);break;case 1:Yr(s,a,u,d);break;case 3:Yr(s,a,u,d),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&jc(s)));break;case 12:if(p&2048){Yr(s,a,u,d),s=a.stateNode;try{var y=a.memoizedProps,E=y.id,N=y.onPostCommit;typeof N=="function"&&N(E,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){dt(a,a.return,U)}}else Yr(s,a,u,d);break;case 31:Yr(s,a,u,d);break;case 13:Yr(s,a,u,d);break;case 23:break;case 22:y=a.stateNode,E=a.alternate,a.memoizedState!==null?y._visibility&2?Yr(s,a,u,d):Wc(s,a):y._visibility&2?Yr(s,a,u,d):(y._visibility|=2,Bl(s,a,u,d,(a.subtreeFlags&10256)!==0||!1)),p&2048&&Xy(E,a);break;case 24:Yr(s,a,u,d),p&2048&&Jy(a.alternate,a);break;default:Yr(s,a,u,d)}}function Bl(s,a,u,d,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=s,E=a,N=u,U=d,ee=E.flags;switch(E.tag){case 0:case 11:case 15:Bl(y,E,N,U,p),Zc(8,E);break;case 23:break;case 22:var ae=E.stateNode;E.memoizedState!==null?ae._visibility&2?Bl(y,E,N,U,p):Wc(y,E):(ae._visibility|=2,Bl(y,E,N,U,p)),p&&ee&2048&&Xy(E.alternate,E);break;case 24:Bl(y,E,N,U,p),p&&ee&2048&&Jy(E.alternate,E);break;default:Bl(y,E,N,U,p)}a=a.sibling}}function Wc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,d=a,p=d.flags;switch(d.tag){case 22:Wc(u,d),p&2048&&Xy(d.alternate,d);break;case 24:Wc(u,d),p&2048&&Jy(d.alternate,d);break;default:Wc(u,d)}a=a.sibling}}var Xc=8192;function ql(s,a,u){if(s.subtreeFlags&Xc)for(s=s.child;s!==null;)kE(s,a,u),s=s.sibling}function kE(s,a,u){switch(s.tag){case 26:ql(s,a,u),s.flags&Xc&&s.memoizedState!==null&&yP(u,Zr,s.memoizedState,s.memoizedProps);break;case 5:ql(s,a,u);break;case 3:case 4:var d=Zr;Zr=Xf(s.stateNode.containerInfo),ql(s,a,u),Zr=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=Xc,Xc=16777216,ql(s,a,u),Xc=d):ql(s,a,u));break;default:ql(s,a,u)}}function PE(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Jc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];dn=d,jE(d,s)}PE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ME(s),s=s.sibling}function ME(s){switch(s.tag){case 0:case 11:case 15:Jc(s),s.flags&2048&&Ki(9,s,s.return);break;case 3:Jc(s);break;case 12:Jc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,zf(s)):Jc(s);break;default:Jc(s)}}function zf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];dn=d,jE(d,s)}PE(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Ki(8,a,a.return),zf(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,zf(a));break;default:zf(a)}s=s.sibling}}function jE(s,a){for(;dn!==null;){var u=dn;switch(u.tag){case 0:case 11:case 15:Ki(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:jc(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,dn=d;else e:for(u=s;dn!==null;){d=dn;var p=d.sibling,y=d.return;if(AE(d),d===u){dn=null;break e}if(p!==null){p.return=y,dn=p;break e}dn=y}}}var Ok={getCacheForType:function(s){var a=vn(Qt),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u},cacheSignal:function(){return vn(Qt).controller.signal}},kk=typeof WeakMap=="function"?WeakMap:Map,ot=0,xt=null,Ge=null,Ze=0,ct=0,ir=null,Qi=!1,Hl=!1,ev=!1,ii=0,kt=0,Zi=0,fo=0,tv=0,ar=0,Gl=0,ed=null,Kn=null,nv=!1,Uf=0,VE=0,$f=1/0,Ff=null,Yi=null,rn=0,Wi=null,Kl=null,ai=0,rv=0,sv=null,LE=null,td=0,iv=null;function or(){return(ot&2)!==0&&Ze!==0?Ze&-Ze:q.T!==null?dv():Fh()}function zE(){if(ar===0)if((Ze&536870912)===0||Je){var s=za;za<<=1,(za&3932160)===0&&(za=262144),ar=s}else ar=536870912;return s=rr.current,s!==null&&(s.flags|=32),ar}function Qn(s,a,u){(s===xt&&(ct===2||ct===9)||s.cancelPendingCommit!==null)&&(Ql(s,0),Xi(s,Ze,ar,!1)),Ua(s,u),((ot&2)===0||s!==xt)&&(s===xt&&((ot&2)===0&&(fo|=u),kt===4&&Xi(s,Ze,ar,!1)),As(s))}function UE(s,a,u){if((ot&6)!==0)throw Error(r(327));var d=!u&&(a&127)===0&&(a&s.expiredLanes)===0||Ur(s,a),p=d?jk(s,a):ov(s,a,!0),y=d;do{if(p===0){Hl&&!d&&Xi(s,a,0,!1);break}else{if(u=s.current.alternate,y&&!Pk(u)){p=ov(s,a,!1),y=!1;continue}if(p===2){if(y=a,s.errorRecoveryDisabledLanes&y)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var N=s;p=ed;var U=N.current.memoizedState.isDehydrated;if(U&&(Ql(N,E).flags|=256),E=ov(N,E,!1),E!==2){if(ev&&!U){N.errorRecoveryDisabledLanes|=y,fo|=y,p=4;break e}y=Kn,Kn=p,y!==null&&(Kn===null?Kn=y:Kn.push.apply(Kn,y))}p=E}if(y=!1,p!==2)continue}}if(p===1){Ql(s,0),Xi(s,a,0,!0);break}e:{switch(d=s,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Xi(d,a,ar,!Qi);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(p=Uf+300-Nn(),10<p)){if(Xi(d,a,ar,!Qi),ls(d,0,!0)!==0)break e;ai=a,d.timeoutHandle=yT($E.bind(null,d,u,Kn,Ff,nv,a,ar,fo,Gl,Qi,y,"Throttled",-0,0),p);break e}$E(d,u,Kn,Ff,nv,a,ar,fo,Gl,Qi,y,null,-0,0)}}break}while(!0);As(s)}function $E(s,a,u,d,p,y,E,N,U,ee,ae,ue,te,re){if(s.timeoutHandle=-1,ue=a.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Br},kE(a,y,ue);var Ee=(y&62914560)===y?Uf-Nn():(y&4194048)===y?VE-Nn():0;if(Ee=vP(ue,Ee),Ee!==null){ai=y,s.cancelPendingCommit=Ee(ZE.bind(null,s,a,y,u,d,p,E,N,U,ae,ue,null,te,re)),Xi(s,y,E,!ee);return}}ZE(s,a,y,u,d,p,E,N,U)}function Pk(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var p=u[d],y=p.getSnapshot;p=p.value;try{if(!tr(y(),p))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Xi(s,a,u,d){a&=~tv,a&=~fo,s.suspendedLanes|=a,s.pingedLanes&=~a,d&&(s.warmLanes|=a),d=s.expirationTimes;for(var p=a;0<p;){var y=31-Lt(p),E=1<<y;d[y]=-1,p&=~E}u!==0&&$a(s,u,a)}function Bf(){return(ot&6)===0?(nd(0),!1):!0}function av(){if(Ge!==null){if(ct===0)var s=Ge.return;else s=Ge,Zs=ro=null,wy(s),Ll=null,Lc=0,s=Ge;for(;s!==null;)vE(s.alternate,s),s=s.return;Ge=null}}function Ql(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,eP(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),ai=0,av(),xt=s,Ge=u=Ks(s.current,null),Ze=a,ct=0,ir=null,Qi=!1,Hl=Ur(s,a),ev=!1,Gl=ar=tv=fo=Zi=kt=0,Kn=ed=null,nv=!1,(a&8)!==0&&(a|=a&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=a;0<d;){var p=31-Lt(d),y=1<<p;a|=s[p],d&=~y}return ii=a,cf(),u}function FE(s,a){ze=null,q.H=Gc,a===Vl||a===vf?(a=sw(),ct=3):a===cy?(a=sw(),ct=4):ct=a===Ly?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ir=a,Ge===null&&(kt=1,Of(s,_r(a,s.current)))}function BE(){var s=rr.current;return s===null?!0:(Ze&4194048)===Ze?Tr===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?s===Tr:!1}function qE(){var s=q.H;return q.H=Gc,s===null?Gc:s}function HE(){var s=q.A;return q.A=Ok,s}function qf(){kt=4,Qi||(Ze&4194048)!==Ze&&rr.current!==null||(Hl=!0),(Zi&134217727)===0&&(fo&134217727)===0||xt===null||Xi(xt,Ze,ar,!1)}function ov(s,a,u){var d=ot;ot|=2;var p=qE(),y=HE();(xt!==s||Ze!==a)&&(Ff=null,Ql(s,a)),a=!1;var E=kt;e:do try{if(ct!==0&&Ge!==null){var N=Ge,U=ir;switch(ct){case 8:av(),E=6;break e;case 3:case 2:case 9:case 6:rr.current===null&&(a=!0);var ee=ct;if(ct=0,ir=null,Zl(s,N,U,ee),u&&Hl){E=0;break e}break;default:ee=ct,ct=0,ir=null,Zl(s,N,U,ee)}}Mk(),E=kt;break}catch(ae){FE(s,ae)}while(!0);return a&&s.shellSuspendCounter++,Zs=ro=null,ot=d,q.H=p,q.A=y,Ge===null&&(xt=null,Ze=0,cf()),E}function Mk(){for(;Ge!==null;)GE(Ge)}function jk(s,a){var u=ot;ot|=2;var d=qE(),p=HE();xt!==s||Ze!==a?(Ff=null,$f=Nn()+500,Ql(s,a)):Hl=Ur(s,a);e:do try{if(ct!==0&&Ge!==null){a=Ge;var y=ir;t:switch(ct){case 1:ct=0,ir=null,Zl(s,a,y,1);break;case 2:case 9:if(nw(y)){ct=0,ir=null,KE(a);break}a=function(){ct!==2&&ct!==9||xt!==s||(ct=7),As(s)},y.then(a,a);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:nw(y)?(ct=0,ir=null,KE(a)):(ct=0,ir=null,Zl(s,a,y,7));break;case 5:var E=null;switch(Ge.tag){case 26:E=Ge.memoizedState;case 5:case 27:var N=Ge;if(E?OT(E):N.stateNode.complete){ct=0,ir=null;var U=N.sibling;if(U!==null)Ge=U;else{var ee=N.return;ee!==null?(Ge=ee,Hf(ee)):Ge=null}break t}}ct=0,ir=null,Zl(s,a,y,5);break;case 6:ct=0,ir=null,Zl(s,a,y,6);break;case 8:av(),kt=6;break e;default:throw Error(r(462))}}Vk();break}catch(ae){FE(s,ae)}while(!0);return Zs=ro=null,q.H=d,q.A=p,ot=u,Ge!==null?0:(xt=null,Ze=0,cf(),kt)}function Vk(){for(;Ge!==null&&!Vg();)GE(Ge)}function GE(s){var a=gE(s.alternate,s,ii);s.memoizedProps=s.pendingProps,a===null?Hf(s):Ge=a}function KE(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=cE(u,a,a.pendingProps,a.type,void 0,Ze);break;case 11:a=cE(u,a,a.pendingProps,a.type.render,a.ref,Ze);break;case 5:wy(a);default:vE(u,a),a=Ge=H0(a,ii),a=gE(u,a,ii)}s.memoizedProps=s.pendingProps,a===null?Hf(s):Ge=a}function Zl(s,a,u,d){Zs=ro=null,wy(a),Ll=null,Lc=0;var p=a.return;try{if(Sk(s,p,a,u,Ze)){kt=1,Of(s,_r(u,s.current)),Ge=null;return}}catch(y){if(p!==null)throw Ge=p,y;kt=1,Of(s,_r(u,s.current)),Ge=null;return}a.flags&32768?(Je||d===1?s=!0:Hl||(Ze&536870912)!==0?s=!1:(Qi=s=!0,(d===2||d===9||d===3||d===6)&&(d=rr.current,d!==null&&d.tag===13&&(d.flags|=16384))),QE(a,s)):Hf(a)}function Hf(s){var a=s;do{if((a.flags&32768)!==0){QE(a,Qi);return}s=a.return;var u=Rk(a.alternate,a,ii);if(u!==null){Ge=u;return}if(a=a.sibling,a!==null){Ge=a;return}Ge=a=s}while(a!==null);kt===0&&(kt=5)}function QE(s,a){do{var u=Ck(s.alternate,s);if(u!==null){u.flags&=32767,Ge=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){Ge=s;return}Ge=s=u}while(s!==null);kt=6,Ge=null}function ZE(s,a,u,d,p,y,E,N,U){s.cancelPendingCommit=null;do Gf();while(rn!==0);if((ot&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=Zg,Ug(s,u,y,E,N,U),s===xt&&(Ge=xt=null,Ze=0),Kl=a,Wi=s,ai=u,rv=y,sv=p,LE=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,$k(Ri,function(){return eT(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=q.T,q.T=null,p=Z.p,Z.p=2,E=ot,ot|=4;try{Nk(s,a,u)}finally{ot=E,Z.p=p,q.T=d}}rn=1,YE(),WE(),XE()}}function YE(){if(rn===1){rn=0;var s=Wi,a=Kl,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=q.T,q.T=null;var d=Z.p;Z.p=2;var p=ot;ot|=4;try{NE(a,s);var y=bv,E=j0(s.containerInfo),N=y.focusedElem,U=y.selectionRange;if(E!==N&&N&&N.ownerDocument&&M0(N.ownerDocument.documentElement,N)){if(U!==null&&qg(N)){var ee=U.start,ae=U.end;if(ae===void 0&&(ae=ee),"selectionStart"in N)N.selectionStart=ee,N.selectionEnd=Math.min(ae,N.value.length);else{var ue=N.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var re=te.getSelection(),Ee=N.textContent.length,Oe=Math.min(U.start,Ee),_t=U.end===void 0?Oe:Math.min(U.end,Ee);!re.extend&&Oe>_t&&(E=_t,_t=Oe,Oe=E);var G=P0(N,Oe),B=P0(N,_t);if(G&&B&&(re.rangeCount!==1||re.anchorNode!==G.node||re.anchorOffset!==G.offset||re.focusNode!==B.node||re.focusOffset!==B.offset)){var J=ue.createRange();J.setStart(G.node,G.offset),re.removeAllRanges(),Oe>_t?(re.addRange(J),re.extend(B.node,B.offset)):(J.setEnd(B.node,B.offset),re.addRange(J))}}}}for(ue=[],re=N;re=re.parentNode;)re.nodeType===1&&ue.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ue.length;N++){var oe=ue[N];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}sm=!!vv,bv=vv=null}finally{ot=p,Z.p=d,q.T=u}}s.current=a,rn=2}}function WE(){if(rn===2){rn=0;var s=Wi,a=Kl,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=q.T,q.T=null;var d=Z.p;Z.p=2;var p=ot;ot|=4;try{SE(s,a.alternate,a)}finally{ot=p,Z.p=d,q.T=u}}rn=3}}function XE(){if(rn===4||rn===3){rn=0,Mh();var s=Wi,a=Kl,u=ai,d=LE;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?rn=5:(rn=0,Kl=Wi=null,JE(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Yi=null),Bs(u),a=a.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(zr,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=q.T,p=Z.p,Z.p=2,q.T=null;try{for(var y=s.onRecoverableError,E=0;E<d.length;E++){var N=d[E];y(N.value,{componentStack:N.stack})}}finally{q.T=a,Z.p=p}}(ai&3)!==0&&Gf(),As(s),p=s.pendingLanes,(u&261930)!==0&&(p&42)!==0?s===iv?td++:(td=0,iv=s):td=0,nd(0)}}function JE(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,jc(a)))}function Gf(){return YE(),WE(),XE(),eT()}function eT(){if(rn!==5)return!1;var s=Wi,a=rv;rv=0;var u=Bs(ai),d=q.T,p=Z.p;try{Z.p=32>u?32:u,q.T=null,u=sv,sv=null;var y=Wi,E=ai;if(rn=0,Kl=Wi=null,ai=0,(ot&6)!==0)throw Error(r(331));var N=ot;if(ot|=4,ME(y.current),OE(y,y.current,E,u),ot=N,nd(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(zr,y)}catch{}return!0}finally{Z.p=p,q.T=d,JE(s,a)}}function tT(s,a,u){a=_r(u,a),a=Vy(s.stateNode,a,2),s=qi(s,a,2),s!==null&&(Ua(s,2),As(s))}function dt(s,a,u){if(s.tag===3)tT(s,s,u);else for(;a!==null;){if(a.tag===3){tT(a,s,u);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Yi===null||!Yi.has(d))){s=_r(u,s),u=nE(2),d=qi(a,u,2),d!==null&&(rE(u,d,a,s),Ua(d,2),As(d));break}}a=a.return}}function lv(s,a,u){var d=s.pingCache;if(d===null){d=s.pingCache=new kk;var p=new Set;d.set(a,p)}else p=d.get(a),p===void 0&&(p=new Set,d.set(a,p));p.has(u)||(ev=!0,p.add(u),s=Lk.bind(null,s,a,u),a.then(s,s))}function Lk(s,a,u){var d=s.pingCache;d!==null&&d.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,xt===s&&(Ze&u)===u&&(kt===4||kt===3&&(Ze&62914560)===Ze&&300>Nn()-Uf?(ot&2)===0&&Ql(s,0):tv|=u,Gl===Ze&&(Gl=0)),As(s)}function nT(s,a){a===0&&(a=$h()),s=eo(s,a),s!==null&&(Ua(s,a),As(s))}function zk(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),nT(s,u)}function Uk(s,a){var u=0;switch(s.tag){case 31:case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(u=p.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(a),nT(s,u)}function $k(s,a){return nn(s,a)}var Kf=null,Yl=null,uv=!1,Qf=!1,cv=!1,Ji=0;function As(s){s!==Yl&&s.next===null&&(Yl===null?Kf=Yl=s:Yl=Yl.next=s),Qf=!0,uv||(uv=!0,Bk())}function nd(s,a){if(!cv&&Qf){cv=!0;do for(var u=!1,d=Kf;d!==null;){if(s!==0){var p=d.pendingLanes;if(p===0)var y=0;else{var E=d.suspendedLanes,N=d.pingedLanes;y=(1<<31-Lt(42|s)+1)-1,y&=p&~(E&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,aT(d,y))}else y=Ze,y=ls(d,d===xt?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Ur(d,y)||(u=!0,aT(d,y));d=d.next}while(u);cv=!1}}function Fk(){rT()}function rT(){Qf=uv=!1;var s=0;Ji!==0&&Jk()&&(s=Ji);for(var a=Nn(),u=null,d=Kf;d!==null;){var p=d.next,y=sT(d,a);y===0?(d.next=null,u===null?Kf=p:u.next=p,p===null&&(Yl=u)):(u=d,(s!==0||(y&3)!==0)&&(Qf=!0)),d=p}rn!==0&&rn!==5||nd(s),Ji!==0&&(Ji=0)}function sT(s,a){for(var u=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var E=31-Lt(y),N=1<<E,U=p[E];U===-1?((N&u)===0||(N&d)!==0)&&(p[E]=zg(N,a)):U<=a&&(s.expiredLanes|=N),y&=~N}if(a=xt,u=Ze,u=ls(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,u===0||s===a&&(ct===2||ct===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Ii(d),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||Ur(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(d!==null&&Ii(d),Bs(u)){case 2:case 8:u=hc;break;case 32:u=Ri;break;case 268435456:u=jh;break;default:u=Ri}return d=iT.bind(null,s),u=nn(u,d),s.callbackPriority=a,s.callbackNode=u,a}return d!==null&&d!==null&&Ii(d),s.callbackPriority=2,s.callbackNode=null,2}function iT(s,a){if(rn!==0&&rn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(Gf()&&s.callbackNode!==u)return null;var d=Ze;return d=ls(s,s===xt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(UE(s,d,a),sT(s,Nn()),s.callbackNode!=null&&s.callbackNode===u?iT.bind(null,s):null)}function aT(s,a){if(Gf())return null;UE(s,a,!0)}function Bk(){tP(function(){(ot&6)!==0?nn(dc,Fk):rT()})}function dv(){if(Ji===0){var s=Ml;s===0&&(s=as,as<<=1,(as&261888)===0&&(as=256)),Ji=s}return Ji}function oT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:_l(""+s)}function lT(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function qk(s,a,u,d,p){if(a==="submit"&&u&&u.stateNode===p){var y=oT((p[un]||null).action),E=d.submitter;E&&(a=(a=E[un]||null)?oT(a.formAction):E.getAttribute("formAction"),a!==null&&(y=a,E=null));var N=new bs("action","action",null,d,p);s.push({event:N,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ji!==0){var U=E?lT(p,E):new FormData(p);Dy(u,{pending:!0,data:U,method:p.method,action:y},null,U)}}else typeof y=="function"&&(N.preventDefault(),U=E?lT(p,E):new FormData(p),Dy(u,{pending:!0,data:U,method:p.method,action:y},y,U))},currentTarget:p}]})}}for(var hv=0;hv<Qg.length;hv++){var fv=Qg[hv],Hk=fv.toLowerCase(),Gk=fv[0].toUpperCase()+fv.slice(1);Qr(Hk,"on"+Gk)}Qr(z0,"onAnimationEnd"),Qr(U0,"onAnimationIteration"),Qr($0,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(lk,"onTransitionRun"),Qr(uk,"onTransitionStart"),Qr(ck,"onTransitionCancel"),Qr(F0,"onTransitionEnd"),ps("onMouseEnter",["mouseout","mouseover"]),ps("onMouseLeave",["mouseout","mouseover"]),ps("onPointerEnter",["pointerout","pointerover"]),ps("onPointerLeave",["pointerout","pointerover"]),ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ms("onBeforeInput",["compositionend","keypress","textInput","paste"]),ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rd));function uT(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],p=d.event;d=d.listeners;e:{var y=void 0;if(a)for(var E=d.length-1;0<=E;E--){var N=d[E],U=N.instance,ee=N.currentTarget;if(N=N.listener,U!==y&&p.isPropagationStopped())break e;y=N,p.currentTarget=ee;try{y(p)}catch(ae){uf(ae)}p.currentTarget=null,y=U}else for(E=0;E<d.length;E++){if(N=d[E],U=N.instance,ee=N.currentTarget,N=N.listener,U!==y&&p.isPropagationStopped())break e;y=N,p.currentTarget=ee;try{y(p)}catch(ae){uf(ae)}p.currentTarget=null,y=U}}}}function Ke(s,a){var u=a[pl];u===void 0&&(u=a[pl]=new Set);var d=s+"__bubble";u.has(d)||(cT(a,s,2,!1),u.add(d))}function mv(s,a,u){var d=0;a&&(d|=4),cT(u,s,d,a)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function pv(s){if(!s[Zf]){s[Zf]=!0,pc.forEach(function(u){u!=="selectionchange"&&(Kk.has(u)||mv(u,!1,s),mv(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Zf]||(a[Zf]=!0,mv("selectionchange",!1,a))}}function cT(s,a,u,d){switch(zT(a)){case 2:var p=xP;break;case 8:p=wP;break;default:p=Nv}u=p.bind(null,a,u,s),p=void 0,!Ga||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(a,u,{capture:!0,passive:p}):s.addEventListener(a,u,!0):p!==void 0?s.addEventListener(a,u,{passive:p}):s.addEventListener(a,u,!1)}function gv(s,a,u,d,p){var y=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var N=d.stateNode.containerInfo;if(N===p)break;if(E===4)for(E=d.return;E!==null;){var U=E.tag;if((U===3||U===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;N!==null;){if(E=hs(N),E===null)return;if(U=E.tag,U===5||U===6||U===26||U===27){d=y=E;continue e}N=N.parentNode}}d=d.return}Pi(function(){var ee=y,ae=gr(u),ue=[];e:{var te=B0.get(s);if(te!==void 0){var re=bs,Ee=s;switch(s){case"keypress":if(Qa(u)===0)break e;case"keydown":case"keyup":re=af;break;case"focusin":Ee="focus",re=Ya;break;case"focusout":Ee="blur",re=Ya;break;case"beforeblur":case"afterblur":re=Ya;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Yh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=x;break;case z0:case U0:case $0:re=Xh;break;case F0:re=O;break;case"scroll":case"scrollend":re=Ic;break;case"wheel":re=ne;break;case"copy":case"cut":case"paste":re=Jh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Gs;break;case"toggle":case"beforetoggle":re=Le}var Oe=(a&4)!==0,_t=!Oe&&(s==="scroll"||s==="scrollend"),G=Oe?te!==null?te+"Capture":null:te;Oe=[];for(var B=ee,J;B!==null;){var oe=B;if(J=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||J===null||G===null||(oe=qr(B,G),oe!=null&&Oe.push(sd(B,oe,J))),_t)break;B=B.return}0<Oe.length&&(te=new re(te,Ee,null,u,ae),ue.push({event:te,listeners:Oe}))}}if((a&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",re=s==="mouseout"||s==="pointerout",te&&u!==Tc&&(Ee=u.relatedTarget||u.fromElement)&&(hs(Ee)||Ee[cs]))break e;if((re||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,re?(Ee=u.relatedTarget||u.toElement,re=ee,Ee=Ee?hs(Ee):null,Ee!==null&&(_t=o(Ee),Oe=Ee.tag,Ee!==_t||Oe!==5&&Oe!==27&&Oe!==6)&&(Ee=null)):(re=null,Ee=ee),re!==Ee)){if(Oe=Rc,oe="onMouseLeave",G="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Oe=Gs,oe="onPointerLeave",G="onPointerEnter",B="pointer"),_t=re==null?te:Jn(re),J=Ee==null?te:Jn(Ee),te=new Oe(oe,B+"leave",re,u,ae),te.target=_t,te.relatedTarget=J,oe=null,hs(ae)===ee&&(Oe=new Oe(G,B+"enter",Ee,u,ae),Oe.target=J,Oe.relatedTarget=_t,oe=Oe),_t=oe,re&&Ee)t:{for(Oe=Qk,G=re,B=Ee,J=0,oe=G;oe;oe=Oe(oe))J++;oe=0;for(var Ce=B;Ce;Ce=Oe(Ce))oe++;for(;0<J-oe;)G=Oe(G),J--;for(;0<oe-J;)B=Oe(B),oe--;for(;J--;){if(G===B||B!==null&&G===B.alternate){Oe=G;break t}G=Oe(G),B=Oe(B)}Oe=null}else Oe=null;re!==null&&dT(ue,te,re,Oe,!1),Ee!==null&&_t!==null&&dT(ue,_t,Ee,Oe,!0)}}e:{if(te=ee?Jn(ee):window,re=te.nodeName&&te.nodeName.toLowerCase(),re==="select"||re==="input"&&te.type==="file")var rt=R0;else if(A0(te))if(C0)rt=ik;else{rt=rk;var Ie=nk}else re=te.nodeName,!re||re.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&bl(ee.elementType)&&(rt=R0):rt=sk;if(rt&&(rt=rt(s,ee))){I0(ue,rt,u,ae);break e}Ie&&Ie(s,te,ee),s==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&xc(te,"number",te.value)}switch(Ie=ee?Jn(ee):window,s){case"focusin":(A0(Ie)||Ie.contentEditable==="true")&&(Il=Ie,Hg=ee,kc=null);break;case"focusout":kc=Hg=Il=null;break;case"mousedown":Gg=!0;break;case"contextmenu":case"mouseup":case"dragend":Gg=!1,V0(ue,u,ae);break;case"selectionchange":if(ok)break;case"keydown":case"keyup":V0(ue,u,ae)}var Fe;if(at)e:{switch(s){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Al?Wa(s,u)&&(Ye="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ye="onCompositionStart");Ye&&(ws&&u.locale!=="ko"&&(Al||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Al&&(Fe=Ac()):(vs=ae,Sc="value"in vs?vs.value:vs.textContent,Al=!0)),Ie=Yf(ee,Ye),0<Ie.length&&(Ye=new xs(Ye,s,null,u,ae),ue.push({event:Ye,listeners:Ie}),Fe?Ye.data=Fe:(Fe=Sl(u),Fe!==null&&(Ye.data=Fe)))),(Fe=vr?XO(s,u):JO(s,u))&&(Ye=Yf(ee,"onBeforeInput"),0<Ye.length&&(Ie=new xs("onBeforeInput","beforeinput",null,u,ae),ue.push({event:Ie,listeners:Ye}),Ie.data=Fe)),qk(ue,s,ee,u,ae)}uT(ue,a)})}function sd(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Yf(s,a){for(var u=a+"Capture",d=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=qr(s,u),p!=null&&d.unshift(sd(s,p,y)),p=qr(s,a),p!=null&&d.push(sd(s,p,y))),s.tag===3)return d;s=s.return}return[]}function Qk(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function dT(s,a,u,d,p){for(var y=a._reactName,E=[];u!==null&&u!==d;){var N=u,U=N.alternate,ee=N.stateNode;if(N=N.tag,U!==null&&U===d)break;N!==5&&N!==26&&N!==27||ee===null||(U=ee,p?(ee=qr(u,y),ee!=null&&E.unshift(sd(u,ee,U))):p||(ee=qr(u,y),ee!=null&&E.push(sd(u,ee,U)))),u=u.return}E.length!==0&&s.push({event:a,listeners:E})}var Zk=/\r\n?/g,Yk=/\u0000|\uFFFD/g;function hT(s){return(typeof s=="string"?s:""+s).replace(Zk,`
`).replace(Yk,"")}function fT(s,a){return a=hT(a),hT(s)===a}function bt(s,a,u,d,p,y){switch(u){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||Bn(s,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&Bn(s,""+d);break;case"className":er(s,"class",d);break;case"tabIndex":er(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":er(s,u,d);break;case"style":Ec(s,d,y);break;case"data":if(a!=="object"){er(s,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(u);break}d=_l(""+d),s.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(a!=="input"&&bt(s,a,"name",p.name,p,null),bt(s,a,"formEncType",p.formEncType,p,null),bt(s,a,"formMethod",p.formMethod,p,null),bt(s,a,"formTarget",p.formTarget,p,null)):(bt(s,a,"encType",p.encType,p,null),bt(s,a,"method",p.method,p,null),bt(s,a,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(u);break}d=_l(""+d),s.setAttribute(u,d);break;case"onClick":d!=null&&(s.onclick=Br);break;case"onScroll":d!=null&&Ke("scroll",s);break;case"onScrollEnd":d!=null&&Ke("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}u=_l(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,""+d):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":d===!0?s.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,d):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(u,d):s.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(u):s.setAttribute(u,d);break;case"popover":Ke("beforetoggle",s),Ke("toggle",s),yl(s,"popover",d);break;case"xlinkActuate":Kt(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Kt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Kt(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Kt(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Kt(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Kt(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Kt(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Kt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Kt(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":yl(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Zh.get(u)||u,yl(s,u,d))}}function yv(s,a,u,d,p,y){switch(u){case"style":Ec(s,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof d=="string"?Bn(s,d):(typeof d=="number"||typeof d=="bigint")&&Bn(s,""+d);break;case"onScroll":d!=null&&Ke("scroll",s);break;case"onScrollEnd":d!=null&&Ke("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Br);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gc.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(p=u.endsWith("Capture"),a=u.slice(2,p?u.length-7:void 0),y=s[un]||null,y=y!=null?y[u]:null,typeof y=="function"&&s.removeEventListener(a,y,p),typeof d=="function")){typeof y!="function"&&y!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,d,p);break e}u in s?s[u]=d:d===!0?s.setAttribute(u,""):yl(s,u,d)}}}function _n(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",s),Ke("load",s);var d=!1,p=!1,y;for(y in u)if(u.hasOwnProperty(y)){var E=u[y];if(E!=null)switch(y){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:bt(s,a,y,E,u,null)}}p&&bt(s,a,"srcSet",u.srcSet,u,null),d&&bt(s,a,"src",u.src,u,null);return;case"input":Ke("invalid",s);var N=y=E=p=null,U=null,ee=null;for(d in u)if(u.hasOwnProperty(d)){var ae=u[d];if(ae!=null)switch(d){case"name":p=ae;break;case"type":E=ae;break;case"checked":U=ae;break;case"defaultChecked":ee=ae;break;case"value":y=ae;break;case"defaultValue":N=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,a));break;default:bt(s,a,d,ae,u,null)}}Gh(s,y,N,U,ee,E,p,!1);return;case"select":Ke("invalid",s),d=E=y=null;for(p in u)if(u.hasOwnProperty(p)&&(N=u[p],N!=null))switch(p){case"value":y=N;break;case"defaultValue":E=N;break;case"multiple":d=N;default:bt(s,a,p,N,u,null)}a=y,u=E,s.multiple=!!d,a!=null?Ni(s,!!d,a,!1):u!=null&&Ni(s,!!d,u,!0);return;case"textarea":Ke("invalid",s),y=p=d=null;for(E in u)if(u.hasOwnProperty(E)&&(N=u[E],N!=null))switch(E){case"value":d=N;break;case"defaultValue":p=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:bt(s,a,E,N,u,null)}Di(s,d,p,y);return;case"option":for(U in u)u.hasOwnProperty(U)&&(d=u[U],d!=null)&&(U==="selected"?s.selected=d&&typeof d!="function"&&typeof d!="symbol":bt(s,a,U,d,u,null));return;case"dialog":Ke("beforetoggle",s),Ke("toggle",s),Ke("cancel",s),Ke("close",s);break;case"iframe":case"object":Ke("load",s);break;case"video":case"audio":for(d=0;d<rd.length;d++)Ke(rd[d],s);break;case"image":Ke("error",s),Ke("load",s);break;case"details":Ke("toggle",s);break;case"embed":case"source":case"link":Ke("error",s),Ke("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in u)if(u.hasOwnProperty(ee)&&(d=u[ee],d!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:bt(s,a,ee,d,u,null)}return;default:if(bl(a)){for(ae in u)u.hasOwnProperty(ae)&&(d=u[ae],d!==void 0&&yv(s,a,ae,d,u,void 0));return}}for(N in u)u.hasOwnProperty(N)&&(d=u[N],d!=null&&bt(s,a,N,d,u,null))}function Wk(s,a,u,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,N=null,U=null,ee=null,ae=null;for(re in u){var ue=u[re];if(u.hasOwnProperty(re)&&ue!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":U=ue;default:d.hasOwnProperty(re)||bt(s,a,re,null,d,ue)}}for(var te in d){var re=d[te];if(ue=u[te],d.hasOwnProperty(te)&&(re!=null||ue!=null))switch(te){case"type":y=re;break;case"name":p=re;break;case"checked":ee=re;break;case"defaultChecked":ae=re;break;case"value":E=re;break;case"defaultValue":N=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,a));break;default:re!==ue&&bt(s,a,te,re,d,ue)}}vl(s,E,N,U,ee,ae,y,p);return;case"select":re=E=N=te=null;for(y in u)if(U=u[y],u.hasOwnProperty(y)&&U!=null)switch(y){case"value":break;case"multiple":re=U;default:d.hasOwnProperty(y)||bt(s,a,y,null,d,U)}for(p in d)if(y=d[p],U=u[p],d.hasOwnProperty(p)&&(y!=null||U!=null))switch(p){case"value":te=y;break;case"defaultValue":N=y;break;case"multiple":E=y;default:y!==U&&bt(s,a,p,y,d,U)}a=N,u=E,d=re,te!=null?Ni(s,!!u,te,!1):!!d!=!!u&&(a!=null?Ni(s,!!u,a,!0):Ni(s,!!u,u?[]:"",!1));return;case"textarea":re=te=null;for(N in u)if(p=u[N],u.hasOwnProperty(N)&&p!=null&&!d.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:bt(s,a,N,null,d,p)}for(E in d)if(p=d[E],y=u[E],d.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":te=p;break;case"defaultValue":re=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&bt(s,a,E,p,d,y)}Kh(s,te,re);return;case"option":for(var Ee in u)te=u[Ee],u.hasOwnProperty(Ee)&&te!=null&&!d.hasOwnProperty(Ee)&&(Ee==="selected"?s.selected=!1:bt(s,a,Ee,null,d,te));for(U in d)te=d[U],re=u[U],d.hasOwnProperty(U)&&te!==re&&(te!=null||re!=null)&&(U==="selected"?s.selected=te&&typeof te!="function"&&typeof te!="symbol":bt(s,a,U,te,d,re));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in u)te=u[Oe],u.hasOwnProperty(Oe)&&te!=null&&!d.hasOwnProperty(Oe)&&bt(s,a,Oe,null,d,te);for(ee in d)if(te=d[ee],re=u[ee],d.hasOwnProperty(ee)&&te!==re&&(te!=null||re!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:bt(s,a,ee,te,d,re)}return;default:if(bl(a)){for(var _t in u)te=u[_t],u.hasOwnProperty(_t)&&te!==void 0&&!d.hasOwnProperty(_t)&&yv(s,a,_t,void 0,d,te);for(ae in d)te=d[ae],re=u[ae],!d.hasOwnProperty(ae)||te===re||te===void 0&&re===void 0||yv(s,a,ae,te,d,re);return}}for(var G in u)te=u[G],u.hasOwnProperty(G)&&te!=null&&!d.hasOwnProperty(G)&&bt(s,a,G,null,d,te);for(ue in d)te=d[ue],re=u[ue],!d.hasOwnProperty(ue)||te===re||te==null&&re==null||bt(s,a,ue,te,d,re)}function mT(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xk(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var p=u[d],y=p.transferSize,E=p.initiatorType,N=p.duration;if(y&&N&&mT(E)){for(E=0,N=p.responseEnd,d+=1;d<u.length;d++){var U=u[d],ee=U.startTime;if(ee>N)break;var ae=U.transferSize,ue=U.initiatorType;ae&&mT(ue)&&(U=U.responseEnd,E+=ae*(U<N?1:(N-ee)/(U-ee)))}if(--d,a+=8*(y+E)/(p.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var vv=null,bv=null;function Wf(s){return s.nodeType===9?s:s.ownerDocument}function pT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gT(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function _v(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var xv=null;function Jk(){var s=window.event;return s&&s.type==="popstate"?s===xv?!1:(xv=s,!0):(xv=null,!1)}var yT=typeof setTimeout=="function"?setTimeout:void 0,eP=typeof clearTimeout=="function"?clearTimeout:void 0,vT=typeof Promise=="function"?Promise:void 0,tP=typeof queueMicrotask=="function"?queueMicrotask:typeof vT<"u"?function(s){return vT.resolve(null).then(s).catch(nP)}:yT;function nP(s){setTimeout(function(){throw s})}function ea(s){return s==="head"}function bT(s,a){var u=a,d=0;do{var p=u.nextSibling;if(s.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"||u==="/&"){if(d===0){s.removeChild(p),eu(a);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")id(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,id(u);for(var y=u.firstChild;y;){var E=y.nextSibling,N=y.nodeName;y[ds]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&y.rel.toLowerCase()==="stylesheet"||u.removeChild(y),y=E}}else u==="body"&&id(s.ownerDocument.body);u=p}while(u);eu(a)}function _T(s,a){var u=s;s=0;do{var d=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=d}while(u)}function wv(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":wv(u),gl(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function rP(s,a,u,d){for(;s.nodeType===1;){var p=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[ds])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Sr(s.nextSibling),s===null)break}return null}function sP(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Sr(s.nextSibling),s===null))return null;return s}function xT(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Sr(s.nextSibling),s===null))return null;return s}function Ev(s){return s.data==="$?"||s.data==="$~"}function Tv(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function iP(s,a){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||u.readyState!=="loading")a();else{var d=function(){a(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Sr(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Sv=null;function wT(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(a===0)return Sr(s.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}s=s.nextSibling}return null}function ET(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return s;a--}else u!=="/$"&&u!=="/&"||a++}s=s.previousSibling}return null}function TT(s,a,u){switch(a=Wf(u),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function id(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);gl(s)}var Ar=new Map,ST=new Set;function Xf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var oi=Z.d;Z.d={f:aP,r:oP,D:lP,C:uP,L:cP,m:dP,X:fP,S:hP,M:mP};function aP(){var s=oi.f(),a=Bf();return s||a}function oP(s){var a=pr(s);a!==null&&a.tag===5&&a.type==="form"?Fw(a):oi.r(s)}var Wl=typeof document>"u"?null:document;function AT(s,a,u){var d=Wl;if(d&&typeof a=="string"&&a){var p=Fn(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof u=="string"&&(p+='[crossorigin="'+u+'"]'),ST.has(p)||(ST.add(p),s={rel:s,crossOrigin:u,href:a},d.querySelector(p)===null&&(a=d.createElement("link"),_n(a,"link",s),Gt(a),d.head.appendChild(a)))}}function lP(s){oi.D(s),AT("dns-prefetch",s,null)}function uP(s,a){oi.C(s,a),AT("preconnect",s,a)}function cP(s,a,u){oi.L(s,a,u);var d=Wl;if(d&&s&&a){var p='link[rel="preload"][as="'+Fn(a)+'"]';a==="image"&&u&&u.imageSrcSet?(p+='[imagesrcset="'+Fn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(p+='[imagesizes="'+Fn(u.imageSizes)+'"]')):p+='[href="'+Fn(s)+'"]';var y=p;switch(a){case"style":y=Xl(s);break;case"script":y=Jl(s)}Ar.has(y)||(s=b({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),Ar.set(y,s),d.querySelector(p)!==null||a==="style"&&d.querySelector(ad(y))||a==="script"&&d.querySelector(od(y))||(a=d.createElement("link"),_n(a,"link",s),Gt(a),d.head.appendChild(a)))}}function dP(s,a){oi.m(s,a);var u=Wl;if(u&&s){var d=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Fn(d)+'"][href="'+Fn(s)+'"]',y=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Jl(s)}if(!Ar.has(y)&&(s=b({rel:"modulepreload",href:s},a),Ar.set(y,s),u.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(od(y)))return}d=u.createElement("link"),_n(d,"link",s),Gt(d),u.head.appendChild(d)}}}function hP(s,a,u){oi.S(s,a,u);var d=Wl;if(d&&s){var p=fs(d).hoistableStyles,y=Xl(s);a=a||"default";var E=p.get(y);if(!E){var N={loading:0,preload:null};if(E=d.querySelector(ad(y)))N.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":a},u),(u=Ar.get(y))&&Av(s,u);var U=E=d.createElement("link");Gt(U),_n(U,"link",s),U._p=new Promise(function(ee,ae){U.onload=ee,U.onerror=ae}),U.addEventListener("load",function(){N.loading|=1}),U.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Jf(E,a,d)}E={type:"stylesheet",instance:E,count:1,state:N},p.set(y,E)}}}function fP(s,a){oi.X(s,a);var u=Wl;if(u&&s){var d=fs(u).hoistableScripts,p=Jl(s),y=d.get(p);y||(y=u.querySelector(od(p)),y||(s=b({src:s,async:!0},a),(a=Ar.get(p))&&Iv(s,a),y=u.createElement("script"),Gt(y),_n(y,"link",s),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(p,y))}}function mP(s,a){oi.M(s,a);var u=Wl;if(u&&s){var d=fs(u).hoistableScripts,p=Jl(s),y=d.get(p);y||(y=u.querySelector(od(p)),y||(s=b({src:s,async:!0,type:"module"},a),(a=Ar.get(p))&&Iv(s,a),y=u.createElement("script"),Gt(y),_n(y,"link",s),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(p,y))}}function IT(s,a,u,d){var p=(p=we.current)?Xf(p):null;if(!p)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Xl(u.href),u=fs(p).hoistableStyles,d=u.get(a),d||(d={type:"style",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Xl(u.href);var y=fs(p).hoistableStyles,E=y.get(s);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,E),(y=p.querySelector(ad(s)))&&!y._p&&(E.instance=y,E.state.loading=5),Ar.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ar.set(s,u),y||pP(p,s,u,E.state))),a&&d===null)throw Error(r(528,""));return E}if(a&&d!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Jl(u),u=fs(p).hoistableScripts,d=u.get(a),d||(d={type:"script",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Xl(s){return'href="'+Fn(s)+'"'}function ad(s){return'link[rel="stylesheet"]['+s+"]"}function RT(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function pP(s,a,u,d){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=s.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),_n(a,"link",u),Gt(a),s.head.appendChild(a))}function Jl(s){return'[src="'+Fn(s)+'"]'}function od(s){return"script[async]"+s}function CT(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var d=s.querySelector('style[data-href~="'+Fn(u.href)+'"]');if(d)return a.instance=d,Gt(d),d;var p=b({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Gt(d),_n(d,"style",p),Jf(d,u.precedence,s),a.instance=d;case"stylesheet":p=Xl(u.href);var y=s.querySelector(ad(p));if(y)return a.state.loading|=4,a.instance=y,Gt(y),y;d=RT(u),(p=Ar.get(p))&&Av(d,p),y=(s.ownerDocument||s).createElement("link"),Gt(y);var E=y;return E._p=new Promise(function(N,U){E.onload=N,E.onerror=U}),_n(y,"link",d),a.state.loading|=4,Jf(y,u.precedence,s),a.instance=y;case"script":return y=Jl(u.src),(p=s.querySelector(od(y)))?(a.instance=p,Gt(p),p):(d=u,(p=Ar.get(y))&&(d=b({},u),Iv(d,p)),s=s.ownerDocument||s,p=s.createElement("script"),Gt(p),_n(p,"link",d),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Jf(d,u.precedence,s));return a.instance}function Jf(s,a,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,y=p,E=0;E<d.length;E++){var N=d[E];if(N.dataset.precedence===a)y=N;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function Av(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Iv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var em=null;function NT(s,a,u){if(em===null){var d=new Map,p=em=new Map;p.set(u,d)}else p=em,d=p.get(u),d||(d=new Map,p.set(u,d));if(d.has(s))return d;for(d.set(s,null),u=u.getElementsByTagName(s),p=0;p<u.length;p++){var y=u[p];if(!(y[ds]||y[Ht]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(a)||"";E=s+E;var N=d.get(E);N?N.push(y):d.set(E,[y])}}return d}function DT(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function gP(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function OT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function yP(s,a,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var p=Xl(d.href),y=a.querySelector(ad(p));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=tm.bind(s),a.then(s,s)),u.state.loading|=4,u.instance=y,Gt(y);return}y=a.ownerDocument||a,d=RT(d),(p=Ar.get(p))&&Av(d,p),y=y.createElement("link"),Gt(y);var E=y;E._p=new Promise(function(N,U){E.onload=N,E.onerror=U}),_n(y,"link",d),u.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=tm.bind(s),a.addEventListener("load",u),a.addEventListener("error",u))}}var Rv=0;function vP(s,a){return s.stylesheets&&s.count===0&&rm(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var d=setTimeout(function(){if(s.stylesheets&&rm(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+a);0<s.imgBytes&&Rv===0&&(Rv=62500*Xk());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&rm(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Rv?50:800)+a);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(p)}}:null}function tm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var nm=null;function rm(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,nm=new Map,a.forEach(bP,s),nm=null,tm.call(s))}function bP(s,a){if(!(a.state.loading&4)){var u=nm.get(s);if(u)var d=u.get(null);else{u=new Map,nm.set(s,u);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(u.set(E.dataset.precedence,E),d=E)}d&&u.set(null,d)}p=a.instance,E=p.getAttribute("data-precedence"),y=u.get(E)||d,y===d&&u.set(null,p),u.set(E,p),this.count++,d=tm.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var ld={$$typeof:z,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function _P(s,a,u,d,p,y,E,N,U){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=us(0),this.hiddenUpdates=us(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function kT(s,a,u,d,p,y,E,N,U,ee,ae,ue){return s=new _P(s,a,u,E,U,ee,ae,ue,N),a=1,y===!0&&(a|=24),y=nr(3,null,null,a),s.current=y,y.stateNode=s,a=oy(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:d,isDehydrated:u,cache:a},dy(y),s}function PT(s){return s?(s=Nl,s):Nl}function MT(s,a,u,d,p,y){p=PT(p),d.context===null?d.context=p:d.pendingContext=p,d=Bi(a),d.payload={element:u},y=y===void 0?null:y,y!==null&&(d.callback=y),u=qi(s,d,a),u!==null&&(Qn(u,s,a),Uc(u,s,a))}function jT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Cv(s,a){jT(s,a),(s=s.alternate)&&jT(s,a)}function VT(s){if(s.tag===13||s.tag===31){var a=eo(s,67108864);a!==null&&Qn(a,s,67108864),Cv(s,67108864)}}function LT(s){if(s.tag===13||s.tag===31){var a=or();a=Fa(a);var u=eo(s,a);u!==null&&Qn(u,s,a),Cv(s,a)}}var sm=!0;function xP(s,a,u,d){var p=q.T;q.T=null;var y=Z.p;try{Z.p=2,Nv(s,a,u,d)}finally{Z.p=y,q.T=p}}function wP(s,a,u,d){var p=q.T;q.T=null;var y=Z.p;try{Z.p=8,Nv(s,a,u,d)}finally{Z.p=y,q.T=p}}function Nv(s,a,u,d){if(sm){var p=Dv(d);if(p===null)gv(s,a,d,im,u),UT(s,d);else if(TP(p,s,a,u,d))d.stopPropagation();else if(UT(s,d),a&4&&-1<EP.indexOf(s)){for(;p!==null;){var y=pr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=os(y.pendingLanes);if(E!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;E;){var U=1<<31-Lt(E);N.entanglements[1]|=U,E&=~U}As(y),(ot&6)===0&&($f=Nn()+500,nd(0))}}break;case 31:case 13:N=eo(y,2),N!==null&&Qn(N,y,2),Bf(),Cv(y,2)}if(y=Dv(d),y===null&&gv(s,a,d,im,u),y===p)break;p=y}p!==null&&d.stopPropagation()}else gv(s,a,d,null,u)}}function Dv(s){return s=gr(s),Ov(s)}var im=null;function Ov(s){if(im=null,s=hs(s),s!==null){var a=o(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=l(a),s!==null)return s;s=null}else if(u===31){if(s=c(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return im=s,null}function zT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(La()){case dc:return 2;case hc:return 8;case Ri:case Lg:return 32;case jh:return 268435456;default:return 32}default:return 32}}var kv=!1,ta=null,na=null,ra=null,ud=new Map,cd=new Map,sa=[],EP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function UT(s,a){switch(s){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":ud.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":cd.delete(a.pointerId)}}function dd(s,a,u,d,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:u,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},a!==null&&(a=pr(a),a!==null&&VT(a)),s):(s.eventSystemFlags|=d,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function TP(s,a,u,d,p){switch(a){case"focusin":return ta=dd(ta,s,a,u,d,p),!0;case"dragenter":return na=dd(na,s,a,u,d,p),!0;case"mouseover":return ra=dd(ra,s,a,u,d,p),!0;case"pointerover":var y=p.pointerId;return ud.set(y,dd(ud.get(y)||null,s,a,u,d,p)),!0;case"gotpointercapture":return y=p.pointerId,cd.set(y,dd(cd.get(y)||null,s,a,u,d,p)),!0}return!1}function $T(s){var a=hs(s.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){s.blockedOn=a,$r(s.priority,function(){LT(u)});return}}else if(a===31){if(a=c(u),a!==null){s.blockedOn=a,$r(s.priority,function(){LT(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function am(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Dv(s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);Tc=d,u.target.dispatchEvent(d),Tc=null}else return a=pr(u),a!==null&&VT(a),s.blockedOn=u,!1;a.shift()}return!0}function FT(s,a,u){am(s)&&u.delete(a)}function SP(){kv=!1,ta!==null&&am(ta)&&(ta=null),na!==null&&am(na)&&(na=null),ra!==null&&am(ra)&&(ra=null),ud.forEach(FT),cd.forEach(FT)}function om(s,a){s.blockedOn===a&&(s.blockedOn=null,kv||(kv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,SP)))}var lm=null;function BT(s){lm!==s&&(lm=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){lm===s&&(lm=null);for(var a=0;a<s.length;a+=3){var u=s[a],d=s[a+1],p=s[a+2];if(typeof d!="function"){if(Ov(d||u)===null)continue;break}var y=pr(u);y!==null&&(s.splice(a,3),a-=3,Dy(y,{pending:!0,data:p,method:u.method,action:d},d,p))}}))}function eu(s){function a(U){return om(U,s)}ta!==null&&om(ta,s),na!==null&&om(na,s),ra!==null&&om(ra,s),ud.forEach(a),cd.forEach(a);for(var u=0;u<sa.length;u++){var d=sa[u];d.blockedOn===s&&(d.blockedOn=null)}for(;0<sa.length&&(u=sa[0],u.blockedOn===null);)$T(u),u.blockedOn===null&&sa.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var p=u[d],y=u[d+1],E=p[un]||null;if(typeof y=="function")E||BT(u);else if(E){var N=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[un]||null)N=E.formAction;else if(Ov(p)!==null)continue}else N=E.action;typeof N=="function"?u[d+1]=N:(u.splice(d,3),d-=3),BT(u)}}}function qT(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return p=E})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function Pv(s){this._internalRoot=s}um.prototype.render=Pv.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,d=or();MT(u,d,s,a,null,null)},um.prototype.unmount=Pv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;MT(s.current,2,null,s,null,null),Bf(),a[cs]=null}};function um(s){this._internalRoot=s}um.prototype.unstable_scheduleHydration=function(s){if(s){var a=Fh();s={blockedOn:null,target:s,priority:a};for(var u=0;u<sa.length&&a!==0&&a<sa[u].priority;u++);sa.splice(u,0,s),u===0&&$T(s)}};var HT=e.version;if(HT!=="19.2.3")throw Error(r(527,HT,"19.2.3"));Z.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var AP={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cm.isDisabled&&cm.supportsFiber)try{zr=cm.inject(AP),pn=cm}catch{}}return fd.createRoot=function(s,a){if(!i(s))throw Error(r(299));var u=!1,d="",p=Xw,y=Jw,E=eE;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=kT(s,1,!1,null,null,u,d,null,p,y,E,qT),s[cs]=a.current,pv(s),new Pv(a)},fd.hydrateRoot=function(s,a,u){if(!i(s))throw Error(r(299));var d=!1,p="",y=Xw,E=Jw,N=eE,U=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(p=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(N=u.onRecoverableError),u.formState!==void 0&&(U=u.formState)),a=kT(s,1,!0,a,u??null,d,p,U,y,E,N,qT),a.context=PT(null),u=a.current,d=or(),d=Fa(d),p=Bi(d),p.callback=null,qi(u,p,d),u=d,a.current.lanes=u,Ua(a,u),As(a),s[cs]=a.current,pv(s),new um(a)},fd.version="19.2.3",fd}var t1;function LP(){if(t1)return Vv.exports;t1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vv.exports=VP(),Vv.exports}var zP=LP();var n1="popstate";function UP(t={}){function e(i,o){let{pathname:l="/",search:c="",hash:h=""}=al(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),xb("",{pathname:l,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=i.location.href,f=h.indexOf("#");c=f===-1?h:h.slice(0,f)}return c+"#"+(typeof o=="string"?o:Bd(o))}function r(i,o){Pr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return FP(e,n,r,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $P(){return Math.random().toString(36).substring(2,10)}function r1(t,e){return{usr:t.state,key:t.key,idx:e}}function xb(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?al(e):e,state:n,key:e&&e.key||r||$P()}}function Bd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function FP(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",h=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function b(){c="POP";let D=g(),V=D==null?null:D-f;f=D,h&&h({action:c,location:R.location,delta:V})}function _(D,V){c="PUSH";let $=xb(R.location,D,V);n&&n($,D),f=g()+1;let z=r1($,f),Q=R.createHref($);try{l.pushState(z,"",Q)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(Q)}o&&h&&h({action:c,location:R.location,delta:1})}function w(D,V){c="REPLACE";let $=xb(R.location,D,V);n&&n($,D),f=g();let z=r1($,f),Q=R.createHref($);l.replaceState(z,"",Q),o&&h&&h({action:c,location:R.location,delta:0})}function A(D){return BP(D)}let R={get action(){return c},get location(){return t(i,l)},listen(D){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(n1,b),h=D,()=>{i.removeEventListener(n1,b),h=null}},createHref(D){return e(i,D)},createURL:A,encodeLocation(D){let V=A(D);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:_,replace:w,go(D){return l.go(D)}};return R}function BP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Bd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function GI(t,e,n="/"){return qP(t,e,n,!1)}function qP(t,e,n,r){let i=typeof e=="string"?al(e):e,o=gi(i.pathname||"/",n);if(o==null)return null;let l=KI(t);HP(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=nM(o);c=eM(l[h],f,r)}return c}function KI(t,e=[],n=[],r="",i=!1){let o=(l,c,h=i,f)=>{let g={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;Nt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let b=pi([r,g.relativePath]),_=n.concat(g);l.children&&l.children.length>0&&(Nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),KI(l.children,e,_,b,h)),!(l.path==null&&!l.index)&&e.push({path:b,score:XP(b,l.index),routesMeta:_})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))o(l,c);else for(let h of QI(l.path))o(l,c,!0,h)}),e}function QI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=QI(r.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function HP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var GP=/^:[\w-]+$/,KP=3,QP=2,ZP=1,YP=10,WP=-2,s1=t=>t==="*";function XP(t,e){let n=t.split("/"),r=n.length;return n.some(s1)&&(r+=WP),e&&(r+=QP),n.filter(i=>!s1(i)).reduce((i,o)=>i+(GP.test(o)?KP:o===""?ZP:YP),r)}function JP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function eM(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],f=c===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",b=tp({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),_=h.route;if(!b&&f&&n&&!r[r.length-1].route.index&&(b=tp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!b)return null;Object.assign(i,b.params),l.push({params:i,pathname:pi([o,b.pathname]),pathnameBase:aM(pi([o,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(o=pi([o,b.pathnameBase]))}return l}function tp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:b},_)=>{if(g==="*"){let A=c[_]||"";l=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const w=c[_];return b&&!w?f[g]=void 0:f[g]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function tM(t,e=!1,n=!0){Pr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function gi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var ZI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rM=t=>ZI.test(t);function sM(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?al(t):t,o;if(n)if(rM(n))o=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Pr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?o=i1(n.substring(1),"/"):o=i1(n,e)}else o=e;return{pathname:o,search:oM(r),hash:lM(i)}}function i1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $v(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function YI(t){let e=iM(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function WI(t,e,n,r=!1){let i;typeof t=="string"?i=al(t):(i={...t},Nt(!i.pathname||!i.pathname.includes("?"),$v("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),$v("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),$v("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=n;else{let b=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),b-=1;i.pathname=_.join("/")}c=b>=0?e[b]:"/"}let h=sM(i,c),f=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var pi=t=>t.join("/").replace(/\/\/+/g,"/"),aM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,uM=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function cM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function dM(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var XI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function JI(t,e){let n=t;if(typeof n!="string"||!ZI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(XI)try{let o=new URL(window.location.href),l=n.startsWith("//")?new URL(o.protocol+n):new URL(n),c=gi(l.pathname,e);l.origin===o.origin&&c!=null?n=c+l.search+l.hash:i=!0}catch{Pr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eR=["POST","PUT","PATCH","DELETE"];new Set(eR);var hM=["GET",...eR];new Set(hM);var Uu=S.createContext(null);Uu.displayName="DataRouter";var Bp=S.createContext(null);Bp.displayName="DataRouterState";var fM=S.createContext(!1),tR=S.createContext({isTransitioning:!1});tR.displayName="ViewTransition";var mM=S.createContext(new Map);mM.displayName="Fetchers";var pM=S.createContext(null);pM.displayName="Await";var Mr=S.createContext(null);Mr.displayName="Navigation";var hh=S.createContext(null);hh.displayName="Location";var $s=S.createContext({outlet:null,matches:[],isDataRoute:!1});$s.displayName="Route";var N_=S.createContext(null);N_.displayName="RouteError";var nR="REACT_ROUTER_ERROR",gM="REDIRECT",yM="ROUTE_ERROR_RESPONSE";function vM(t){if(t.startsWith(`${nR}:${gM}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function bM(t){if(t.startsWith(`${nR}:${yM}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new uM(e.status,e.statusText,e.data)}catch{}}function _M(t,{relative:e}={}){Nt(fh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Mr),{hash:i,pathname:o,search:l}=mh(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:pi([n,o])),r.createHref({pathname:c,search:l,hash:i})}function fh(){return S.useContext(hh)!=null}function Na(){return Nt(fh(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(hh).location}var rR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sR(t){S.useContext(Mr).static||S.useLayoutEffect(t)}function xM(){let{isDataRoute:t}=S.useContext($s);return t?PM():wM()}function wM(){Nt(fh(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Uu),{basename:e,navigator:n}=S.useContext(Mr),{matches:r}=S.useContext($s),{pathname:i}=Na(),o=JSON.stringify(YI(r)),l=S.useRef(!1);return sR(()=>{l.current=!0}),S.useCallback((h,f={})=>{if(Pr(l.current,rR),!l.current)return;if(typeof h=="number"){n.go(h);return}let g=WI(h,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:pi([e,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[e,n,o,i,t])}S.createContext(null);function iR(){let{matches:t}=S.useContext($s),e=t[t.length-1];return e?e.params:{}}function mh(t,{relative:e}={}){let{matches:n}=S.useContext($s),{pathname:r}=Na(),i=JSON.stringify(YI(n));return S.useMemo(()=>WI(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function EM(t,e){return aR(t,e)}function aR(t,e,n,r,i){Nt(fh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=S.useContext(Mr),{matches:l}=S.useContext($s),c=l[l.length-1],h=c?c.params:{},f=c?c.pathname:"/",g=c?c.pathnameBase:"/",b=c&&c.route;{let $=b&&b.path||"";lR(f,!b||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let _=Na(),w;if(e){let $=typeof e=="string"?al(e):e;Nt(g==="/"||$.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${$.pathname}" was given in the \`location\` prop.`),w=$}else w=_;let A=w.pathname||"/",R=A;if(g!=="/"){let $=g.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice($.length).join("/")}let D=GI(t,{pathname:R});Pr(b||D!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Pr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=RM(D&&D.map($=>Object.assign({},$,{params:Object.assign({},h,$.params),pathname:pi([g,o.encodeLocation?o.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:pi([g,o.encodeLocation?o.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),l,n,r,i);return e&&V?S.createElement(hh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},V):V}function TM(){let t=kM(),e=cM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,l)}var SM=S.createElement(TM,null),oR=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=bM(t.digest);n&&(t=n)}let e=t!==void 0?S.createElement($s.Provider,{value:this.props.routeContext},S.createElement(N_.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(AM,{error:t},e):e}};oR.contextType=fM;var Fv=new WeakMap;function AM({children:t,error:e}){let{basename:n}=S.useContext(Mr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=vM(e.digest);if(r){let i=Fv.get(e);if(i)throw i;let o=JI(r.location,n);if(XI&&!Fv.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw Fv.set(e,l),l}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function IM({routeContext:t,match:e,children:n}){let r=S.useContext(Uu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement($s.Provider,{value:t},n)}function RM(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let g=o.findIndex(b=>b.route.id&&l?.[b.route.id]!==void 0);Nt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let c=!1,h=-1;if(n)for(let g=0;g<o.length;g++){let b=o[g];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(h=g),b.route.id){let{loaderData:_,errors:w}=n,A=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!w||w[b.route.id]===void 0);if(b.route.lazy||A){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let f=n&&r?(g,b)=>{r(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:dM(n.matches),errorInfo:b})}:void 0;return o.reduceRight((g,b,_)=>{let w,A=!1,R=null,D=null;n&&(w=l&&b.route.id?l[b.route.id]:void 0,R=b.route.errorElement||SM,c&&(h<0&&_===0?(lR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,D=null):h===_&&(A=!0,D=b.route.hydrateFallbackElement||null)));let V=e.concat(o.slice(0,_+1)),$=()=>{let z;return w?z=R:A?z=D:b.route.Component?z=S.createElement(b.route.Component,null):b.route.element?z=b.route.element:z=g,S.createElement(IM,{match:b,routeContext:{outlet:g,matches:V,isDataRoute:n!=null},children:z})};return n&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?S.createElement(oR,{location:n.location,revalidation:n.revalidation,component:R,error:w,children:$(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:f}):$()},null)}function D_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CM(t){let e=S.useContext(Uu);return Nt(e,D_(t)),e}function NM(t){let e=S.useContext(Bp);return Nt(e,D_(t)),e}function DM(t){let e=S.useContext($s);return Nt(e,D_(t)),e}function O_(t){let e=DM(t),n=e.matches[e.matches.length-1];return Nt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function OM(){return O_("useRouteId")}function kM(){let t=S.useContext(N_),e=NM("useRouteError"),n=O_("useRouteError");return t!==void 0?t:e.errors?.[n]}function PM(){let{router:t}=CM("useNavigate"),e=O_("useNavigate"),n=S.useRef(!1);return sR(()=>{n.current=!0}),S.useCallback(async(i,o={})=>{Pr(n.current,rR),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var a1={};function lR(t,e,n){!e&&!a1[t]&&(a1[t]=!0,Pr(!1,n))}S.memo(MM);function MM({routes:t,future:e,state:n,onError:r}){return aR(t,void 0,n,r,e)}function Wr(t){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:l}){Nt(!fh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=S.useMemo(()=>({basename:c,navigator:i,static:o,unstable_useTransitions:l,future:{}}),[c,i,o,l]);typeof n=="string"&&(n=al(n));let{pathname:f="/",search:g="",hash:b="",state:_=null,key:w="default"}=n,A=S.useMemo(()=>{let R=gi(f,c);return R==null?null:{location:{pathname:R,search:g,hash:b,state:_,key:w},navigationType:r}},[c,f,g,b,_,w,r]);return Pr(A!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:S.createElement(Mr.Provider,{value:h},S.createElement(hh.Provider,{children:e,value:A}))}function VM({children:t,location:e}){return EM(wb(t),e)}function wb(t,e=[]){let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let o=[...e,i];if(r.type===S.Fragment){n.push.apply(n,wb(r.props.children,o));return}Nt(r.type===Wr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=wb(r.props.children,o)),n.push(l)}),n}var Dm="get",Om="application/x-www-form-urlencoded";function qp(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function LM(t){return qp(t)&&t.tagName.toLowerCase()==="button"}function zM(t){return qp(t)&&t.tagName.toLowerCase()==="form"}function UM(t){return qp(t)&&t.tagName.toLowerCase()==="input"}function $M(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FM(t,e){return t.button===0&&(!e||e==="_self")&&!$M(t)}var dm=null;function BM(){if(dm===null)try{new FormData(document.createElement("form"),0),dm=!1}catch{dm=!0}return dm}var qM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bv(t){return t!=null&&!qM.has(t)?(Pr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Om}"`),null):t}function HM(t,e){let n,r,i,o,l;if(zM(t)){let c=t.getAttribute("action");r=c?gi(c,e):null,n=t.getAttribute("method")||Dm,i=Bv(t.getAttribute("enctype"))||Om,o=new FormData(t)}else if(LM(t)||UM(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||c.getAttribute("action");if(r=h?gi(h,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Dm,i=Bv(t.getAttribute("formenctype"))||Bv(c.getAttribute("enctype"))||Om,o=new FormData(c,t),!BM()){let{name:f,type:g,value:b}=t;if(g==="image"){let _=f?`${f}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else f&&o.append(f,b)}}else{if(qp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dm,r=null,i=Om,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function k_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function GM(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&gi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function KM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ZM(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await KM(o,n);return l.links?l.links():[]}return[]}));return JM(r.flat(1).filter(QM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function o1(t,e,n,r,i,o){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,c=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,f)=>l(h,f)||c(h,f)):o==="data"?e.filter((h,f)=>{let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function YM(t,e,{includeHydrateFallback:n}={}){return WM(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function WM(t){return[...new Set(t)]}function XM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function JM(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(XM(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function uR(){let t=S.useContext(Uu);return k_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ej(){let t=S.useContext(Bp);return k_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var P_=S.createContext(void 0);P_.displayName="FrameworkContext";function cR(){let t=S.useContext(P_);return k_(t,"You must render this element inside a <HydratedRouter> element"),t}function tj(t,e){let n=S.useContext(P_),[r,i]=S.useState(!1),[o,l]=S.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:b}=e,_=S.useRef(null);S.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let R=V=>{V.forEach($=>{l($.isIntersecting)})},D=new IntersectionObserver(R,{threshold:.5});return _.current&&D.observe(_.current),()=>{D.disconnect()}}},[t]),S.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let w=()=>{i(!0)},A=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,_,{}]:[o,_,{onFocus:md(c,w),onBlur:md(h,A),onMouseEnter:md(f,w),onMouseLeave:md(g,A),onTouchStart:md(b,w)}]:[!1,_,{}]}function md(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function nj({page:t,...e}){let{router:n}=uR(),r=S.useMemo(()=>GI(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(sj,{page:t,matches:r,...e}):null}function rj(t){let{manifest:e,routeModules:n}=cR(),[r,i]=S.useState([]);return S.useEffect(()=>{let o=!1;return ZM(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function sj({page:t,matches:e,...n}){let r=Na(),{future:i,manifest:o,routeModules:l}=cR(),{basename:c}=uR(),{loaderData:h,matches:f}=ej(),g=S.useMemo(()=>o1(t,e,f,o,r,"data"),[t,e,f,o,r]),b=S.useMemo(()=>o1(t,e,f,o,r,"assets"),[t,e,f,o,r]),_=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let R=new Set,D=!1;if(e.forEach($=>{let z=o.routes[$.route.id];!z||!z.hasLoader||(!g.some(Q=>Q.route.id===$.route.id)&&$.route.id in h&&l[$.route.id]?.shouldRevalidate||z.hasClientLoader?D=!0:R.add($.route.id))}),R.size===0)return[];let V=GM(t,c,i.unstable_trailingSlashAwareDataRequests,"data");return D&&R.size>0&&V.searchParams.set("_routes",e.filter($=>R.has($.route.id)).map($=>$.route.id).join(",")),[V.pathname+V.search]},[c,i.unstable_trailingSlashAwareDataRequests,h,r,o,g,e,t,l]),w=S.useMemo(()=>YM(b,o),[b,o]),A=rj(b);return S.createElement(S.Fragment,null,_.map(R=>S.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),w.map(R=>S.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),A.map(({key:R,link:D})=>S.createElement("link",{key:R,nonce:n.nonce,...D})))}function ij(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aj&&(window.__reactRouterVersion="7.12.0")}catch{}function oj({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=S.useRef();i.current==null&&(i.current=UP({window:r,v5Compat:!0}));let o=i.current,[l,c]=S.useState({action:o.action,location:o.location}),h=S.useCallback(f=>{n===!1?c(f):S.startTransition(()=>c(f))},[n]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.createElement(jM,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:n})}var dR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pt=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:h,to:f,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:_,...w},A){let{basename:R,unstable_useTransitions:D}=S.useContext(Mr),V=typeof f=="string"&&dR.test(f),$=JI(f,R);f=$.to;let z=_M(f,{relative:i}),[Q,W,se]=tj(r,w),C=dj(f,{replace:l,state:c,target:h,preventScrollReset:g,relative:i,viewTransition:b,unstable_defaultShouldRevalidate:_,unstable_useTransitions:D});function I(M){e&&e(M),M.defaultPrevented||C(M)}let k=S.createElement("a",{...w,...se,href:$.absoluteURL||z,onClick:$.isExternal||o?e:I,ref:ij(A,W),target:h,"data-discover":!V&&n==="render"?"true":void 0});return Q&&!V?S.createElement(S.Fragment,null,k,S.createElement(nj,{page:z})):k});Pt.displayName="Link";var lj=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:h,...f},g){let b=mh(l,{relative:f.relative}),_=Na(),w=S.useContext(Bp),{navigator:A,basename:R}=S.useContext(Mr),D=w!=null&&gj(b)&&c===!0,V=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,$=_.pathname,z=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||($=$.toLowerCase(),z=z?z.toLowerCase():null,V=V.toLowerCase()),z&&R&&(z=gi(z,R)||z);const Q=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let W=$===V||!i&&$.startsWith(V)&&$.charAt(Q)==="/",se=z!=null&&(z===V||!i&&z.startsWith(V)&&z.charAt(V.length)==="/"),C={isActive:W,isPending:se,isTransitioning:D},I=W?e:void 0,k;typeof r=="function"?k=r(C):k=[r,W?"active":null,se?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(C):o;return S.createElement(Pt,{...f,"aria-current":I,className:k,ref:g,style:M,to:l,viewTransition:c},typeof h=="function"?h(C):h)});lj.displayName="NavLink";var uj=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=Dm,action:c,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:_,...w},A)=>{let{unstable_useTransitions:R}=S.useContext(Mr),D=mj(),V=pj(c,{relative:f}),$=l.toLowerCase()==="get"?"get":"post",z=typeof c=="string"&&dR.test(c),Q=W=>{if(h&&h(W),W.defaultPrevented)return;W.preventDefault();let se=W.nativeEvent.submitter,C=se?.getAttribute("formmethod")||l,I=()=>D(se||W.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:i,state:o,relative:f,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:_});R&&n!==!1?S.startTransition(()=>I()):I()};return S.createElement("form",{ref:A,method:$,action:V,onSubmit:r?h:Q,...w,"data-discover":!z&&t==="render"?"true":void 0})});uj.displayName="Form";function cj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hR(t){let e=S.useContext(Uu);return Nt(e,cj(t)),e}function dj(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:h}={}){let f=xM(),g=Na(),b=mh(t,{relative:o});return S.useCallback(_=>{if(FM(_,e)){_.preventDefault();let w=n!==void 0?n:Bd(g)===Bd(b),A=()=>f(t,{replace:w,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:c});h?S.startTransition(()=>A()):A()}},[g,f,b,n,r,e,t,i,o,l,c,h])}var hj=0,fj=()=>`__${String(++hj)}__`;function mj(){let{router:t}=hR("useSubmit"),{basename:e}=S.useContext(Mr),n=OM(),r=t.fetch,i=t.navigate;return S.useCallback(async(o,l={})=>{let{action:c,method:h,encType:f,formData:g,body:b}=HM(o,e);if(l.navigate===!1){let _=l.fetcherKey||fj();await r(_,n,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:b,formMethod:l.method||h,formEncType:l.encType||f,flushSync:l.flushSync})}else await i(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:b,formMethod:l.method||h,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function pj(t,{relative:e}={}){let{basename:n}=S.useContext(Mr),r=S.useContext($s);Nt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...mh(t||".",{relative:e})},l=Na();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(b=>b).forEach(b=>c.append("index",b));let g=c.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:pi([n,o.pathname])),Bd(o)}function gj(t,{relative:e}={}){let n=S.useContext(tR);Nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hR("useViewTransitionState"),i=mh(t,{relative:e});if(!n.isTransitioning)return!1;let o=gi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=gi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return tp(i.pathname,l)!=null||tp(i.pathname,o)!=null}var Yn=HI(),$u=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yj={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},vj=class{#e=yj;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},So=new vj;function bj(t){setTimeout(t,0)}var zo=typeof window>"u"||"Deno"in globalThis;function Mn(){}function _j(t,e){return typeof t=="function"?t(e):t}function Eb(t){return typeof t=="number"&&t>=0&&t!==1/0}function fR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ga(t,e){return typeof t=="function"?t(e):t}function Rr(t,e){return typeof t=="function"?t(e):t}function l1(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:l,stale:c}=t;if(l){if(r){if(e.queryHash!==M_(l,e.options))return!1}else if(!qd(e.queryKey,l))return!1}if(n!=="all"){const h=e.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||o&&!o(e))}function u1(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Uo(e.options.mutationKey)!==Uo(o))return!1}else if(!qd(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function M_(t,e){return(e?.queryKeyHashFn||Uo)(t)}function Uo(t){return JSON.stringify(t,(e,n)=>Tb(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function qd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>qd(t[n],e[n])):!1}var xj=Object.prototype.hasOwnProperty;function mR(t,e){if(t===e)return t;const n=c1(t)&&c1(e);if(!n&&!(Tb(t)&&Tb(e)))return e;const i=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),l=o.length,c=n?new Array(l):{};let h=0;for(let f=0;f<l;f++){const g=n?f:o[f],b=t[g],_=e[g];if(b===_){c[g]=b,(n?f<i:xj.call(t,g))&&h++;continue}if(b===null||_===null||typeof b!="object"||typeof _!="object"){c[g]=_;continue}const w=mR(b,_);c[g]=w,w===b&&h++}return i===l&&h===i?t:c}function np(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function c1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Tb(t){if(!d1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!d1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function d1(t){return Object.prototype.toString.call(t)==="[object Object]"}function wj(t){return new Promise(e=>{So.setTimeout(e,t)})}function Sb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?mR(t,e):e}function Ej(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Tj(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var j_=Symbol();function pR(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===j_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function V_(t,e){return typeof t=="function"?t(...e):!!t}function Sj(t,e,n){let r=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??=e(),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var Aj=class extends $u{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!zo&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},L_=new Aj;function Ab(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var Ij=bj;function Rj(){let t=[],e=0,n=c=>{c()},r=c=>{c()},i=Ij;const o=c=>{e?t.push(c):i(()=>{n(c)})},l=()=>{const c=t;t=[],c.length&&i(()=>{r(()=>{c.forEach(h=>{n(h)})})})};return{batch:c=>{let h;e++;try{h=c()}finally{e--,e||l()}return h},batchCalls:c=>(...h)=>{o(()=>{c(...h)})},schedule:o,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var an=Rj(),Cj=class extends $u{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!zo&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},rp=new Cj;function Nj(t){return Math.min(1e3*2**t,3e4)}function gR(t){return(t??"online")==="online"?rp.isOnline():!0}var Ib=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function yR(t){let e=!1,n=0,r;const i=Ab(),o=()=>i.status!=="pending",l=R=>{if(!o()){const D=new Ib(R);_(D),t.onCancel?.(D)}},c=()=>{e=!0},h=()=>{e=!1},f=()=>L_.isFocused()&&(t.networkMode==="always"||rp.isOnline())&&t.canRun(),g=()=>gR(t.networkMode)&&t.canRun(),b=R=>{o()||(r?.(),i.resolve(R))},_=R=>{o()||(r?.(),i.reject(R))},w=()=>new Promise(R=>{r=D=>{(o()||f())&&R(D)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),A=()=>{if(o())return;let R;const D=n===0?t.initialPromise:void 0;try{R=D??t.fn()}catch(V){R=Promise.reject(V)}Promise.resolve(R).then(b).catch(V=>{if(o())return;const $=t.retry??(zo?0:3),z=t.retryDelay??Nj,Q=typeof z=="function"?z(n,V):z,W=$===!0||typeof $=="number"&&n<$||typeof $=="function"&&$(n,V);if(e||!W){_(V);return}n++,t.onFail?.(n,V),wj(Q).then(()=>f()?void 0:w()).then(()=>{e?_(V):A()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(r?.(),i),cancelRetry:c,continueRetry:h,canStart:g,start:()=>(g()?A():w().then(A),i)}}var vR=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Eb(this.gcTime)&&(this.#e=So.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(zo?1/0:300*1e3))}clearGcTimeout(){this.#e&&(So.clearTimeout(this.#e),this.#e=void 0)}},Dj=class extends vR{#e;#t;#n;#s;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=f1(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=f1(this.options);n.data!==void 0&&(this.setState(h1(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=Sb(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(Mn).catch(Mn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Rr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===j_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ga(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!fR(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},o=()=>{const h=pR(this.options,n),g=(()=>{const b={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(b),b})();return this.#o=!1,this.options.persister?this.options.persister(h,g,this):h(g)},c=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return i(h),h})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#i({type:"fetch",meta:c.fetchOptions?.meta}),this.#r=yR({initialPromise:n?.initialPromise,fn:c.fetchFn,onCancel:h=>{h instanceof Ib&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(h,f)=>{this.#i({type:"failed",failureCount:h,error:f})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const h=await this.#r.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Ib){if(h.silent)return this.#r.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#i({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...bR(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...h1(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),an.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function bR(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function h1(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function f1(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Oj=class extends $u{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#o=Ab(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#p;#h;#f;#u;#c;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),m1(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Rb(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Rb(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Rr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!np(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&p1(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||Rr(this.options.enabled,this.#t)!==Rr(e.enabled,this.#t)||ga(this.options.staleTime,this.#t)!==ga(e.staleTime,this.#t))&&this.#g();const i=this.#y();r&&(this.#t!==n||Rr(this.options.enabled,this.#t)!==Rr(e.enabled,this.#t)||i!==this.#l)&&this.#v(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Pj(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Mn)),e}#g(){this.#_();const t=ga(this.options.staleTime,this.#t);if(zo||this.#s.isStale||!Eb(t))return;const n=fR(this.#s.dataUpdatedAt,t)+1;this.#u=So.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#l=t,!(zo||Rr(this.options.enabled,this.#t)===!1||!Eb(this.#l)||this.#l===0)&&(this.#c=So.setInterval(()=>{(this.options.refetchIntervalInBackground||L_.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#_(){this.#u&&(So.clearTimeout(this.#u),this.#u=void 0)}#x(){this.#c&&(So.clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#s,o=this.#r,l=this.#a,h=t!==n?t.state:this.#n,{state:f}=t;let g={...f},b=!1,_;if(e._optimisticResults){const I=this.hasListeners(),k=!I&&m1(t,e),M=I&&p1(t,n,e,r);(k||M)&&(g={...g,...bR(f.data,t.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:w,errorUpdatedAt:A,status:R}=g;_=g.data;let D=!1;if(e.placeholderData!==void 0&&_===void 0&&R==="pending"){let I;i?.isPlaceholderData&&e.placeholderData===l?.placeholderData?(I=i.data,D=!0):I=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,I!==void 0&&(R="success",_=Sb(i?.data,I,e),b=!0)}if(e.select&&_!==void 0&&!D)if(i&&_===o?.data&&e.select===this.#p)_=this.#h;else try{this.#p=e.select,_=e.select(_),_=Sb(i?.data,_,e),this.#h=_,this.#i=null}catch(I){this.#i=I}this.#i&&(w=this.#i,_=this.#h,A=Date.now(),R="error");const V=g.fetchStatus==="fetching",$=R==="pending",z=R==="error",Q=$&&V,W=_!==void 0,C={status:R,fetchStatus:g.fetchStatus,isPending:$,isSuccess:R==="success",isError:z,isInitialLoading:Q,isLoading:Q,data:_,dataUpdatedAt:g.dataUpdatedAt,error:w,errorUpdatedAt:A,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:V,isRefetching:V&&!$,isLoadingError:z&&!W,isPaused:g.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:z&&W,isStale:z_(t,e),refetch:this.refetch,promise:this.#o,isEnabled:Rr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=j=>{C.status==="error"?j.reject(C.error):C.data!==void 0&&j.resolve(C.data)},k=()=>{const j=this.#o=C.promise=Ab();I(j)},M=this.#o;switch(M.status){case"pending":t.queryHash===n.queryHash&&I(M);break;case"fulfilled":(C.status==="error"||C.data!==M.value)&&k();break;case"rejected":(C.status!=="error"||C.error!==M.reason)&&k();break}}return C}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),np(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#m.size)return!0;const o=new Set(i??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(l=>{const c=l;return this.#s[c]!==t[c]&&o.has(c)})};this.#E({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#E(t){an.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function kj(t,e){return Rr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function m1(t,e){return kj(t,e)||t.state.data!==void 0&&Rb(t,e,e.refetchOnMount)}function Rb(t,e,n){if(Rr(e.enabled,t)!==!1&&ga(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&z_(t,e)}return!1}function p1(t,e,n,r){return(t!==e||Rr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&z_(t,n)}function z_(t,e){return Rr(e.enabled,t)!==!1&&t.isStaleByTime(ga(e.staleTime,t))}function Pj(t,e){return!np(t.getCurrentResult(),e)}function g1(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},h=0;const f=async()=>{let g=!1;const b=A=>{Sj(A,()=>e.signal,()=>g=!0)},_=pR(e.options,e.fetchOptions),w=async(A,R,D)=>{if(g)return Promise.reject();if(R==null&&A.pages.length)return Promise.resolve(A);const $=(()=>{const se={client:e.client,queryKey:e.queryKey,pageParam:R,direction:D?"backward":"forward",meta:e.options.meta};return b(se),se})(),z=await _($),{maxPages:Q}=e.options,W=D?Tj:Ej;return{pages:W(A.pages,z,Q),pageParams:W(A.pageParams,R,Q)}};if(i&&o.length){const A=i==="backward",R=A?Mj:y1,D={pages:o,pageParams:l},V=R(r,D);c=await w(D,V,A)}else{const A=t??o.length;do{const R=h===0?l[0]??r.initialPageParam:y1(r,c);if(h>0&&R==null)break;c=await w(c,R),h++}while(h<A)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=f}}}function y1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Mj(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var jj=class extends vR{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||_R(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=yR({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#r({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",o=!this.#s.canStart();try{if(i)n();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,r);const c=await this.options.onMutate?.(e,r);c!==this.state.context&&this.#r({type:"pending",context:c,variables:e,isPaused:o})}const l=await this.#s.start();return await this.#n.config.onSuccess?.(l,e,this.state.context,this,r),await this.options.onSuccess?.(l,e,this.state.context,r),await this.#n.config.onSettled?.(l,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(l,null,e,this.state.context,r),this.#r({type:"success",data:l}),l}catch(l){try{await this.#n.config.onError?.(l,e,this.state.context,this,r)}catch(c){Promise.reject(c)}try{await this.options.onError?.(l,e,this.state.context,r)}catch(c){Promise.reject(c)}try{await this.#n.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,r)}catch(c){Promise.reject(c)}try{await this.options.onSettled?.(void 0,l,e,this.state.context,r)}catch(c){Promise.reject(c)}throw this.#r({type:"error",error:l}),l}finally{this.#n.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),an.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function _R(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vj=class extends $u{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new jj({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=hm(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=hm(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=hm(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=hm(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){an.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>u1(e,n))}findAll(t={}){return this.getAll().filter(e=>u1(t,e))}notify(t){an.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return an.batch(()=>Promise.all(t.map(e=>e.continue().catch(Mn))))}};function hm(t){return t.options.scope?.id}var Lj=class extends $u{#e;#t=void 0;#n;#s;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),np(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Uo(n.mutationKey)!==Uo(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??_R();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){an.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,n,r,i)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(e.data,null,n,r,i)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,n,r,i)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(void 0,e.error,n,r,i)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},zj=class extends $u{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??M_(r,e);let o=this.get(i);return o||(o=new Dj({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){an.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>l1(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>l1(t,n)):e}notify(t){an.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){an.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){an.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Uj=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new zj,this.#t=t.mutationCache||new Vj,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=L_.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=rp.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ga(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,l=_j(e,o);if(l!==void 0)return this.#e.build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return an.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;an.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return an.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=an.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Mn).catch(Mn)}invalidateQueries(t,e={}){return an.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=an.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Mn)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Mn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(ga(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Mn).catch(Mn)}fetchInfiniteQuery(t){return t.behavior=g1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Mn).catch(Mn)}ensureInfiniteQueryData(t){return t.behavior=g1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return rp.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(Uo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{qd(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Uo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{qd(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=M_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===j_&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},xR=S.createContext(void 0),Fu=t=>{const e=S.useContext(xR);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},$j=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),v.jsx(xR.Provider,{value:t,children:e})),wR=S.createContext(!1),Fj=()=>S.useContext(wR);wR.Provider;function Bj(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var qj=S.createContext(Bj()),Hj=()=>S.useContext(qj),Gj=(t,e,n)=>{const r=n?.state.error&&typeof t.throwOnError=="function"?V_(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},Kj=t=>{S.useEffect(()=>{t.clearReset()},[t])},Qj=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||V_(n,[t.error,r])),Zj=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Yj=(t,e)=>t.isLoading&&t.isFetching&&!e,Wj=(t,e)=>t?.suspense&&e.isPending,v1=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Xj(t,e,n){const r=Fj(),i=Hj(),o=Fu(),l=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(l);const c=o.getQueryCache().get(l.queryHash);l._optimisticResults=r?"isRestoring":"optimistic",Zj(l),Gj(l,i,c),Kj(i);const h=!o.getQueryCache().get(l.queryHash),[f]=S.useState(()=>new e(o,l)),g=f.getOptimisticResult(l),b=!r&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(_=>{const w=b?f.subscribe(an.batchCalls(_)):Mn;return f.updateResult(),w},[f,b]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),S.useEffect(()=>{f.setOptions(l)},[l,f]),Wj(l,g))throw v1(l,f,i);if(Qj({result:g,errorResetBoundary:i,throwOnError:l.throwOnError,query:c,suspense:l.suspense}))throw g.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(l,g),l.experimental_prefetchInRender&&!zo&&Yj(g,r)&&(h?v1(l,f,i):c?.promise)?.catch(Mn).finally(()=>{f.updateResult()}),l.notifyOnChangeProps?g:f.trackResult(g)}function ER(t,e){return Xj(t,Oj)}function Hp(t,e){const n=Fu(),[r]=S.useState(()=>new Lj(n,t));S.useEffect(()=>{r.setOptions(t)},[r,t]);const i=S.useSyncExternalStore(S.useCallback(l=>r.subscribe(an.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=S.useCallback((l,c)=>{r.mutate(l,c).catch(Mn)},[r]);if(i.error&&V_(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}const Jj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),e4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),b1=t=>{const e=e4(t);return e.charAt(0).toUpperCase()+e.slice(1)},TR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),t4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var n4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const r4=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},h)=>S.createElement("svg",{ref:h,...n4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:TR("lucide",i),...!o&&!t4(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,g])=>S.createElement(f,g)),...Array.isArray(o)?o:[o]]));const lt=(t,e)=>{const n=S.forwardRef(({className:r,...i},o)=>S.createElement(r4,{ref:o,iconNode:e,className:TR(`lucide-${Jj(b1(t))}`,`lucide-${t}`,r),...i}));return n.displayName=b1(t),n};const s4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Cb=lt("activity",s4);const i4=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],SR=lt("arrow-down",i4);const a4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],o4=lt("arrow-left",a4);const l4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qv=lt("arrow-right",l4);const u4=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],AR=lt("arrow-up",u4);const c4=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],d4=lt("calculator",c4);const h4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$o=lt("calendar",h4);const f4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],IR=lt("circle-alert",f4);const m4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gp=lt("circle-check-big",m4);const p4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_1=lt("circle-check",p4);const g4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],y4=lt("clipboard-list",g4);const v4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],U_=lt("clock",v4);const b4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_4=lt("copy",b4);const x4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],w4=lt("dollar-sign",x4);const E4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Kp=lt("external-link",E4);const T4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],S4=lt("house",T4);const A4=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],x1=lt("layout-grid",A4);const I4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Qp=lt("map-pin",I4);const R4=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],RR=lt("medal",R4);const C4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],N4=lt("menu",C4);const D4=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],O4=lt("message-square",D4);const k4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],P4=lt("save",k4);const M4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],j4=lt("send",M4);const V4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],CR=lt("star",V4);const L4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],z4=lt("trash-2",L4);const U4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Nb=lt("trending-up",U4);const $4=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Wn=lt("trophy",$4);const F4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],NR=lt("user",F4);const B4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Bu=lt("users",B4);const q4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],H4=lt("x",q4);function DR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=DR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function G4(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=DR(t))&&(r&&(r+=" "),r+=e);return r}const K4=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},Q4=(t,e)=>({classGroupId:t,validator:e}),OR=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),sp="-",w1=[],Z4="arbitrary..",Y4=t=>{const e=X4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return W4(l);const c=l.split(sp),h=c[0]===""&&c.length>1?1:0;return kR(c,h,e)},getConflictingClassGroupIds:(l,c)=>{if(c){const h=r[l],f=n[l];return h?f?K4(f,h):h:f||w1}return n[l]||w1}}},kR=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],o=n.nextPart.get(i);if(o){const f=kR(t,e+1,o);if(f)return f}const l=n.validators;if(l===null)return;const c=e===0?t.join(sp):t.slice(e).join(sp),h=l.length;for(let f=0;f<h;f++){const g=l[f];if(g.validator(c))return g.classGroupId}},W4=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?Z4+r:void 0})(),X4=t=>{const{theme:e,classGroups:n}=t;return J4(n,e)},J4=(t,e)=>{const n=OR();for(const r in t){const i=t[r];$_(i,n,r,e)}return n},$_=(t,e,n,r)=>{const i=t.length;for(let o=0;o<i;o++){const l=t[o];eV(l,e,n,r)}},eV=(t,e,n,r)=>{if(typeof t=="string"){tV(t,e,n);return}if(typeof t=="function"){nV(t,e,n,r);return}rV(t,e,n,r)},tV=(t,e,n)=>{const r=t===""?e:PR(e,t);r.classGroupId=n},nV=(t,e,n,r)=>{if(sV(t)){$_(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Q4(n,t))},rV=(t,e,n,r)=>{const i=Object.entries(t),o=i.length;for(let l=0;l<o;l++){const[c,h]=i[l];$_(h,PR(e,c),n,r)}},PR=(t,e)=>{let n=t;const r=e.split(sp),i=r.length;for(let o=0;o<i;o++){const l=r[o];let c=n.nextPart.get(l);c||(c=OR(),n.nextPart.set(l,c)),n=c}return n},sV=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,iV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(o,l)=>{n[o]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let l=n[o];if(l!==void 0)return l;if((l=r[o])!==void 0)return i(o,l),l},set(o,l){o in n?n[o]=l:i(o,l)}}},Db="!",E1=":",aV=[],T1=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),oV=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const o=[];let l=0,c=0,h=0,f;const g=i.length;for(let R=0;R<g;R++){const D=i[R];if(l===0&&c===0){if(D===E1){o.push(i.slice(h,R)),h=R+1;continue}if(D==="/"){f=R;continue}}D==="["?l++:D==="]"?l--:D==="("?c++:D===")"&&c--}const b=o.length===0?i:i.slice(h);let _=b,w=!1;b.endsWith(Db)?(_=b.slice(0,-1),w=!0):b.startsWith(Db)&&(_=b.slice(1),w=!0);const A=f&&f>h?f-h:void 0;return T1(o,w,_,A)};if(e){const i=e+E1,o=r;r=l=>l.startsWith(i)?o(l.slice(i.length)):T1(aV,!1,l,void 0,!0)}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},lV=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let o=0;o<n.length;o++){const l=n[o],c=l[0]==="[",h=e.has(l);c||h?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},uV=t=>({cache:iV(t.cacheSize),parseClassName:oV(t),sortModifiers:lV(t),...Y4(t)}),cV=/\s+/,dV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,l=[],c=t.trim().split(cV);let h="";for(let f=c.length-1;f>=0;f-=1){const g=c[f],{isExternal:b,modifiers:_,hasImportantModifier:w,baseClassName:A,maybePostfixModifierPosition:R}=n(g);if(b){h=g+(h.length>0?" "+h:h);continue}let D=!!R,V=r(D?A.substring(0,R):A);if(!V){if(!D){h=g+(h.length>0?" "+h:h);continue}if(V=r(A),!V){h=g+(h.length>0?" "+h:h);continue}D=!1}const $=_.length===0?"":_.length===1?_[0]:o(_).join(":"),z=w?$+Db:$,Q=z+V;if(l.indexOf(Q)>-1)continue;l.push(Q);const W=i(V,D);for(let se=0;se<W.length;++se){const C=W[se];l.push(z+C)}h=g+(h.length>0?" "+h:h)}return h},hV=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=MR(n))&&(i&&(i+=" "),i+=r);return i},MR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=MR(t[r]))&&(n&&(n+=" "),n+=e);return n},fV=(t,...e)=>{let n,r,i,o;const l=h=>{const f=e.reduce((g,b)=>b(g),t());return n=uV(f),r=n.cache.get,i=n.cache.set,o=c,c(h)},c=h=>{const f=r(h);if(f)return f;const g=dV(h,n);return i(h,g),g};return o=l,(...h)=>o(hV(...h))},mV=[],sn=t=>{const e=n=>n[t]||mV;return e.isThemeGetter=!0,e},jR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,VR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,pV=/^\d+\/\d+$/,gV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,bV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_V=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tu=t=>pV.test(t),Be=t=>!!t&&!Number.isNaN(Number(t)),aa=t=>!!t&&Number.isInteger(Number(t)),Hv=t=>t.endsWith("%")&&Be(t.slice(0,-1)),li=t=>gV.test(t),xV=()=>!0,wV=t=>yV.test(t)&&!vV.test(t),LR=()=>!1,EV=t=>bV.test(t),TV=t=>_V.test(t),SV=t=>!Te(t)&&!Se(t),AV=t=>qu(t,$R,LR),Te=t=>jR.test(t),mo=t=>qu(t,FR,wV),Gv=t=>qu(t,DV,Be),S1=t=>qu(t,zR,LR),IV=t=>qu(t,UR,TV),fm=t=>qu(t,BR,EV),Se=t=>VR.test(t),pd=t=>Hu(t,FR),RV=t=>Hu(t,OV),A1=t=>Hu(t,zR),CV=t=>Hu(t,$R),NV=t=>Hu(t,UR),mm=t=>Hu(t,BR,!0),qu=(t,e,n)=>{const r=jR.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Hu=(t,e,n=!1)=>{const r=VR.exec(t);return r?r[1]?e(r[1]):n:!1},zR=t=>t==="position"||t==="percentage",UR=t=>t==="image"||t==="url",$R=t=>t==="length"||t==="size"||t==="bg-size",FR=t=>t==="length",DV=t=>t==="number",OV=t=>t==="family-name",BR=t=>t==="shadow",kV=()=>{const t=sn("color"),e=sn("font"),n=sn("text"),r=sn("font-weight"),i=sn("tracking"),o=sn("leading"),l=sn("breakpoint"),c=sn("container"),h=sn("spacing"),f=sn("radius"),g=sn("shadow"),b=sn("inset-shadow"),_=sn("text-shadow"),w=sn("drop-shadow"),A=sn("blur"),R=sn("perspective"),D=sn("aspect"),V=sn("ease"),$=sn("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],W=()=>[...Q(),Se,Te],se=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],I=()=>[Se,Te,h],k=()=>[tu,"full","auto",...I()],M=()=>[aa,"none","subgrid",Se,Te],j=()=>["auto",{span:["full",aa,Se,Te]},aa,Se,Te],L=()=>[aa,"auto",Se,Te],P=()=>["auto","min","max","fr",Se,Te],pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ye=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...I()],Z=()=>[tu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],H=()=>[t,Se,Te],he=()=>[...Q(),A1,S1,{position:[Se,Te]}],be=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",CV,AV,{size:[Se,Te]}],K=()=>[Hv,pd,mo],ce=()=>["","none","full",f,Se,Te],de=()=>["",Be,pd,mo],xe=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_e=()=>[Be,Hv,A1,S1],ke=()=>["","none",A,Se,Te],He=()=>["none",Be,Se,Te],$n=()=>["none",Be,Se,Te],gt=()=>[Be,Se,Te],Lr=()=>[tu,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[li],breakpoint:[li],color:[xV],container:[li],"drop-shadow":[li],ease:["in","out","in-out"],font:[SV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[li],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[li],shadow:[li],spacing:["px",Be],text:[li],"text-shadow":[li],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",tu,Te,Se,D]}],container:["container"],columns:[{columns:[Be,Te,Se,c]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:W()}],overflow:[{overflow:se()}],"overflow-x":[{"overflow-x":se()}],"overflow-y":[{"overflow-y":se()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[aa,"auto",Se,Te]}],basis:[{basis:[tu,"full","auto",c,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,tu,"auto","initial","none",Te]}],grow:[{grow:["",Be,Se,Te]}],shrink:[{shrink:["",Be,Se,Te]}],order:[{order:[aa,"first","last","none",Se,Te]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...pe(),"normal"]}],"justify-items":[{"justify-items":[...ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...ye()]}],"align-content":[{content:["normal",...pe()]}],"align-items":[{items:[...ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":pe()}],"place-items":[{"place-items":[...ye(),"baseline"]}],"place-self":[{"place-self":["auto",...ye()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[c,"screen",...Z()]}],"min-w":[{"min-w":[c,"screen","none",...Z()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",n,pd,mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Se,Gv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hv,Te]}],"font-family":[{font:[RV,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Se,Te]}],"line-clamp":[{"line-clamp":[Be,"none",Se,Gv]}],leading:[{leading:[o,...I()]}],"list-image":[{"list-image":["none",Se,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",Se,mo]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Be,"auto",Se,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:he()}],"bg-repeat":[{bg:be()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},aa,Se,Te],radial:["",Se,Te],conic:[aa,Se,Te]},NV,IV]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,Se,Te]}],"outline-w":[{outline:["",Be,pd,mo]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",g,mm,fm]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",b,mm,fm]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Be,mo]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",_,mm,fm]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Be,Se,Te]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":_e()}],"mask-image-linear-to-pos":[{"mask-linear-to":_e()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":_e()}],"mask-image-t-to-pos":[{"mask-t-to":_e()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":_e()}],"mask-image-r-to-pos":[{"mask-r-to":_e()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":_e()}],"mask-image-b-to-pos":[{"mask-b-to":_e()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":_e()}],"mask-image-l-to-pos":[{"mask-l-to":_e()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":_e()}],"mask-image-x-to-pos":[{"mask-x-to":_e()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":_e()}],"mask-image-y-to-pos":[{"mask-y-to":_e()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Se,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":_e()}],"mask-image-radial-to-pos":[{"mask-radial-to":_e()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Q()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":_e()}],"mask-image-conic-to-pos":[{"mask-conic-to":_e()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:he()}],"mask-repeat":[{mask:be()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,Te]}],filter:[{filter:["","none",Se,Te]}],blur:[{blur:ke()}],brightness:[{brightness:[Be,Se,Te]}],contrast:[{contrast:[Be,Se,Te]}],"drop-shadow":[{"drop-shadow":["","none",w,mm,fm]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Be,Se,Te]}],"hue-rotate":[{"hue-rotate":[Be,Se,Te]}],invert:[{invert:["",Be,Se,Te]}],saturate:[{saturate:[Be,Se,Te]}],sepia:[{sepia:["",Be,Se,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,Te]}],"backdrop-blur":[{"backdrop-blur":ke()}],"backdrop-brightness":[{"backdrop-brightness":[Be,Se,Te]}],"backdrop-contrast":[{"backdrop-contrast":[Be,Se,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,Se,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,Se,Te]}],"backdrop-invert":[{"backdrop-invert":["",Be,Se,Te]}],"backdrop-opacity":[{"backdrop-opacity":[Be,Se,Te]}],"backdrop-saturate":[{"backdrop-saturate":[Be,Se,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,Se,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",Se,Te]}],ease:[{ease:["linear","initial",V,Se,Te]}],delay:[{delay:[Be,Se,Te]}],animate:[{animate:["none",$,Se,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,Se,Te]}],"perspective-origin":[{"perspective-origin":W()}],rotate:[{rotate:He()}],"rotate-x":[{"rotate-x":He()}],"rotate-y":[{"rotate-y":He()}],"rotate-z":[{"rotate-z":He()}],scale:[{scale:$n()}],"scale-x":[{"scale-x":$n()}],"scale-y":[{"scale-y":$n()}],"scale-z":[{"scale-z":$n()}],"scale-3d":["scale-3d"],skew:[{skew:gt()}],"skew-x":[{"skew-x":gt()}],"skew-y":[{"skew-y":gt()}],transform:[{transform:[Se,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:W()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Lr()}],"translate-x":[{"translate-x":Lr()}],"translate-y":[{"translate-y":Lr()}],"translate-z":[{"translate-z":Lr()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,Te]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Be,pd,mo,Gv]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},PV=fV(kV);function zn(...t){return PV(G4(t))}const Do=$e.forwardRef(({variant:t="primary",size:e="md",className:n,children:r,...i},o)=>{const l="inline-flex items-center justify-center rounded-lg font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",c={primary:"bg-primary text-text-main hover:bg-primary-hover border border-transparent shadow-sm",secondary:"bg-surface-highlight text-text-main border border-border hover:border-primary/50",ghost:"bg-transparent text-text-main hover:bg-surface-highlight"},h={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return v.jsx("button",{ref:o,className:zn(l,c[t]??c.primary,h[e]??h.md,n),...i,children:r})});Do.displayName="Button";const MV=({children:t})=>{const[e,n]=S.useState(!1),r=Na(),i=[{name:"Home",href:"/",icon:S4},{name:"Standings",href:"/standings",icon:Wn},{name:"Schedule",href:"/schedule",icon:$o},{name:"Calculator",href:"/calculator",icon:d4},{name:"Players",href:"/players",icon:Bu},{name:"Format",href:"/format",icon:$o},{name:"Champions",href:"/champions",icon:Wn}];return v.jsxs("div",{className:"min-h-screen bg-background",children:[v.jsxs("nav",{className:"bg-surface text-text-main sticky top-0 z-50 shadow-lg border-b border-border",children:[v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex items-center justify-between h-16",children:[v.jsx("div",{className:"flex items-center",children:v.jsxs(Pt,{to:"/",className:"flex items-center space-x-2",children:[v.jsx(Wn,{className:"h-6 w-6 text-warning"}),v.jsx("span",{className:"font-bold text-lg tracking-tight",children:"Paddle Up"})]})}),v.jsx("div",{className:"hidden md:block",children:v.jsx("div",{className:"ml-10 flex items-baseline space-x-4",children:i.map(o=>{const l=o.icon,c=r.pathname===o.href;return v.jsxs(Pt,{to:o.href,className:zn("px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center space-x-1",c?"bg-surface-highlight text-warning":"text-text-muted hover:bg-surface-highlight hover:text-text-main"),children:[v.jsx(l,{className:"h-4 w-4"}),v.jsx("span",{children:o.name})]},o.name)})})}),v.jsx("div",{className:"md:hidden",children:v.jsx(Do,{onClick:()=>n(!e),variant:"ghost",size:"sm",className:"inline-flex items-center justify-center p-2 rounded-md text-text-muted hover:text-text-main hover:bg-surface-highlight focus:outline-none",children:e?v.jsx(H4,{className:"h-6 w-6"}):v.jsx(N4,{className:"h-6 w-6"})})})]})}),e&&v.jsx("div",{className:"md:hidden",children:v.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-surface border-t border-border",children:i.map(o=>{const l=o.icon,c=r.pathname===o.href;return v.jsxs(Pt,{to:o.href,onClick:()=>n(!1),className:zn("block px-3 py-2 rounded-md text-base font-medium flex items-center space-x-2",c?"bg-surface-highlight text-warning":"text-text-muted hover:bg-surface-highlight hover:text-text-main"),children:[v.jsx(l,{className:"h-5 w-5"}),v.jsx("span",{children:o.name})]},o.name)})})})]}),v.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t}),v.jsx("footer",{className:"bg-surface text-text-muted py-8 mt-auto",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[v.jsxs("p",{children:[" ",new Date().getFullYear()," Paddle Up Individual Championship League"]}),v.jsx("p",{className:"text-sm mt-2",children:"Competitive Integrity  Merit-Based  Transparent"})]})})]})},ui=[{id:"2025-12-28",name:"The Challenge  12/28",startDateTime:new Date("2025-12-28T19:00:00"),location:"Paddle Up Pickleball Club",status:"open",link:"https://mobileapp.courtreserve.com/Online/Events/Details/10117?resId=45176797",standings:["cFbaelu4ZQhUiUovuSDq","TMUWdVphOwXWWpBD0tg4","bmIXpKlFhwhNuex6mG3a","sBaVpfAOMRsqcUiaVdXN","ov1yJixQu0Y7GgSVGOS3","v8BhDF0WAc6VgcOwc87B","lR41KMImIthFWUlTfvcq","W3tjD6JMTZvL7h9DBekb","GqsPoUKXTw3kJMSJqwU0","sewQTUTqabMCEYb80N8L","T28AtFw8KdQU23bXrGKh","55YtackrvsPralsAJY2V"],rounds:[{courts:[{playerNames:["Tobi Ola","Garrett H.","Ravi C.","Karan C."],matches:[{scoreA:11,scoreB:7},{scoreA:11,scoreB:9},{scoreA:11,scoreB:8}]},{playerNames:["Bekah Ola","Rebecca H.","Anna H.","Jay H."],matches:[{scoreA:11,scoreB:7},{scoreA:11,scoreB:9},{scoreA:11,scoreB:8}]}]}]},{id:"2026-01-04",name:"The Challenge  1/4",startDateTime:new Date("2026-01-04T19:00:00"),location:"Paddle Up Pickleball Club",status:"open",link:"https://mobileapp.courtreserve.com/Online/Events/Details/10117/KIP6A7Q10117168?resId=45176798"},{id:"2026-01-11",name:"The Challenge  1/11",startDateTime:new Date("2026-01-11T19:00:00"),location:"Paddle Up Pickleball Club",status:"open",link:"https://mobileapp.courtreserve.com/Online/Events/Details/10117/SQNPCTF10117214?resId=45176799"},{id:"2026-01-18",name:"The Challenge  1/18",startDateTime:new Date("2026-01-18T19:00:00"),location:"Paddle Up Pickleball Club",status:"open",link:"https://mobileapp.courtreserve.com/Online/Events/Details/10117/6N5ZAKX10117261?resId=45176801"},{id:"2026-01-25",name:"The Challenge  1/25",startDateTime:new Date("2026-01-25T19:00:00"),location:"Paddle Up Pickleball Club",status:"open",link:"https://mobileapp.courtreserve.com/Online/Events/Details/10117/LTANVTQ10117308?resId=45176802"},{id:"2026-02-01",name:"The Challenge  2/1",startDateTime:new Date("2026-02-01T19:00:00"),location:"Paddle Up Pickleball Club",status:"open",link:"https://mobileapp.courtreserve.com/Online/Events/Details/10117/RNU98TK10117356?resId=45176803"}],F_=[{id:"bekahola",name:"Bekah Ola",imageUrl:"/images/players/bekahola.jpg"},{id:"tobiola",name:"Tobi Ola",imageUrl:"/images/players/tobiola.jpg"},{id:"garretth",name:"Garrett H."},{id:"johnt",name:"John T."},{id:"karanc",name:"Karan C."},{id:"libbyl",name:"Libby L."},{id:"loganh",name:"Logan H."},{id:"ravic",name:"Ravi C."},{id:"rebeccah",name:"Rebecca H."},{id:"sairamt",name:"Sai Ram Reddy T."},{id:"samanthar",name:"Samantha R."},{id:"seanl",name:"Sean L."},{id:"khoan",name:"Khoa N."},{id:"mayuro",name:"Mayur O."},{id:"samngo",name:"Sam Ngo"}],qR={subtitle:"The premier competitive league in St. Louis. Merit-based advancement, weekly stakes, and a path to the championship.",schedule:{day:"Sundays",time:"7:00 - 9:00 PM"},location:{name:"Paddle Up",url:"https://maps.app.goo.gl/dKNY9dnEDiFdM3XK8",city:"Chesterfield"},participant:{type:"Individual",note:"No Partner Needed"},register:{url:"https://courtreserve.com",text:"Register on CourtReserve"},missedWeekNote:"Missed week = 0 points",philosophy:"Competitive integrity is the priority. Rotating partners, merit-based court movement, and transparent standings determine advancement. Top performers earn season rewards and guaranteed spots for the next season, while lower performers must re-qualify to ensure a high level of competition.",seasonStructure:{rosterSize:16,duration:"6 Weeks",when:"Sundays, 7:00 PM  9:00 PM",safeZone:"Top 12 players (of a 16-player roster) automatically qualify for the next season  guaranteed roster spots at the end of the 6-week season.",dropZone:"Bottom 4 players (of a 16-player roster) must re-qualify for the next season. They lose their roster spot at the end of the 6-week season and may re-enter via the Open Qualifiers."},seeding:{overview:"Initial seeding uses DUPR for Week 1; thereafter seeding is based on season points and weekly performance.",week1:"Use DUPR rating (higher DUPR = higher seed). If DUPR missing, use last-seen DUPR or default to league admin placement.",draw:"Balanced 'Snake Draw' across 4 courts.",tieBreakers:["Head-to-head (if available)","Higher DUPR","Most recent higher placement"],promotionRelegation:{summary:"Top 2 on each court advance/move up per round; courts are reassigned between rounds based on performance.",nightlyPromotionBonus:"Players who win promotion to a higher court receive a small bonus (configurable) applied after nightly results."},courts:[{name:"Court 1",seeds:"1, 8, 9, 16"},{name:"Court 2",seeds:"2, 7, 10, 15"},{name:"Court 3",seeds:"3, 6, 11, 14"},{name:"Court 4",seeds:"4, 5, 12, 13"}]},rewards:{firstPlace:{name:"1st",items:["$100 Court Credit","Free Entry Next Season","50 Paddle Up Club Points"]},secondPlace:{name:"2nd",items:["$60 Court Credit","30 Paddle Up Club Points"]},thirdPlace:{name:"3rd",items:["$40 Court Credit","20 Paddle Up Club Points"]},notes:"Court credits are applied to player accounts; club points are tracked separately from league standings."},qualification:{description:"Before each season begins, we host two Open Qualifier events to fill the open roster spots.",who:["New applicants (DUPR 3.6+ required)","Players who must re-qualify from the previous season (bottom 4)"],format:"Round Robin (Rotating Partners)",advancement:["Qualifier #1: The Top 2 finishers earn a spot in the league","Qualifier #2: The Top 2 finishers earn a spot in the league","Remaining roster spots (if any) are filled based on overall points from both events"],note:"If you fail to qualify in the first event, you may register for the second event to try again."},general:["DUPR 3.6+ required","DUPR must be linked in CourtReserve prior to play"],format:[{title:"Round 1: Quarterfinals",description:["Players are divided into 4 courts based on seeding.","Top 2 from each court advance to the Upper Bracket (Courts 1 & 2).","Bottom 2 move to the Lower Bracket (Courts 3 & 4)."]},{title:"Round 2: Semifinals",description:["Bracket play.","Top 2 from each Upper Bracket court advance to the Championship Court (C1); bottom 2 move to Court 2.","Top 2 from each Lower Bracket court advance to Court 3; bottom 2 move to Court 4."]},{title:"Round 3: Finals",description:["Final placement.","You play one last round robin on your assigned court (1-4) to determine your final points and ranking."]}],faqs:[{question:"What happens if I miss a week?",answer:"If you miss a week, you receive 0 points for that night. You must notify the league admin so a substitute can be assigned. You are allowed a maximum of 2 sub replacements per season."},{question:"Can I choose my own sub?",answer:"No. To ensure competitive balance and fairness, all substitutes are assigned by the league administration from the approved sub pool."},{question:"How do I qualify for the next season?",answer:"The top 4 players from the current season automatically qualify for the next season. Other spots may be filled through open registration or qualifying nights."},{question:"Is there a warm-up period?",answer:"Yes, courts are available for warm-up starting at 6:45 PM. League play begins promptly at 7:00 PM."}],scoring:["Traditional scoring","Games to 11  win by 1","Ceiling contact = out"],points:{championship:{1:1e3,2:800,3:600,4:400},court2:{1:300,2:240,3:180,4:120},court3:{1:100,2:80,3:60,4:40},court4:{1:30,2:24,3:18,4:12}},subs:["League players must contact league administration to arrange for a sub ahead of time","Subs will be chosen from from the top performers in the most recent Open Qualifiers","Absent players receive 0 points"]},km={title:"Paddle Up Individual Championship League",fee:"$80",summary:"Season-long championship format  6 weeks of merit-based play with promotion/relegation, weekly standings, and season prizes. Ideal for players who want sustained competitive play and a path to the championship.",...qR},Kv={title:"The Challenge",summary:"Short-form weekly competition  rotating partners, per-night entry, and court promotion each round. Quick, social, and competitive nights focused on weekly performance.",price:{amount:15,unit:"per night",display:"$15",note:"per night"},showSections:{seasonStructure:!1,prizes:!1,qualifiers:!1},...qR},et=km,jV=t=>{const{championship:e,court2:n,court3:r,court4:i}=et.points??{championship:{},court2:{},court3:{},court4:{}},o=(l,c)=>{if(!l)return 0;const h=l[c];return typeof h=="number"?h:0};return t<=4?o(e,t):t<=8?o(n,t-4):t<=12?o(r,t-8):t<=16?o(i,t-12):0},Zp=t=>{if(!t.isCompleted||!Array.isArray(t.standings)||t.standings.length===0)return null;const e=t.standings,n=[];return e.forEach((r,i)=>{const o=i+1,l=Math.ceil(o/4),c=(o-1)%4+1,h=jV(o);n.push({playerId:r,court:l,position:c,rank:o,pointsEarned:h})}),n},Ue=$e.forwardRef(({children:t,className:e,variant:n="default",...r},i)=>{const o="bg-surface p-6 rounded-xl shadow-sm border border-border",l={default:o,outlined:"bg-transparent p-6 rounded-xl border border-border",flat:"bg-surface p-4 rounded-lg"};return v.jsx("div",{ref:i,className:zn(l[n]??o,e),...r,children:t})});Ue.displayName="Card";const B_=({imageUrl:t,name:e,size:n="md",className:r,border:i=!0})=>{const o={sm:"h-6 w-6 text-xs",md:"h-8 w-8 text-xs",lg:"h-12 w-12 text-sm",xl:"h-16 w-16 text-base"},l={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-6 w-6",xl:"h-8 w-8"},c=zn("rounded-full object-cover flex-shrink-0",o[n],i&&"border border-border",r);if(t){const h=t.startsWith("/")?`/${t.slice(1)}`:t;return v.jsx("img",{src:h,alt:e,className:c})}return v.jsx("div",{className:zn(c,"bg-surface-highlight flex items-center justify-center"),children:e?v.jsx("span",{className:"font-bold text-text-muted",children:e.charAt(0)}):v.jsx(NR,{className:zn("text-text-muted",l[n])})})},VV=t=>{if(!t||isNaN(t))return String(t);const e=t%100;if(e>=11&&e<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`;default:return`${t}th`}},Yp=({rank:t,className:e,size:n="md"})=>{const r={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"},i=o=>o===1?"bg-warning/20 text-warning":o===2?"bg-surface-alt text-text-muted":o===3?"bg-bronze/20 text-bronze":"text-text-muted";return v.jsx("span",{className:zn("flex items-center justify-center rounded-full font-bold",r[n],i(t),e),children:VV(t)})},LV=()=>{const t=$e.useMemo(()=>{const o=new Map,l=new Map;(ui||[]).filter(f=>Array.isArray(f.standings)&&f.standings.length>0).forEach(f=>{const g={id:f.id,date:f.startDateTime?f.startDateTime.toISOString():f.id,isCompleted:!0,standings:f.standings};(Zp(g)||[]).forEach(_=>{const w=_.playerId,A=_.pointsEarned||0;o.set(w,(o.get(w)||0)+A),l.set(w,(l.get(w)||0)+1)})});const h=Array.from(o.entries()).map(([f,g])=>({playerId:f,points:g}));return h.sort((f,g)=>g.points-f.points),h.slice(0,3).map((f,g)=>({playerId:f.playerId,points:f.points,events:l.get(f.playerId)||0,rank:g+1}))},[]),e=(()=>{const o=(ui||[]).filter(c=>c.startDateTime instanceof Date&&!isNaN(c.startDateTime.getTime()));if(o.length===0)return"Challenge Series";const l=Array.from(new Set(o.map(c=>c.startDateTime.getFullYear()))).sort();return l.length===1?`${l[0]} Challenge`:`${l[0]}${l[l.length-1]} Challenge`})(),n=$e.useMemo(()=>{if(!ui||ui.length===0)return null;const o=ui.filter(f=>f.startDateTime instanceof Date&&!isNaN(f.startDateTime.getTime()));o.sort((f,g)=>f.startDateTime.getTime()-g.startDateTime.getTime());const c=new Date().getTime(),h=o.filter(f=>f.startDateTime.getTime()>=c);return h.length>0?h[0]:null},[]),r=o=>o?o.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"}):"",i=o=>o?o.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"";return v.jsxs("div",{className:"space-y-12",children:[v.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-surface border border-border",children:[v.jsx("div",{className:"absolute top-0 right-0 -mt-20 -mr-20 w-96 h-96 bg-primary/10 rounded-full blur-3xl"}),v.jsx("div",{className:"absolute bottom-0 left-0 -mb-20 -ml-20 w-96 h-96 bg-surface-highlight/50 rounded-full blur-3xl"}),v.jsxs("div",{className:"relative z-10 px-8 py-16 md:py-24 text-center max-w-4xl mx-auto",children:[v.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-surface-highlight border border-border mb-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[v.jsxs("span",{className:"relative flex h-2 w-2",children:[v.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-success opacity-75"}),v.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-success"})]}),v.jsxs("span",{className:"text-sm font-medium text-text-main",children:[e," is Live"]})]}),v.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-text-main mb-6 tracking-tight animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100",children:["Paddle Up",v.jsx("br",{}),v.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-text-accent",children:"Advanced Challenge"})]}),v.jsx("p",{className:"text-xl text-text-muted mb-10 max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:"Join our competitive pickleball event designed for advanced players looking to test their skills and climb the rankings each week."}),v.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 animate-in fade-in slide-in-from-bottom-10 duration-700 delay-300",children:[v.jsxs(Pt,{to:"/standings",className:"w-full sm:w-auto px-8 py-4 bg-primary text-text-main rounded-xl font-bold text-lg hover:bg-primary-hover transition-all shadow-lg shadow-primary/25 flex items-center justify-center gap-2",children:["View Standings ",v.jsx(qv,{className:"h-5 w-5"})]}),v.jsx(Pt,{to:"/format",className:"w-full sm:w-auto px-8 py-4 bg-surface-highlight text-text-main border border-border rounded-xl font-bold text-lg hover:bg-surface-alt transition-all flex items-center justify-center gap-2",children:"League Format"})]})]})]}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[v.jsxs(Ue,{className:"p-6 flex flex-col items-center justify-center text-center hover:border-primary/30 transition-colors group",children:[v.jsx(Bu,{className:"h-8 w-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),v.jsx("span",{className:"text-3xl font-bold text-text-main mb-1",children:"16"}),v.jsx("span",{className:"text-sm text-text-muted uppercase tracking-wider",children:"Players per night"})]}),v.jsxs(Ue,{className:"p-6 flex flex-col items-center justify-center text-center hover:border-primary/30 transition-colors group",children:[v.jsx($o,{className:"h-8 w-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),v.jsx("span",{className:"text-3xl font-bold text-text-main mb-1",children:"7-10 PM"}),v.jsx("span",{className:"text-sm text-text-muted uppercase tracking-wider",children:"Every Sunday"})]}),v.jsxs(Ue,{className:"p-6 flex flex-col items-center justify-center text-center hover:border-primary/30 transition-colors group",children:[v.jsx(Wn,{className:"h-8 w-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),v.jsx("span",{className:"text-3xl font-bold text-text-main mb-1",children:"100"}),v.jsx("span",{className:"text-sm text-text-muted uppercase tracking-wider",children:"Club Points Prize Pool"})]}),v.jsxs(Ue,{className:"p-6 flex flex-col items-center justify-center text-center hover:border-primary/30 transition-colors group",children:[v.jsx(CR,{className:"h-8 w-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),v.jsx("span",{className:"text-3xl font-bold text-text-main mb-1",children:"3.6+ DUPR"}),v.jsx("span",{className:"text-sm text-text-muted uppercase tracking-wider",children:"Level Format"})]})]}),v.jsxs("div",{className:"bg-surface-highlight/50 rounded-2xl p-8 border border-border text-center",children:[v.jsxs("h2",{className:"text-2xl font-bold text-text-main mb-4 flex items-center justify-center gap-2",children:[v.jsx(Wn,{className:"h-6 w-6 text-warning"}),"Monthly Prizes"]}),v.jsx("p",{className:"text-text-muted max-w-2xl mx-auto mb-6",children:"At the end of each month, the top 3 players in the monthly standings will receive club points as rewards for their performance."}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-4 max-w-3xl mx-auto",children:[v.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-border",children:[v.jsx("span",{className:"block text-2xl font-bold text-warning mb-1",children:"1st Place"}),v.jsx("span",{className:"text-sm text-text-muted",children:"50 Club Pts"})]}),v.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-border",children:[v.jsx("span",{className:"block text-2xl font-bold text-text-main mb-1",children:"2nd Place"}),v.jsx("span",{className:"text-sm text-text-muted",children:"30 Club Pts"})]}),v.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-border",children:[v.jsx("span",{className:"block text-2xl font-bold text-text-main mb-1",children:"3rd Place"}),v.jsx("span",{className:"text-sm text-text-muted",children:"20 Club Pts"})]})]})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[v.jsxs(Ue,{className:"h-full flex flex-col",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("h2",{className:"text-2xl font-bold text-text-main flex items-center gap-2",children:[v.jsx(Wn,{className:"h-6 w-6 text-warning"}),"Current Leaders"]}),v.jsxs(Pt,{to:"/standings",className:"text-sm text-primary hover:text-primary-hover font-medium flex items-center gap-1",children:["Full Standings ",v.jsx(qv,{className:"h-4 w-4"})]})]}),v.jsx("div",{className:"space-y-4 flex-1",children:t.map((o,l)=>{const c=F_.find(h=>h.id===o.playerId)||{name:"Unknown",imageUrl:""};return v.jsxs(Pt,{to:`/player/${o.playerId}`,className:"flex items-center justify-between p-3 rounded-xl bg-surface-highlight border border-border hover:border-primary/50 transition-colors group",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Yp,{rank:l+1,size:"sm"}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(B_,{imageUrl:c.imageUrl,name:c.name,size:"md",className:"group-hover:ring-2 ring-primary transition-all"}),v.jsx("span",{className:"font-bold text-text-main group-hover:text-primary transition-colors",children:c.name})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("span",{className:"block font-bold text-primary",children:[o.points," pts"]}),v.jsxs("span",{className:"text-xs text-text-muted",children:[o.events," Events"]})]})]},o.playerId)})})]}),v.jsx(Ue,{className:"h-full flex flex-col bg-gradient-to-br from-surface to-surface-highlight relative overflow-hidden",children:v.jsxs("div",{className:"relative z-10",children:[v.jsx("h2",{className:"text-2xl font-bold text-text-main mb-4",children:"Next Match Night"}),n?v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-text-muted text-sm uppercase tracking-wider mb-1",children:"Date"}),v.jsx("p",{className:"text-xl font-bold text-text-main",children:r(n.startDateTime)})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-text-muted text-sm uppercase tracking-wider mb-1",children:"Time"}),v.jsx("p",{className:"text-xl font-bold text-text-main",children:i(n.startDateTime)})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-text-muted text-sm uppercase tracking-wider mb-1",children:"Location"}),v.jsx("p",{className:"text-xl font-bold text-text-main",children:n.location})]}),v.jsx("div",{className:"pt-4",children:v.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-full px-6 py-3 bg-surface border border-border hover:border-primary/50 rounded-xl text-text-main font-bold transition-colors",children:"Register on CourtReserve"})})]}):v.jsxs("div",{className:"space-y-4",children:[v.jsx("p",{className:"text-text-muted",children:"No upcoming match nights are listed. Check the full schedule for details."}),v.jsx(Pt,{to:"/schedule",className:"inline-flex items-center justify-center w-full px-6 py-3 bg-surface border border-border hover:border-primary/50 rounded-xl text-text-main font-bold transition-colors",children:"View Schedule"})]})]})})]}),v.jsxs("div",{className:"bg-primary-light rounded-2xl p-8 md:p-12 text-center border border-primary/50",children:[v.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Want to Join the League?"}),v.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto",children:"We are always looking for competitive players to join the roster. Check out the format and rules to see if you qualify."}),v.jsx("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:v.jsxs(Pt,{to:"/format",className:"bg-primary text-text-main px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:["View Format ",v.jsx(qv,{className:"h-5 w-5"})]})})]})]})},Gu=({title:t,subtitle:e,children:n,className:r,center:i=!1})=>v.jsx("div",{className:zn("space-y-4",i&&"text-center",r),children:v.jsxs("div",{className:zn("flex flex-col gap-4",i?"items-center":"md:flex-row md:items-center justify-between"),children:[v.jsxs("div",{className:i?"w-full":"",children:[v.jsx("h1",{className:"text-3xl font-bold text-text-main",children:t}),e&&v.jsx("p",{className:zn("text-text-muted mt-1",i?"max-w-2xl mx-auto":""),children:e})]}),n]})}),zV=()=>{};var I1={};const HR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},GR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,g=o>>2,b=(o&3)<<4|c>>4;let _=(c&15)<<2|f>>6,w=f&63;h||(w=64,l||(_=64)),r.push(n[g],n[b],n[_],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const b=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||f==null||b==null)throw new $V;const _=o<<2|c>>4;if(r.push(_),f!==64){const w=c<<4&240|f>>2;if(r.push(w),b!==64){const A=f<<6&192|b;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $V extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FV=function(t){const e=HR(t);return GR.encodeByteArray(e,!0)},ip=function(t){return FV(t).replace(/\./g,"")},KR=function(t){try{return GR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function QR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const BV=()=>QR().__FIREBASE_DEFAULTS__,qV=()=>{if(typeof process>"u"||typeof I1>"u")return;const t=I1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KR(t[1]);return e&&JSON.parse(e)},Wp=()=>{try{return zV()||BV()||qV()||HV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZR=t=>Wp()?.emulatorHosts?.[t],GV=t=>{const e=ZR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YR=()=>Wp()?.config,WR=t=>Wp()?.[`_${t}`];class KV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ku(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XR(t){return(await fetch(t,{credentials:"include"})).ok}function QV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ip(JSON.stringify(n)),ip(JSON.stringify(l)),""].join(".")}const Od={};function ZV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Od))Od[e]?t.emulator.push(e):t.prod.push(e);return t}function YV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let R1=!1;function JR(t,e){if(typeof window>"u"||typeof document>"u"||!Ku(window.location.host)||Od[t]===e||Od[t]||R1)return;Od[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=ZV().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,w){_.setAttribute("width","24"),_.setAttribute("id",w),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{R1=!0,l()},_}function g(_,w){_.setAttribute("id",w),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=YV(r),w=n("text"),A=document.getElementById(w)||document.createElement("span"),R=n("learnmore"),D=document.getElementById(R)||document.createElement("a"),V=n("preprendIcon"),$=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const z=_.element;c(z),g(D,R);const Q=f();h($,V),z.append($,A,D,Q),document.body.appendChild(z)}o?(A.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function eC(){const t=Wp()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function e6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t6(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tC(){return!eC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nC(){return!eC()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function rC(){try{return typeof indexedDB=="object"}catch{return!1}}function n6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const r6="FirebaseError";class wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=r6,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ph.prototype.create)}}class ph{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?s6(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new wi(i,c,r)}}function s6(t,e){return t.replace(i6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const i6=/\{\$([^}]+)}/g;function a6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(C1(o)&&C1(l)){if(!Fo(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function C1(t){return t!==null&&typeof t=="object"}function gh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function o6(t,e){const n=new l6(t,e);return n.subscribe.bind(n)}class l6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");u6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qv),i.error===void 0&&(i.error=Qv),i.complete===void 0&&(i.complete=Qv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function u6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qv(){}function Cn(t){return t&&t._delegate?t._delegate:t}class Bo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const go="[DEFAULT]";class c6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new KV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h6(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:d6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d6(t){return t===go?void 0:t}function h6(t){return t.instantiationMode==="EAGER"}class f6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new c6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const m6={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},p6=We.INFO,g6={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},y6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=g6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class q_{constructor(e){this.name=e,this._logLevel=p6,this._logHandler=y6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const v6=(t,e)=>e.some(n=>t instanceof n);let N1,D1;function b6(){return N1||(N1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _6(){return D1||(D1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sC=new WeakMap,Ob=new WeakMap,iC=new WeakMap,Zv=new WeakMap,H_=new WeakMap;function x6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(ya(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&sC.set(n,t)}).catch(()=>{}),H_.set(e,t),e}function w6(t){if(Ob.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Ob.set(t,e)}let kb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ob.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ya(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function E6(t){kb=t(kb)}function T6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yv(this),e,...n);return iC.set(r,e.sort?e.sort():[e]),ya(r)}:_6().includes(t)?function(...e){return t.apply(Yv(this),e),ya(sC.get(this))}:function(...e){return ya(t.apply(Yv(this),e))}}function S6(t){return typeof t=="function"?T6(t):(t instanceof IDBTransaction&&w6(t),v6(t,b6())?new Proxy(t,kb):t)}function ya(t){if(t instanceof IDBRequest)return x6(t);if(Zv.has(t))return Zv.get(t);const e=S6(t);return e!==t&&(Zv.set(t,e),H_.set(e,t)),e}const Yv=t=>H_.get(t);function A6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),c=ya(l);return r&&l.addEventListener("upgradeneeded",h=>{r(ya(l.result),h.oldVersion,h.newVersion,ya(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const I6=["get","getKey","getAll","getAllKeys","count"],R6=["put","add","delete","clear"],Wv=new Map;function O1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wv.get(e))return Wv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=R6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||I6.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&h.done]))[0]};return Wv.set(e,o),o}E6(t=>({...t,get:(e,n,r)=>O1(e,n)||t.get(e,n,r),has:(e,n)=>!!O1(e,n)||t.has(e,n)}));class C6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function N6(t){return t.getComponent()?.type==="VERSION"}const Pb="@firebase/app",k1="0.14.6";const yi=new q_("@firebase/app"),D6="@firebase/app-compat",O6="@firebase/analytics-compat",k6="@firebase/analytics",P6="@firebase/app-check-compat",M6="@firebase/app-check",j6="@firebase/auth",V6="@firebase/auth-compat",L6="@firebase/database",z6="@firebase/data-connect",U6="@firebase/database-compat",$6="@firebase/functions",F6="@firebase/functions-compat",B6="@firebase/installations",q6="@firebase/installations-compat",H6="@firebase/messaging",G6="@firebase/messaging-compat",K6="@firebase/performance",Q6="@firebase/performance-compat",Z6="@firebase/remote-config",Y6="@firebase/remote-config-compat",W6="@firebase/storage",X6="@firebase/storage-compat",J6="@firebase/firestore",e3="@firebase/ai",t3="@firebase/firestore-compat",n3="firebase",r3="12.6.0";const Mb="[DEFAULT]",s3={[Pb]:"fire-core",[D6]:"fire-core-compat",[k6]:"fire-analytics",[O6]:"fire-analytics-compat",[M6]:"fire-app-check",[P6]:"fire-app-check-compat",[j6]:"fire-auth",[V6]:"fire-auth-compat",[L6]:"fire-rtdb",[z6]:"fire-data-connect",[U6]:"fire-rtdb-compat",[$6]:"fire-fn",[F6]:"fire-fn-compat",[B6]:"fire-iid",[q6]:"fire-iid-compat",[H6]:"fire-fcm",[G6]:"fire-fcm-compat",[K6]:"fire-perf",[Q6]:"fire-perf-compat",[Z6]:"fire-rc",[Y6]:"fire-rc-compat",[W6]:"fire-gcs",[X6]:"fire-gcs-compat",[J6]:"fire-fst",[t3]:"fire-fst-compat",[e3]:"fire-vertex","fire-js":"fire-js",[n3]:"fire-js-all"};const Hd=new Map,i3=new Map,jb=new Map;function P1(t,e){try{t.container.addComponent(e)}catch(n){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tu(t){const e=t.name;if(jb.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;jb.set(e,t);for(const n of Hd.values())P1(n,t);for(const n of i3.values())P1(n,t);return!0}function G_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jr(t){return t==null?!1:t.settings!==void 0}const a3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},va=new ph("app","Firebase",a3);class o3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw va.create("app-deleted",{appName:this._name})}}const Qu=r3;function K_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Mb,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw va.create("bad-app-name",{appName:String(i)});if(n||(n=YR()),!n)throw va.create("no-options");const o=Hd.get(i);if(o){if(Fo(n,o.options)&&Fo(r,o.config))return o;throw va.create("duplicate-app",{appName:i})}const l=new f6(i);for(const h of jb.values())l.addComponent(h);const c=new o3(n,r,l);return Hd.set(i,c),c}function aC(t=Mb){const e=Hd.get(t);if(!e&&t===Mb&&YR())return K_();if(!e)throw va.create("no-app",{appName:t});return e}function Vb(){return Array.from(Hd.values())}function ba(t,e,n){let r=s3[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(l.join(" "));return}Tu(new Bo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const l3="firebase-heartbeat-database",u3=1,Gd="firebase-heartbeat-store";let Xv=null;function oC(){return Xv||(Xv=A6(l3,u3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gd)}catch(n){console.warn(n)}}}}).catch(t=>{throw va.create("idb-open",{originalErrorMessage:t.message})})),Xv}async function c3(t){try{const n=(await oC()).transaction(Gd),r=await n.objectStore(Gd).get(lC(t));return await n.done,r}catch(e){if(e instanceof wi)yi.warn(e.message);else{const n=va.create("idb-get",{originalErrorMessage:e?.message});yi.warn(n.message)}}}async function M1(t,e){try{const r=(await oC()).transaction(Gd,"readwrite");await r.objectStore(Gd).put(e,lC(t)),await r.done}catch(n){if(n instanceof wi)yi.warn(n.message);else{const r=va.create("idb-set",{originalErrorMessage:n?.message});yi.warn(r.message)}}}function lC(t){return`${t.name}!${t.options.appId}`}const d3=1024,h3=30;class f3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new p3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=j1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>h3){const i=g3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=j1(),{heartbeatsToSend:n,unsentEntries:r}=m3(this._heartbeatsCache.heartbeats),i=ip(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return yi.warn(e),""}}}function j1(){return new Date().toISOString().substring(0,10)}function m3(t,e=d3){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),V1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),V1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class p3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rC()?n6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await c3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return M1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return M1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function V1(t){return ip(JSON.stringify({version:2,heartbeats:t})).length}function g3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function y3(t){Tu(new Bo("platform-logger",e=>new C6(e),"PRIVATE")),Tu(new Bo("heartbeat",e=>new f3(e),"PRIVATE")),ba(Pb,k1,t),ba(Pb,k1,"esm2020"),ba("fire-js","")}y3("");var L1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _a,uC;(function(){var t;function e(C,I){function k(){}k.prototype=I.prototype,C.F=I.prototype,C.prototype=new k,C.prototype.constructor=C,C.D=function(M,j,L){for(var P=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)P[pe-2]=arguments[pe];return I.prototype[j].apply(M,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,I,k){k||(k=0);const M=Array(16);if(typeof I=="string")for(var j=0;j<16;++j)M[j]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(j=0;j<16;++j)M[j]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=C.g[0],k=C.g[1],j=C.g[2];let L=C.g[3],P;P=I+(L^k&(j^L))+M[0]+3614090360&4294967295,I=k+(P<<7&4294967295|P>>>25),P=L+(j^I&(k^j))+M[1]+3905402710&4294967295,L=I+(P<<12&4294967295|P>>>20),P=j+(k^L&(I^k))+M[2]+606105819&4294967295,j=L+(P<<17&4294967295|P>>>15),P=k+(I^j&(L^I))+M[3]+3250441966&4294967295,k=j+(P<<22&4294967295|P>>>10),P=I+(L^k&(j^L))+M[4]+4118548399&4294967295,I=k+(P<<7&4294967295|P>>>25),P=L+(j^I&(k^j))+M[5]+1200080426&4294967295,L=I+(P<<12&4294967295|P>>>20),P=j+(k^L&(I^k))+M[6]+2821735955&4294967295,j=L+(P<<17&4294967295|P>>>15),P=k+(I^j&(L^I))+M[7]+4249261313&4294967295,k=j+(P<<22&4294967295|P>>>10),P=I+(L^k&(j^L))+M[8]+1770035416&4294967295,I=k+(P<<7&4294967295|P>>>25),P=L+(j^I&(k^j))+M[9]+2336552879&4294967295,L=I+(P<<12&4294967295|P>>>20),P=j+(k^L&(I^k))+M[10]+4294925233&4294967295,j=L+(P<<17&4294967295|P>>>15),P=k+(I^j&(L^I))+M[11]+2304563134&4294967295,k=j+(P<<22&4294967295|P>>>10),P=I+(L^k&(j^L))+M[12]+1804603682&4294967295,I=k+(P<<7&4294967295|P>>>25),P=L+(j^I&(k^j))+M[13]+4254626195&4294967295,L=I+(P<<12&4294967295|P>>>20),P=j+(k^L&(I^k))+M[14]+2792965006&4294967295,j=L+(P<<17&4294967295|P>>>15),P=k+(I^j&(L^I))+M[15]+1236535329&4294967295,k=j+(P<<22&4294967295|P>>>10),P=I+(j^L&(k^j))+M[1]+4129170786&4294967295,I=k+(P<<5&4294967295|P>>>27),P=L+(k^j&(I^k))+M[6]+3225465664&4294967295,L=I+(P<<9&4294967295|P>>>23),P=j+(I^k&(L^I))+M[11]+643717713&4294967295,j=L+(P<<14&4294967295|P>>>18),P=k+(L^I&(j^L))+M[0]+3921069994&4294967295,k=j+(P<<20&4294967295|P>>>12),P=I+(j^L&(k^j))+M[5]+3593408605&4294967295,I=k+(P<<5&4294967295|P>>>27),P=L+(k^j&(I^k))+M[10]+38016083&4294967295,L=I+(P<<9&4294967295|P>>>23),P=j+(I^k&(L^I))+M[15]+3634488961&4294967295,j=L+(P<<14&4294967295|P>>>18),P=k+(L^I&(j^L))+M[4]+3889429448&4294967295,k=j+(P<<20&4294967295|P>>>12),P=I+(j^L&(k^j))+M[9]+568446438&4294967295,I=k+(P<<5&4294967295|P>>>27),P=L+(k^j&(I^k))+M[14]+3275163606&4294967295,L=I+(P<<9&4294967295|P>>>23),P=j+(I^k&(L^I))+M[3]+4107603335&4294967295,j=L+(P<<14&4294967295|P>>>18),P=k+(L^I&(j^L))+M[8]+1163531501&4294967295,k=j+(P<<20&4294967295|P>>>12),P=I+(j^L&(k^j))+M[13]+2850285829&4294967295,I=k+(P<<5&4294967295|P>>>27),P=L+(k^j&(I^k))+M[2]+4243563512&4294967295,L=I+(P<<9&4294967295|P>>>23),P=j+(I^k&(L^I))+M[7]+1735328473&4294967295,j=L+(P<<14&4294967295|P>>>18),P=k+(L^I&(j^L))+M[12]+2368359562&4294967295,k=j+(P<<20&4294967295|P>>>12),P=I+(k^j^L)+M[5]+4294588738&4294967295,I=k+(P<<4&4294967295|P>>>28),P=L+(I^k^j)+M[8]+2272392833&4294967295,L=I+(P<<11&4294967295|P>>>21),P=j+(L^I^k)+M[11]+1839030562&4294967295,j=L+(P<<16&4294967295|P>>>16),P=k+(j^L^I)+M[14]+4259657740&4294967295,k=j+(P<<23&4294967295|P>>>9),P=I+(k^j^L)+M[1]+2763975236&4294967295,I=k+(P<<4&4294967295|P>>>28),P=L+(I^k^j)+M[4]+1272893353&4294967295,L=I+(P<<11&4294967295|P>>>21),P=j+(L^I^k)+M[7]+4139469664&4294967295,j=L+(P<<16&4294967295|P>>>16),P=k+(j^L^I)+M[10]+3200236656&4294967295,k=j+(P<<23&4294967295|P>>>9),P=I+(k^j^L)+M[13]+681279174&4294967295,I=k+(P<<4&4294967295|P>>>28),P=L+(I^k^j)+M[0]+3936430074&4294967295,L=I+(P<<11&4294967295|P>>>21),P=j+(L^I^k)+M[3]+3572445317&4294967295,j=L+(P<<16&4294967295|P>>>16),P=k+(j^L^I)+M[6]+76029189&4294967295,k=j+(P<<23&4294967295|P>>>9),P=I+(k^j^L)+M[9]+3654602809&4294967295,I=k+(P<<4&4294967295|P>>>28),P=L+(I^k^j)+M[12]+3873151461&4294967295,L=I+(P<<11&4294967295|P>>>21),P=j+(L^I^k)+M[15]+530742520&4294967295,j=L+(P<<16&4294967295|P>>>16),P=k+(j^L^I)+M[2]+3299628645&4294967295,k=j+(P<<23&4294967295|P>>>9),P=I+(j^(k|~L))+M[0]+4096336452&4294967295,I=k+(P<<6&4294967295|P>>>26),P=L+(k^(I|~j))+M[7]+1126891415&4294967295,L=I+(P<<10&4294967295|P>>>22),P=j+(I^(L|~k))+M[14]+2878612391&4294967295,j=L+(P<<15&4294967295|P>>>17),P=k+(L^(j|~I))+M[5]+4237533241&4294967295,k=j+(P<<21&4294967295|P>>>11),P=I+(j^(k|~L))+M[12]+1700485571&4294967295,I=k+(P<<6&4294967295|P>>>26),P=L+(k^(I|~j))+M[3]+2399980690&4294967295,L=I+(P<<10&4294967295|P>>>22),P=j+(I^(L|~k))+M[10]+4293915773&4294967295,j=L+(P<<15&4294967295|P>>>17),P=k+(L^(j|~I))+M[1]+2240044497&4294967295,k=j+(P<<21&4294967295|P>>>11),P=I+(j^(k|~L))+M[8]+1873313359&4294967295,I=k+(P<<6&4294967295|P>>>26),P=L+(k^(I|~j))+M[15]+4264355552&4294967295,L=I+(P<<10&4294967295|P>>>22),P=j+(I^(L|~k))+M[6]+2734768916&4294967295,j=L+(P<<15&4294967295|P>>>17),P=k+(L^(j|~I))+M[13]+1309151649&4294967295,k=j+(P<<21&4294967295|P>>>11),P=I+(j^(k|~L))+M[4]+4149444226&4294967295,I=k+(P<<6&4294967295|P>>>26),P=L+(k^(I|~j))+M[11]+3174756917&4294967295,L=I+(P<<10&4294967295|P>>>22),P=j+(I^(L|~k))+M[2]+718787259&4294967295,j=L+(P<<15&4294967295|P>>>17),P=k+(L^(j|~I))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(j+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+j&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,I){I===void 0&&(I=C.length);const k=I-this.blockSize,M=this.C;let j=this.h,L=0;for(;L<I;){if(j==0)for(;L<=k;)i(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<I;)if(M[j++]=C.charCodeAt(L++),j==this.blockSize){i(this,M),j=0;break}}else for(;L<I;)if(M[j++]=C[L++],j==this.blockSize){i(this,M),j=0;break}}this.h=j,this.o+=I},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;I=this.o*8;for(var k=C.length-8;k<C.length;++k)C[k]=I&255,I/=256;for(this.v(C),C=Array(16),I=0,k=0;k<4;++k)for(let M=0;M<32;M+=8)C[I++]=this.g[k]>>>M&255;return C};function o(C,I){var k=c;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=I(C)}function l(C,I){this.h=I;const k=[];let M=!0;for(let j=C.length-1;j>=0;j--){const L=C[j]|0;M&&L==I||(k[j]=L,M=!1)}this.g=k}var c={};function h(C){return-128<=C&&C<128?o(C,function(I){return new l([I|0],I<0?-1:0)}):new l([C|0],C<0?-1:0)}function f(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return D(f(-C));const I=[];let k=1;for(let M=0;C>=k;M++)I[M]=C/k|0,k*=4294967296;return new l(I,0)}function g(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return D(g(C.substring(1),I));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=f(Math.pow(I,8));let M=b;for(let L=0;L<C.length;L+=8){var j=Math.min(8,C.length-L);const P=parseInt(C.substring(L,L+j),I);j<8?(j=f(Math.pow(I,j)),M=M.j(j).add(f(P))):(M=M.j(k),M=M.add(f(P)))}return M}var b=h(0),_=h(1),w=h(16777216);t=l.prototype,t.m=function(){if(R(this))return-D(this).m();let C=0,I=1;for(let k=0;k<this.g.length;k++){const M=this.i(k);C+=(M>=0?M:4294967296+M)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(A(this))return"0";if(R(this))return"-"+D(this).toString(C);const I=f(Math.pow(C,6));var k=this;let M="";for(;;){const j=Q(k,I).g;k=V(k,j.j(I));let L=((k.g.length>0?k.g[0]:k.h)>>>0).toString(C);if(k=j,A(k))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function A(C){if(C.h!=0)return!1;for(let I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function R(C){return C.h==-1}t.l=function(C){return C=V(this,C),R(C)?-1:A(C)?0:1};function D(C){const I=C.g.length,k=[];for(let M=0;M<I;M++)k[M]=~C.g[M];return new l(k,~C.h).add(_)}t.abs=function(){return R(this)?D(this):this},t.add=function(C){const I=Math.max(this.g.length,C.g.length),k=[];let M=0;for(let j=0;j<=I;j++){let L=M+(this.i(j)&65535)+(C.i(j)&65535),P=(L>>>16)+(this.i(j)>>>16)+(C.i(j)>>>16);M=P>>>16,L&=65535,P&=65535,k[j]=P<<16|L}return new l(k,k[k.length-1]&-2147483648?-1:0)};function V(C,I){return C.add(D(I))}t.j=function(C){if(A(this)||A(C))return b;if(R(this))return R(C)?D(this).j(D(C)):D(D(this).j(C));if(R(C))return D(this.j(D(C)));if(this.l(w)<0&&C.l(w)<0)return f(this.m()*C.m());const I=this.g.length+C.g.length,k=[];for(var M=0;M<2*I;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(let j=0;j<C.g.length;j++){const L=this.i(M)>>>16,P=this.i(M)&65535,pe=C.i(j)>>>16,ye=C.i(j)&65535;k[2*M+2*j]+=P*ye,$(k,2*M+2*j),k[2*M+2*j+1]+=L*ye,$(k,2*M+2*j+1),k[2*M+2*j+1]+=P*pe,$(k,2*M+2*j+1),k[2*M+2*j+2]+=L*pe,$(k,2*M+2*j+2)}for(C=0;C<I;C++)k[C]=k[2*C+1]<<16|k[2*C];for(C=I;C<2*I;C++)k[C]=0;return new l(k,0)};function $(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function z(C,I){this.g=C,this.h=I}function Q(C,I){if(A(I))throw Error("division by zero");if(A(C))return new z(b,b);if(R(C))return I=Q(D(C),I),new z(D(I.g),D(I.h));if(R(I))return I=Q(C,D(I)),new z(D(I.g),I.h);if(C.g.length>30){if(R(C)||R(I))throw Error("slowDivide_ only works with positive integers.");for(var k=_,M=I;M.l(C)<=0;)k=W(k),M=W(M);var j=se(k,1),L=se(M,1);for(M=se(M,2),k=se(k,2);!A(M);){var P=L.add(M);P.l(C)<=0&&(j=j.add(k),L=P),M=se(M,1),k=se(k,1)}return I=V(C,j.j(I)),new z(j,I)}for(j=b;C.l(I)>=0;){for(k=Math.max(1,Math.floor(C.m()/I.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=f(k),P=L.j(I);R(P)||P.l(C)>0;)k-=M,L=f(k),P=L.j(I);A(L)&&(L=_),j=j.add(L),C=V(C,P)}return new z(j,C)}t.B=function(C){return Q(this,C).h},t.and=function(C){const I=Math.max(this.g.length,C.g.length),k=[];for(let M=0;M<I;M++)k[M]=this.i(M)&C.i(M);return new l(k,this.h&C.h)},t.or=function(C){const I=Math.max(this.g.length,C.g.length),k=[];for(let M=0;M<I;M++)k[M]=this.i(M)|C.i(M);return new l(k,this.h|C.h)},t.xor=function(C){const I=Math.max(this.g.length,C.g.length),k=[];for(let M=0;M<I;M++)k[M]=this.i(M)^C.i(M);return new l(k,this.h^C.h)};function W(C){const I=C.g.length+1,k=[];for(let M=0;M<I;M++)k[M]=C.i(M)<<1|C.i(M-1)>>>31;return new l(k,C.h)}function se(C,I){const k=I>>5;I%=32;const M=C.g.length-k,j=[];for(let L=0;L<M;L++)j[L]=I>0?C.i(L+k)>>>I|C.i(L+k+1)<<32-I:C.i(L+k);return new l(j,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,uC=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,_a=l}).apply(typeof L1<"u"?L1:typeof self<"u"?self:typeof window<"u"?window:{});var pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cC,wd,dC,Pm,Lb,hC,fC,mC;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof pm=="object"&&pm];for(var x=0;x<m.length;++x){var T=m[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(m,x){if(x)e:{var T=r;m=m.split(".");for(var O=0;O<m.length-1;O++){var X=m[O];if(!(X in T))break e;T=T[X]}m=m[m.length-1],O=T[m],x=x(O),x!=O&&x!=null&&e(T,m,{configurable:!0,writable:!0,value:x})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(x){var T=[],O;for(O in x)Object.prototype.hasOwnProperty.call(x,O)&&T.push([O,x[O]]);return T}});var o=o||{},l=this||self;function c(m){var x=typeof m;return x=="object"&&m!=null||x=="function"}function h(m,x,T){return m.call.apply(m.bind,arguments)}function f(m,x,T){return f=h,f.apply(null,arguments)}function g(m,x){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),m.apply(this,O)}}function b(m,x){function T(){}T.prototype=x.prototype,m.Z=x.prototype,m.prototype=new T,m.prototype.constructor=m,m.Ob=function(O,X,ne){for(var ge=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ge[Le-2]=arguments[Le];return x.prototype[X].apply(O,ge)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function w(m){const x=m.length;if(x>0){const T=Array(x);for(let O=0;O<x;O++)T[O]=m[O];return T}return[]}function A(m,x){for(let O=1;O<arguments.length;O++){const X=arguments[O];var T=typeof X;if(T=T!="object"?T:X?Array.isArray(X)?"array":T:"null",T=="array"||T=="object"&&typeof X.length=="number"){T=m.length||0;const ne=X.length||0;m.length=T+ne;for(let ge=0;ge<ne;ge++)m[T+ge]=X[ge]}else m.push(X)}}class R{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function D(m){l.setTimeout(()=>{throw m},0)}function V(){var m=C;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}class ${constructor(){this.h=this.g=null}add(x,T){const O=z.get();O.set(x,T),this.h?this.h.next=O:this.g=O,this.h=O}}var z=new R(()=>new Q,m=>m.reset());class Q{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let W,se=!1,C=new $,I=()=>{const m=Promise.resolve(void 0);W=()=>{m.then(k)}};function k(){for(var m;m=V();){try{m.h.call(m.g)}catch(T){D(T)}var x=z;x.j(m),x.h<100&&(x.h++,m.next=x.g,x.g=m)}se=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const T=()=>{};l.addEventListener("test",T,x),l.removeEventListener("test",T,x)}catch{}return m})();function P(m){return/^[\s\xa0]*$/.test(m)}function pe(m,x){j.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,x)}b(pe,j),pe.prototype.init=function(m,x){const T=this.type=m.type,O=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget,x||(T=="mouseover"?x=m.fromElement:T=="mouseout"&&(x=m.toElement)),this.relatedTarget=x,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),q=0;function Z(m,x,T,O,X){this.listener=m,this.proxy=null,this.src=x,this.type=T,this.capture=!!O,this.ha=X,this.key=++q,this.da=this.fa=!1}function H(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function he(m,x,T){for(const O in m)x.call(T,m[O],O,m)}function be(m,x){for(const T in m)x.call(void 0,m[T],T,m)}function F(m){const x={};for(const T in m)x[T]=m[T];return x}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(m,x){let T,O;for(let X=1;X<arguments.length;X++){O=arguments[X];for(T in O)m[T]=O[T];for(let ne=0;ne<K.length;ne++)T=K[ne],Object.prototype.hasOwnProperty.call(O,T)&&(m[T]=O[T])}}function de(m){this.src=m,this.g={},this.h=0}de.prototype.add=function(m,x,T,O,X){const ne=m.toString();m=this.g[ne],m||(m=this.g[ne]=[],this.h++);const ge=we(m,x,O,X);return ge>-1?(x=m[ge],T||(x.fa=!1)):(x=new Z(x,this.src,ne,!!O,X),x.fa=T,m.push(x)),x};function xe(m,x){const T=x.type;if(T in m.g){var O=m.g[T],X=Array.prototype.indexOf.call(O,x,void 0),ne;(ne=X>=0)&&Array.prototype.splice.call(O,X,1),ne&&(H(x),m.g[T].length==0&&(delete m.g[T],m.h--))}}function we(m,x,T,O){for(let X=0;X<m.length;++X){const ne=m[X];if(!ne.da&&ne.listener==x&&ne.capture==!!T&&ne.ha==O)return X}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),ke={};function He(m,x,T,O,X){if(Array.isArray(x)){for(let ne=0;ne<x.length;ne++)He(m,x[ne],T,O,X);return null}return T=cc(T),m&&m[ye]?m.J(x,T,c(O)?!!O.capture:!1,X):$n(m,x,T,!1,O,X)}function $n(m,x,T,O,X,ne){if(!x)throw Error("Invalid event type");const ge=c(X)?!!X.capture:!!X;let Le=Va(m);if(Le||(m[_e]=Le=new de(m)),T=Le.add(x,T,O,ge,ne),T.proxy)return T;if(O=gt(),T.proxy=O,O.src=m,O.listener=T,m.addEventListener)L||(X=ge),X===void 0&&(X=!1),m.addEventListener(x.toString(),O,X);else if(m.attachEvent)m.attachEvent(is(x.toString()),O);else if(m.addListener&&m.removeListener)m.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function gt(){function m(T){return x.call(m.src,m.listener,T)}const x=lc;return m}function Lr(m,x,T,O,X){if(Array.isArray(x))for(var ne=0;ne<x.length;ne++)Lr(m,x[ne],T,O,X);else O=c(O)?!!O.capture:!!O,T=cc(T),m&&m[ye]?(m=m.i,ne=String(x).toString(),ne in m.g&&(x=m.g[ne],T=we(x,T,O,X),T>-1&&(H(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete m.g[ne],m.h--)))):m&&(m=Va(m))&&(x=m.g[x.toString()],m=-1,x&&(m=we(x,T,O,X)),(T=m>-1?x[m]:null)&&fl(T))}function fl(m){if(typeof m!="number"&&m&&!m.da){var x=m.src;if(x&&x[ye])xe(x.i,m);else{var T=m.type,O=m.proxy;x.removeEventListener?x.removeEventListener(T,O,m.capture):x.detachEvent?x.detachEvent(is(T),O):x.addListener&&x.removeListener&&x.removeListener(O),(T=Va(x))?(xe(T,m),T.h==0&&(T.src=null,x[_e]=null)):H(m)}}}function is(m){return m in ke?ke[m]:ke[m]="on"+m}function lc(m,x){if(m.da)m=!0;else{x=new pe(x,this);const T=m.listener,O=m.ha||m.src;m.fa&&fl(m),m=T.call(O,x)}return m}function Va(m){return m=m[_e],m instanceof de?m:null}var uc="__closure_events_fn_"+(Math.random()*1e9>>>0);function cc(m){return typeof m=="function"?m:(m[uc]||(m[uc]=function(x){return m.handleEvent(x)}),m[uc])}function Bt(){M.call(this),this.i=new de(this),this.M=this,this.G=null}b(Bt,M),Bt.prototype[ye]=!0,Bt.prototype.removeEventListener=function(m,x,T,O){Lr(this,m,x,T,O)};function nn(m,x){var T,O=m.G;if(O)for(T=[];O;O=O.G)T.push(O);if(m=m.M,O=x.type||x,typeof x=="string")x=new j(x,m);else if(x instanceof j)x.target=x.target||m;else{var X=x;x=new j(O,m),ce(x,X)}X=!0;let ne,ge;if(T)for(ge=T.length-1;ge>=0;ge--)ne=x.g=T[ge],X=Ii(ne,O,!0,x)&&X;if(ne=x.g=m,X=Ii(ne,O,!0,x)&&X,X=Ii(ne,O,!1,x)&&X,T)for(ge=0;ge<T.length;ge++)ne=x.g=T[ge],X=Ii(ne,O,!1,x)&&X}Bt.prototype.N=function(){if(Bt.Z.N.call(this),this.i){var m=this.i;for(const x in m.g){const T=m.g[x];for(let O=0;O<T.length;O++)H(T[O]);delete m.g[x],m.h--}}this.G=null},Bt.prototype.J=function(m,x,T,O){return this.i.add(String(m),x,!1,T,O)},Bt.prototype.K=function(m,x,T,O){return this.i.add(String(m),x,!0,T,O)};function Ii(m,x,T,O){if(x=m.i.g[String(x)],!x)return!0;x=x.concat();let X=!0;for(let ne=0;ne<x.length;++ne){const ge=x[ne];if(ge&&!ge.da&&ge.capture==T){const Le=ge.listener,zt=ge.ha||ge.src;ge.fa&&xe(m.i,ge),X=Le.call(zt,O)!==!1&&X}}return X&&!O.defaultPrevented}function Vg(m,x){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:l.setTimeout(m,x||0)}function Mh(m){m.g=Vg(()=>{m.g=null,m.i&&(m.i=!1,Mh(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}class Nn extends M{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Mh(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function La(m){M.call(this),this.h=m,this.g={}}b(La,M);var dc=[];function hc(m){he(m.g,function(x,T){this.g.hasOwnProperty(T)&&fl(x)},m),m.g={}}La.prototype.N=function(){La.Z.N.call(this),hc(this)},La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ri=l.JSON.stringify,Lg=l.JSON.parse,jh=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function Vh(){}function Lh(){}var zr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pn(){j.call(this,"d")}b(pn,j);function mr(){j.call(this,"c")}b(mr,j);var Lt={},zh=null;function ml(){return zh=zh||new Bt}Lt.Ia="serverreachability";function Uh(m){j.call(this,Lt.Ia,m)}b(Uh,j);function as(m){const x=ml();nn(x,new Uh(x))}Lt.STAT_EVENT="statevent";function za(m,x){j.call(this,Lt.STAT_EVENT,m),this.stat=x}b(za,j);function qt(m){const x=ml();nn(x,new za(x,m))}Lt.Ja="timingevent";function os(m,x){j.call(this,Lt.Ja,m),this.size=x}b(os,j);function ls(m,x){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},x)}function Ur(){this.g=!0}Ur.prototype.ua=function(){this.g=!1};function zg(m,x,T,O,X,ne){m.info(function(){if(m.g)if(ne){var ge="",Le=ne.split("&");for(let at=0;at<Le.length;at++){var zt=Le[at].split("=");if(zt.length>1){const Tt=zt[0];zt=zt[1];const vr=Tt.split("_");ge=vr.length>=2&&vr[1]=="type"?ge+(Tt+"="+zt+"&"):ge+(Tt+"=redacted&")}}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+O+") [attempt "+X+"]: "+x+`
`+T+`
`+ge})}function $h(m,x,T,O,X,ne,ge){m.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+X+"]: "+x+`
`+T+`
`+ne+" "+ge})}function us(m,x,T,O){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+Ug(m,T)+(O?" "+O:"")})}function Ua(m,x){m.info(function(){return"TIMEOUT: "+x})}Ur.prototype.info=function(){};function Ug(m,x){if(!m.g)return x;if(!x)return null;try{const ne=JSON.parse(x);if(ne){for(m=0;m<ne.length;m++)if(Array.isArray(ne[m])){var T=ne[m];if(!(T.length<2)){var O=T[1];if(Array.isArray(O)&&!(O.length<1)){var X=O[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ge=1;ge<O.length;ge++)O[ge]=""}}}}return Ri(ne)}catch{return x}}var $a={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mc;function Fa(){}b(Fa,Vh),Fa.prototype.g=function(){return new XMLHttpRequest},mc=new Fa;function Bs(m){return encodeURIComponent(String(m))}function Fh(m){var x=1;m=m.split(":");const T=[];for(;x>0&&m.length;)T.push(m.shift()),x--;return m.length&&T.push(m.join(":")),T}function $r(m,x,T,O){this.j=m,this.i=x,this.l=T,this.S=O||1,this.V=new La(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fr}function Fr(){this.i=null,this.g="",this.h=!1}var Ht={},un={};function cs(m,x,T){m.M=1,m.A=Ba(Kt(x)),m.u=T,m.R=!0,pl(m,null)}function pl(m,x){m.F=Date.now(),ds(m),m.B=Kt(m.A);var T=m.B,O=m.S;Array.isArray(O)||(O=[String(O)]),bl(T.i,"t",O),m.C=0,T=m.j.L,m.h=new Fr,m.g=rf(m.j,T?x:null,!m.u),m.P>0&&(m.O=new Nn(f(m.Y,m,m.g),m.P)),x=m.V,T=m.g,O=m.ba;var X="readystatechange";Array.isArray(X)||(X&&(dc[0]=X.toString()),X=dc);for(let ne=0;ne<X.length;ne++){const ge=He(T,X[ne],O||x.handleEvent,!1,x.h||x);if(!ge)break;x.g[ge.key]=ge}x=m.J?F(m.J):{},m.u?(m.v||(m.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,x)):(m.v="GET",m.g.ea(m.B,m.v,null,x)),as(),zg(m.i,m.v,m.B,m.l,m.S,m.u)}$r.prototype.ba=function(m){m=m.target;const x=this.O;x&&Hr(m)==3?x.j():this.Y(m)},$r.prototype.Y=function(m){try{if(m==this.g)e:{const Le=Hr(this.g),zt=this.g.ya(),at=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||gn(this.g)))){this.K||Le!=4||zt==7||(zt==8||at<=0?as(3):as(2)),hs(this);var x=this.g.ca();this.X=x;var T=$g(this);if(this.o=x==200,$h(this.i,this.v,this.B,this.l,this.S,Le,x),this.o){if(this.U&&!this.L){t:{if(this.g){var O,X=this.g;if((O=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(O)){var ne=O;break t}}ne=null}if(m=ne)us(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fs(this,m);else{this.o=!1,this.m=3,qt(12),Jn(this),pr(this);break e}}if(this.R){m=!0;let Tt;for(;!this.K&&this.C<T.length;)if(Tt=qh(this,T),Tt==un){Le==4&&(this.m=4,qt(14),m=!1),us(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Ht){this.m=4,qt(15),us(this.i,this.l,T,"[Invalid Chunk]"),m=!1;break}else us(this.i,this.l,Tt,null),fs(this,Tt);if(Bh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||T.length!=0||this.h.h||(this.m=1,qt(16),m=!1),this.o=this.o&&m,!m)us(this.i,this.l,T,"[Invalid Chunked Response]"),Jn(this),pr(this);else if(T.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Cc(ge),ge.P=!0,qt(11))}}else us(this.i,this.l,T,null),fs(this,T);Le==4&&Jn(this),this.o&&!this.K&&(Le==4?Jh(this.j,this):(this.o=!1,ds(this)))}else Hs(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),Jn(this),pr(this)}}}catch{}};function $g(m){if(!Bh(m))return m.g.la();const x=gn(m.g);if(x==="")return"";let T="";const O=x.length,X=Hr(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Jn(m),pr(m),"";m.h.i=new l.TextDecoder}for(let ne=0;ne<O;ne++)m.h.h=!0,T+=m.h.i.decode(x[ne],{stream:!(X&&ne==O-1)});return x.length=0,m.h.g+=T,m.C=0,m.h.g}function Bh(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function qh(m,x){var T=m.C,O=x.indexOf(`
`,T);return O==-1?un:(T=Number(x.substring(T,O)),isNaN(T)?Ht:(O+=1,O+T>x.length?un:(x=x.slice(O,O+T),m.C=O+T,x)))}$r.prototype.cancel=function(){this.K=!0,Jn(this)};function ds(m){m.T=Date.now()+m.H,gl(m,m.H)}function gl(m,x){if(m.D!=null)throw Error("WatchDog timer not null");m.D=ls(f(m.aa,m),x)}function hs(m){m.D&&(l.clearTimeout(m.D),m.D=null)}$r.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Ua(this.i,this.B),this.M!=2&&(as(),qt(17)),Jn(this),this.m=2,pr(this)):gl(this,this.T-m)};function pr(m){m.j.I==0||m.K||Jh(m.j,m)}function Jn(m){hs(m);var x=m.O;x&&typeof x.dispose=="function"&&x.dispose(),m.O=null,hc(m.V),m.g&&(x=m.g,m.g=null,x.abort(),x.dispose())}function fs(m,x){try{var T=m.j;if(T.I!=0&&(T.g==m||ps(T.h,m))){if(!m.L&&ps(T.h,m)&&T.I==3){try{var O=T.Ba.g.parse(x)}catch{O=null}if(Array.isArray(O)&&O.length==3){var X=O;if(X[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<m.F)Tl(T),ji(T);else break e;Ya(T),qt(18)}}else T.xa=X[1],0<T.xa-T.K&&X[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=ls(f(T.Va,T),6e3));ms(T.h)<=1&&T.ta&&(T.ta=void 0)}else xs(T,11)}else if((m.L||T.g==m)&&Tl(T),!P(x))for(X=T.Ba.g.parse(x),x=0;x<X.length;x++){let at=X[x];const Tt=at[0];if(!(Tt<=T.K))if(T.K=Tt,at=at[1],T.I==2)if(at[0]=="c"){T.M=at[1],T.ba=at[2];const vr=at[3];vr!=null&&(T.ka=vr,T.j.info("VER="+T.ka));const ws=at[4];ws!=null&&(T.za=ws,T.j.info("SVER="+T.za));const Gr=at[5];Gr!=null&&typeof Gr=="number"&&Gr>0&&(O=1.5*Gr,T.O=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const Kr=m.g;if(Kr){const Wa=Kr.g?Kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wa){var ne=O.h;ne.g||Wa.indexOf("spdy")==-1&&Wa.indexOf("quic")==-1&&Wa.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(yc(ne,ne.h),ne.h=null))}if(O.G){const Sl=Kr.g?Kr.g.getResponseHeader("X-HTTP-Session-Id"):null;Sl&&(O.wa=Sl,ut(O.J,O.G,Sl))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-m.F,T.j.info("Handshake RTT: "+T.T+"ms")),O=T;var ge=m;if(O.na=nf(O,O.L?O.ba:null,O.W),ge.L){vc(O.h,ge);var Le=ge,zt=O.O;zt&&(Le.H=zt),Le.D&&(hs(Le),ds(Le)),O.g=ge}else Wh(O);T.i.length>0&&_s(T)}else at[0]!="stop"&&at[0]!="close"||xs(T,7);else T.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?xs(T,7):Ic(T):at[0]!="noop"&&T.l&&T.l.qa(at),T.A=0)}}as(4)}catch{}}var Gt=class{constructor(m,x){this.g=m,this.map=x}};function pc(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gc(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ms(m){return m.h?1:m.g?m.g.size:0}function ps(m,x){return m.h?m.h==x:m.g?m.g.has(x):!1}function yc(m,x){m.g?m.g.add(x):m.h=x}function vc(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}pc.prototype.cancel=function(){if(this.i=bc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function bc(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let x=m.i;for(const T of m.g.values())x=x.concat(T.G);return x}return w(m.i)}var Hh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yl(m,x){if(m){m=m.split("&");for(let T=0;T<m.length;T++){const O=m[T].indexOf("=");let X,ne=null;O>=0?(X=m[T].substring(0,O),ne=m[T].substring(O+1)):X=m[T],x(X,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function er(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;m instanceof er?(this.l=m.l,cn(this,m.j),this.o=m.o,this.g=m.g,Ci(this,m.u),this.h=m.h,_c(this,Zh(m.i)),this.m=m.m):m&&(x=String(m).match(Hh))?(this.l=!1,cn(this,x[1]||"",!0),this.o=gs(x[2]||""),this.g=gs(x[3]||"",!0),Ci(this,x[4]),this.h=gs(x[5]||"",!0),_c(this,x[6]||"",!0),this.m=gs(x[7]||"")):(this.l=!1,this.i=new Di(null,this.l))}er.prototype.toString=function(){const m=[];var x=this.j;x&&m.push(qa(x,vl,!0),":");var T=this.g;return(T||x=="file")&&(m.push("//"),(x=this.o)&&m.push(qa(x,vl,!0),"@"),m.push(Bs(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&m.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&m.push("/"),m.push(qa(T,T.charAt(0)=="/"?xc:Gh,!0))),(T=this.i.toString())&&m.push("?",T),(T=this.m)&&m.push("#",qa(T,Kh)),m.join("")},er.prototype.resolve=function(m){const x=Kt(this);let T=!!m.j;T?cn(x,m.j):T=!!m.o,T?x.o=m.o:T=!!m.g,T?x.g=m.g:T=m.u!=null;var O=m.h;if(T)Ci(x,m.u);else if(T=!!m.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var X=x.h.lastIndexOf("/");X!=-1&&(O=x.h.slice(0,X+1)+O)}if(X=O,X==".."||X==".")O="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){O=X.lastIndexOf("/",0)==0,X=X.split("/");const ne=[];for(let ge=0;ge<X.length;){const Le=X[ge++];Le=="."?O&&ge==X.length&&ne.push(""):Le==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),O&&ge==X.length&&ne.push("")):(ne.push(Le),O=!0)}O=ne.join("/")}else O=X}return T?x.h=O:T=m.i.toString()!=="",T?_c(x,Zh(m.i)):T=!!m.m,T&&(x.m=m.m),x};function Kt(m){return new er(m)}function cn(m,x,T){m.j=T?gs(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function Ci(m,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);m.u=x}else m.u=null}function _c(m,x,T){x instanceof Di?(m.i=x,_l(m.i,m.l)):(T||(x=qa(x,Ni)),m.i=new Di(x,m.l))}function ut(m,x,T){m.i.set(x,T)}function Ba(m){return ut(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function gs(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function qa(m,x,T){return typeof m=="string"?(m=encodeURI(m).replace(x,Fn),T&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Fn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var vl=/[#\/\?@]/g,Gh=/[#\?:]/g,xc=/[#\?]/g,Ni=/[#\?@]/g,Kh=/#/g;function Di(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function Bn(m){m.g||(m.g=new Map,m.h=0,m.i&&yl(m.i,function(x,T){m.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=Di.prototype,t.add=function(m,x){Bn(this),this.i=null,m=Oi(this,m);let T=this.g.get(m);return T||this.g.set(m,T=[]),T.push(x),this.h+=1,this};function Qh(m,x){Bn(m),x=Oi(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function wc(m,x){return Bn(m),x=Oi(m,x),m.g.has(x)}t.forEach=function(m,x){Bn(this),this.g.forEach(function(T,O){T.forEach(function(X){m.call(x,X,O,this)},this)},this)};function Ec(m,x){Bn(m);let T=[];if(typeof x=="string")wc(m,x)&&(T=T.concat(m.g.get(Oi(m,x))));else for(m=Array.from(m.g.values()),x=0;x<m.length;x++)T=T.concat(m[x]);return T}t.set=function(m,x){return Bn(this),this.i=null,m=Oi(this,m),wc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},t.get=function(m,x){return m?(m=Ec(this,m),m.length>0?String(m[0]):x):x};function bl(m,x,T){Qh(m,x),T.length>0&&(m.i=null,m.g.set(Oi(m,x),w(T)),m.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(let O=0;O<x.length;O++){var T=x[O];const X=Bs(T);T=Ec(this,T);for(let ne=0;ne<T.length;ne++){let ge=X;T[ne]!==""&&(ge+="="+Bs(T[ne])),m.push(ge)}}return this.i=m.join("&")};function Zh(m){const x=new Di;return x.i=m.i,m.g&&(x.g=new Map(m.g),x.h=m.h),x}function Oi(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function _l(m,x){x&&!m.j&&(Bn(m),m.i=null,m.g.forEach(function(T,O){const X=O.toLowerCase();O!=X&&(Qh(this,O),bl(this,X,T))},m)),m.j=x}function Br(m,x){const T=new Ur;if(l.Image){const O=new Image;O.onload=g(gr,T,"TestLoadImage: loaded",!0,x,O),O.onerror=g(gr,T,"TestLoadImage: error",!1,x,O),O.onabort=g(gr,T,"TestLoadImage: abort",!1,x,O),O.ontimeout=g(gr,T,"TestLoadImage: timeout",!1,x,O),l.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=m}else x(!1)}function Tc(m,x){const T=new Ur,O=new AbortController,X=setTimeout(()=>{O.abort(),gr(T,"TestPingServer: timeout",!1,x)},1e4);fetch(m,{signal:O.signal}).then(ne=>{clearTimeout(X),ne.ok?gr(T,"TestPingServer: ok",!0,x):gr(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(X),gr(T,"TestPingServer: error",!1,x)})}function gr(m,x,T,O,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),O(T)}catch{}}function ki(){this.g=new jh}function ys(m){this.i=m.Sb||null,this.h=m.ab||!1}b(ys,Vh),ys.prototype.g=function(){return new Ha(this.i,this.h)};function Ha(m,x){Bt.call(this),this.H=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ha,Bt),t=Ha.prototype,t.open=function(m,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=x,this.readyState=1,qr(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(x.body=m),(this.H||l).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pi(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,qr(this)),this.g&&(this.readyState=3,qr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xl(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function xl(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?Pi(this):qr(this),this.readyState==3&&xl(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,Pi(this))},t.Na=function(m){this.g&&(this.response=m,Pi(this))},t.ga=function(){this.g&&Pi(this)};function Pi(m){m.readyState=4,m.l=null,m.j=null,m.B=null,qr(m)}t.setRequestHeader=function(m,x){this.A.append(m,x)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,m.push(T[0]+": "+T[1]),T=x.next();return m.join(`\r
`)};function qr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function yr(m){let x="";return he(m,function(T,O){x+=O,x+=":",x+=T,x+=`\r
`}),x}function Ga(m,x,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=yr(T),typeof m=="string"?T!=null&&Bs(T):ut(m,x,T))}function yt(m){Bt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(yt,Bt);var vs=/^https?$/i,Sc=["POST","PUT"];t=yt.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,x,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mc.g(),this.g.onreadystatechange=_(f(this.Ca,this));try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(ne){Ka(this,ne);return}if(m=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var X in O)T.set(X,O[X]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ne of O.keys())T.set(ne,O.get(ne));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=l.FormData&&m instanceof l.FormData,!(Array.prototype.indexOf.call(Sc,x,void 0)>=0)||O||X||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of T)this.g.setRequestHeader(ne,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(ne){Ka(this,ne)}};function Ka(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.o=5,Ac(m),qs(m)}function Ac(m){m.A||(m.A=!0,nn(m,"complete"),nn(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,nn(this,"complete"),nn(this,"abort"),qs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qs(this,!0)),yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Qa(this):this.Xa())},t.Xa=function(){Qa(this)};function Qa(m){if(m.h&&typeof o<"u"){if(m.v&&Hr(m)==4)setTimeout(m.Ca.bind(m),0);else if(nn(m,"readystatechange"),Hr(m)==4){m.h=!1;try{const ne=m.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var O;if(O=ne===0){let ge=String(m.D).match(Hh)[1]||null;!ge&&l.self&&l.self.location&&(ge=l.self.location.protocol.slice(0,-1)),O=!vs.test(ge?ge.toLowerCase():"")}T=O}if(T)nn(m,"complete"),nn(m,"success");else{m.o=6;try{var X=Hr(m)>2?m.g.statusText:""}catch{X=""}m.l=X+" ["+m.ca()+"]",Ac(m)}}finally{qs(m)}}}}function qs(m,x){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const T=m.g;m.g=null,x||nn(m,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Hr(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Hr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var x=this.g.responseText;return m&&x.indexOf(m)==0&&(x=x.substring(m.length)),Lg(x)}};function gn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Hs(m){const x={};m=(m.g&&Hr(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<m.length;O++){if(P(m[O]))continue;var T=Fh(m[O]);const X=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=x[X]||[];x[X]=ne,ne.push(T)}be(x,function(O){return O.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(m,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[m]||x}function Mi(m){this.za=0,this.i=[],this.j=new Ur,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bs("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bs("baseRetryDelayMs",5e3,m),this.Za=bs("retryDelaySeedMs",1e4,m),this.Ta=bs("forwardChannelMaxRetries",2,m),this.va=bs("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new pc(m&&m.concurrentRequestLimit),this.Ba=new ki,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Mi.prototype,t.ka=8,t.I=1,t.connect=function(m,x,T,O){qt(0),this.W=m,this.H=x||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.J=nf(this,null,this.W),_s(this)};function Ic(m){if(wl(m),m.I==3){var x=m.V++,T=Kt(m.J);if(ut(T,"SID",m.M),ut(T,"RID",x),ut(T,"TYPE","terminate"),Za(m,T),x=new $r(m,m.j,x),x.M=2,x.A=Ba(Kt(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&l.Image&&(new Image().src=x.A,T=!0),T||(x.g=rf(x.j,null),x.g.ea(x.A)),x.F=Date.now(),ds(x)}tf(m)}function ji(m){m.g&&(Cc(m),m.g.cancel(),m.g=null)}function wl(m){ji(m),m.v&&(l.clearTimeout(m.v),m.v=null),Tl(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&l.clearTimeout(m.m),m.m=null)}function _s(m){if(!gc(m.h)&&!m.m){m.m=!0;var x=m.Ea;W||I(),se||(W(),se=!0),C.add(x,m),m.D=0}}function El(m,x){return ms(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=x.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=ls(f(m.Ea,m,x),ef(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const X=new $r(this,this.j,m);let ne=this.o;if(this.U&&(ne?(ne=F(ne),ce(ne,this.U)):ne=this.U),this.u!==null||this.R||(X.J=ne,ne=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(x+=O,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=Yh(this,X,x),T=Kt(this.J),ut(T,"RID",m),ut(T,"CVER",22),this.G&&ut(T,"X-HTTP-Session-Id",this.G),Za(this,T),ne&&(this.R?x="headers="+Bs(yr(ne))+"&"+x:this.u&&Ga(T,this.u,ne)),yc(this.h,X),this.Ra&&ut(T,"TYPE","init"),this.S?(ut(T,"$req",x),ut(T,"SID","null"),X.U=!0,cs(X,T,null)):cs(X,T,x),this.I=2}}else this.I==3&&(m?Rc(this,m):this.i.length==0||gc(this.h)||Rc(this))};function Rc(m,x){var T;x?T=x.l:T=m.V++;const O=Kt(m.J);ut(O,"SID",m.M),ut(O,"RID",T),ut(O,"AID",m.K),Za(m,O),m.u&&m.o&&Ga(O,m.u,m.o),T=new $r(m,m.j,T,m.D+1),m.u===null&&(T.J=m.o),x&&(m.i=x.G.concat(m.i)),x=Yh(m,T,1e3),T.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),yc(m.h,T),cs(T,O,x)}function Za(m,x){m.H&&he(m.H,function(T,O){ut(x,O,T)}),m.l&&he({},function(T,O){ut(x,O,T)})}function Yh(m,x,T){T=Math.min(m.i.length,T);const O=m.l?f(m.l.Ka,m.l,m):null;e:{var X=m.i;let Le=-1;for(;;){const zt=["count="+T];Le==-1?T>0?(Le=X[0].g,zt.push("ofs="+Le)):Le=0:zt.push("ofs="+Le);let at=!0;for(let Tt=0;Tt<T;Tt++){var ne=X[Tt].g;const vr=X[Tt].map;if(ne-=Le,ne<0)Le=Math.max(0,X[Tt].g-100),at=!1;else try{ne="req"+ne+"_"||"";try{var ge=vr instanceof Map?vr:Object.entries(vr);for(const[ws,Gr]of ge){let Kr=Gr;c(Gr)&&(Kr=Ri(Gr)),zt.push(ne+ws+"="+encodeURIComponent(Kr))}}catch(ws){throw zt.push(ne+"type="+encodeURIComponent("_badmap")),ws}}catch{O&&O(vr)}}if(at){ge=zt.join("&");break e}}ge=void 0}return m=m.i.splice(0,T),x.G=m,ge}function Wh(m){if(!m.g&&!m.v){m.Y=1;var x=m.Da;W||I(),se||(W(),se=!0),C.add(x,m),m.A=0}}function Ya(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=ls(f(m.Da,m),ef(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,Xh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=ls(f(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),ji(this),Xh(this))};function Cc(m){m.B!=null&&(l.clearTimeout(m.B),m.B=null)}function Xh(m){m.g=new $r(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var x=Kt(m.na);ut(x,"RID","rpc"),ut(x,"SID",m.M),ut(x,"AID",m.K),ut(x,"CI",m.F?"0":"1"),!m.F&&m.ia&&ut(x,"TO",m.ia),ut(x,"TYPE","xmlhttp"),Za(m,x),m.u&&m.o&&Ga(x,m.u,m.o),m.O&&(m.g.H=m.O);var T=m.g;m=m.ba,T.M=1,T.A=Ba(Kt(x)),T.u=null,T.R=!0,pl(T,m)}t.Va=function(){this.C!=null&&(this.C=null,ji(this),Ya(this),qt(19))};function Tl(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function Jh(m,x){var T=null;if(m.g==x){Tl(m),Cc(m),m.g=null;var O=2}else if(ps(m.h,x))T=x.G,vc(m.h,x),O=1;else return;if(m.I!=0){if(x.o)if(O==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var X=m.D;O=ml(),nn(O,new os(O,T)),_s(m)}else Wh(m);else if(X=x.m,X==3||X==0&&x.X>0||!(O==1&&El(m,x)||O==2&&Ya(m)))switch(T&&T.length>0&&(x=m.h,x.i=x.i.concat(T)),X){case 1:xs(m,5);break;case 4:xs(m,10);break;case 3:xs(m,6);break;default:xs(m,2)}}}function ef(m,x){let T=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(T*=2),T*x}function xs(m,x){if(m.j.info("Error code "+x),x==2){var T=f(m.bb,m),O=m.Ua;const X=!O;O=new er(O||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||cn(O,"https"),Ba(O),X?Br(O.toString(),T):Tc(O.toString(),T)}else qt(2);m.I=0,m.l&&m.l.pa(x),tf(m),wl(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function tf(m){if(m.I=0,m.ja=[],m.l){const x=bc(m.h);(x.length!=0||m.i.length!=0)&&(A(m.ja,x),A(m.ja,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.oa()}}function nf(m,x,T){var O=T instanceof er?Kt(T):new er(T);if(O.g!="")x&&(O.g=x+"."+O.g),Ci(O,O.u);else{var X=l.location;O=X.protocol,x=x?x+"."+X.hostname:X.hostname,X=+X.port;const ne=new er(null);O&&cn(ne,O),x&&(ne.g=x),X&&Ci(ne,X),T&&(ne.h=T),O=ne}return T=m.G,x=m.wa,T&&x&&ut(O,T,x),ut(O,"VER",m.ka),Za(m,O),O}function rf(m,x,T){if(x&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=m.Aa&&!m.ma?new yt(new ys({ab:T})):new yt(m.ma),x.Fa(m.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sf(){}t=sf.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Vi(){}Vi.prototype.g=function(m,x){return new Dn(m,x)};function Dn(m,x){Bt.call(this),this.g=new Mi(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(m?m["X-WebChannel-Client-Profile"]=x.sa:m={"X-WebChannel-Client-Profile":x.sa}),this.g.U=m,(m=x&&x.Qb)&&!P(m)&&(this.g.u=m),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!P(x)&&(this.g.G=x,m=this.h,m!==null&&x in m&&(m=this.h,x in m&&delete m[x])),this.j=new Gs(this)}b(Dn,Bt),Dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){Ic(this.g)},Dn.prototype.o=function(m){var x=this.g;if(typeof m=="string"){var T={};T.__data__=m,m=T}else this.v&&(T={},T.__data__=Ri(m),m=T);x.i.push(new Gt(x.Ya++,m)),x.I==3&&_s(x)},Dn.prototype.N=function(){this.g.l=null,delete this.j,Ic(this.g),delete this.g,Dn.Z.N.call(this)};function af(m){pn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){e:{for(const T in x){m=T;break e}m=void 0}(this.i=m)&&(m=this.i,x=x!==null&&m in x?x[m]:void 0),this.data=x}else this.data=m}b(af,pn);function of(){mr.call(this),this.status=1}b(of,mr);function Gs(m){this.g=m}b(Gs,sf),Gs.prototype.ra=function(){nn(this.g,"a")},Gs.prototype.qa=function(m){nn(this.g,new af(m))},Gs.prototype.pa=function(m){nn(this.g,new of)},Gs.prototype.oa=function(){nn(this.g,"b")},Vi.prototype.createWebChannel=Vi.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,mC=function(){return new Vi},fC=function(){return ml()},hC=Lt,Lb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$a.NO_ERROR=0,$a.TIMEOUT=8,$a.HTTP_ERROR=6,Pm=$a,fc.COMPLETE="complete",dC=fc,Lh.EventType=zr,zr.OPEN="a",zr.CLOSE="b",zr.ERROR="c",zr.MESSAGE="d",Bt.prototype.listen=Bt.prototype.J,wd=Lh,yt.prototype.listenOnce=yt.prototype.K,yt.prototype.getLastError=yt.prototype.Ha,yt.prototype.getLastErrorCode=yt.prototype.ya,yt.prototype.getStatus=yt.prototype.ca,yt.prototype.getResponseJson=yt.prototype.La,yt.prototype.getResponseText=yt.prototype.la,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Fa,cC=yt}).apply(typeof pm<"u"?pm:typeof self<"u"?self:typeof window<"u"?window:{});const z1="@firebase/firestore",U1="4.9.3";class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");let Zu="12.7.0";const qo=new q_("@firebase/firestore");function uu(){return qo.logLevel}function fe(t,...e){if(qo.logLevel<=We.DEBUG){const n=e.map(Q_);qo.debug(`Firestore (${Zu}): ${t}`,...n)}}function jn(t,...e){if(qo.logLevel<=We.ERROR){const n=e.map(Q_);qo.error(`Firestore (${Zu}): ${t}`,...n)}}function Ho(t,...e){if(qo.logLevel<=We.WARN){const n=e.map(Q_);qo.warn(`Firestore (${Zu}): ${t}`,...n)}}function Q_(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,pC(t,r,n)}function pC(t,e,n){let r=`FIRESTORE (${Zu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw jn(r),new Error(r)}function Re(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||pC(e,i,r)}function je(t,e){return t}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ds{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class gC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xn.UNAUTHENTICATED)))}shutdown(){}}class b3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _3{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ds,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},c=h=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ds)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new gC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class x3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new x3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);const r=o=>{o.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function T3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Z_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=T3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function zb(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Jv(i)===Jv(o)?Me(i,o):Jv(i)?1:-1}return Me(t.length,e.length)}const S3=55296,A3=57343;function Jv(t){const e=t.charCodeAt(0);return e>=S3&&e<=A3}function Su(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function yC(t){return t+"\0"}const F1="__name__";class Rs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Rs.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Me(e.length,n.length)}static compareSegments(e,n){const r=Rs.isNumericId(e),i=Rs.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Rs.extractNumericId(e).compare(Rs.extractNumericId(n)):zb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _a.fromString(e.substring(4,e.length-2))}}class it extends Rs{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const I3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Rs{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return I3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F1}static keyField(){return new Ct([F1])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(it.fromString(e))}static fromName(e){return new ve(it.fromString(e).popFirst(5))}static empty(){return new ve(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new it(e.slice()))}}function vC(t,e,n){if(!n)throw new me(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function R3(t,e,n,r){if(e===!0&&r===!0)throw new me(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function B1(t){if(!ve.isDocumentKey(t))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function q1(t){if(ve.isDocumentKey(t))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function dr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xp(t);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function C3(t,e){if(e<=0)throw new me(ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Jt(t,e){const n={typeString:t};return e&&(n.value=e),n}function yh(t,e){if(!bC(t))throw new me(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new me(ie.INVALID_ARGUMENT,n);return!0}const H1=-62135596800,G1=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*G1);return new ht(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<H1)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G1}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yh(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-H1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Jt("string",ht._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new ht(0,0))}static max(){return new Ne(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Kd=-1;class ap{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Ub(t){return t.fields.find((e=>e.kind===2))}function yo(t){return t.fields.filter((e=>e.kind!==2))}ap.UNKNOWN_ID=-1;class Mm{constructor(e,n){this.fieldPath=e,this.kind=n}}class Qd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Qd(0,fr.min())}}function N3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new fr(i,ve.empty(),e)}function _C(t){return new fr(t.readTime,t.key,Kd)}class fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fr(Ne.min(),ve.empty(),Kd)}static max(){return new fr(Ne.max(),ve.empty(),Kd)}}function Y_(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}const xC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ol(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==xC)throw t;fe("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.reject(n)}static resolve(e){return new Y(((n,r)=>{n(e)}))}static reject(e){return new Y(((n,r)=>{r(e)}))}static waitFor(e){return new Y(((n,r)=>{let i=0,o=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++o,l&&o===i&&n()}),(h=>r(h)))})),l=!0,o===i&&n()}))}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next((i=>i?Y.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new Y(((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next((g=>{l[f]=g,++c,c===o&&r(l)}),(g=>i(g)))}}))}static doWhile(e,n){return new Y(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}const lr="SimpleDb";class Jp{static open(e,n,r,i){try{return new Jp(n,e.transaction(i,r))}catch(o){throw new kd(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Ds,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new kd(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=W_(r.target.error);this.S.reject(new kd(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(fe(lr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new O3(n)}}class xa{static delete(e){return fe(lr,"Removing database:",e),_o(QR().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!rC())return!1;if(xa.F())return!0;const e=on(),n=xa.M(e),r=0<n&&n<10,i=EC(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,xa.M(on())===12.2&&jn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(fe(lr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const l=o.target.result;n(l)},i.onblocked=()=>{r(new kd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const l=o.target.error;l.name==="VersionError"?r(new me(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new me(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new kd(e,l))},i.onupgradeneeded=o=>{fe(lr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const l=o.target.result;this.N.k(l,i.transaction,o.oldVersion,this.version).next((()=>{fe(lr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const c=Jp.open(this.db,e,o?"readonly":"readwrite",r),h=i(c).next((f=>(c.C(),f))).catch((f=>(c.abort(f),Y.reject(f)))).toPromise();return h.catch((()=>{})),await c.D,h}catch(c){const h=c,f=h.name!=="FirebaseError"&&l<3;if(fe(lr,"Transaction failed with error:",h.message,"Retrying:",f),this.close(),!f)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function EC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class D3{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return _o(this.U.delete())}}class kd extends me{constructor(e,n){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Da(t){return t.name==="IndexedDbTransactionError"}class O3{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(fe(lr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(fe(lr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),_o(r)}add(e){return fe(lr,"ADD",this.store.name,e,e),_o(this.store.add(e))}get(e){return _o(this.store.get(e)).next((n=>(n===void 0&&(n=null),fe(lr,"GET",this.store.name,e,n),n)))}delete(e){return fe(lr,"DELETE",this.store.name,e),_o(this.store.delete(e))}count(){return fe(lr,"COUNT",this.store.name),_o(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new Y(((l,c)=>{o.onerror=h=>{c(h.target.error)},o.onsuccess=h=>{l(h.target.result)}}))}{const o=this.cursor(r),l=[];return this.H(o,((c,h)=>{l.push(h)})).next((()=>l))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Y(((i,o)=>{r.onerror=l=>{o(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,n){fe(lr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((o,l,c)=>c.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new Y(((r,i)=>{n.onerror=o=>{const l=W_(o.target.error);i(l)},n.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next((c=>{c?l.continue():r()})):r()}}))}H(e,n){const r=[];return new Y(((i,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void i();const h=new D3(c),f=n(c.primaryKey,c.value,h);if(f instanceof Y){const g=f.catch((b=>(h.done(),Y.reject(b))));r.push(g)}h.isDone?i():h.G===null?c.continue():c.continue(h.G)}})).next((()=>Y.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function _o(t){return new Y(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=W_(r.target.error);n(i)}}))}let K1=!1;function W_(t){const e=xa.M(on());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return K1||(K1=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Pd="IndexBackfiller";class k3{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){fe(Pd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();fe(Pd,`Documents written: ${n}`)}catch(n){Da(n)?fe(Pd,"Ignoring IndexedDB error during index backfill: ",n):await ol(n)}await this.re(6e4)}))}}class P3{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,o=!0;return Y.doWhile((()=>o===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return fe(Pd,`Processing collection: ${l}`),this.oe(e,l,i).next((c=>{i-=c,r.add(l)}));o=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,o))).next((c=>(fe(Pd,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c)))).next((()=>l.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,o)=>{const l=_C(o);Y_(l,r)>0&&(r=l)})),new fr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class Dr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dr.ce=-1;const Oo=-1;function eg(t){return t==null}function Zd(t){return t===0&&1/t==-1/0}function M3(t){return typeof t=="number"&&Number.isInteger(t)&&!Zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const op="";function Rn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Q1(e)),e=j3(t.get(n),e);return Q1(e)}function j3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case op:n+="";break;default:n+=o}}return n}function Q1(t){return t+op+""}function Cs(t){const e=t.length;if(Re(e>=2,64408,{path:t}),e===2)return Re(t.charAt(0)===op&&t.charAt(1)==="",56145,{path:t}),it.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const l=t.indexOf(op,o);switch((l<0||l>n)&&Ae(50515,{path:t}),t.charAt(l+1)){case"":const c=t.substring(o,l);let h;i.length===0?h=c:(i+=c,h=i,i=""),r.push(h);break;case"":i+=t.substring(o,l),i+="\0";break;case"":i+=t.substring(o,l+1);break;default:Ae(61167,{path:t})}o=l+2}return new it(r)}const vo="remoteDocuments",vh="owner",nu="owner",Yd="mutationQueues",V3="userId",Xr="mutations",Z1="batchId",Ao="userMutationsIndex",Y1=["userId","batchId"];function jm(t,e){return[t,Rn(e)]}function TC(t,e,n){return[t,Rn(e),n]}const L3={},Au="documentMutations",lp="remoteDocumentsV14",z3=["prefixPath","collectionGroup","readTime","documentId"],Vm="documentKeyIndex",U3=["prefixPath","collectionGroup","documentId"],SC="collectionGroupIndex",$3=["collectionGroup","readTime","prefixPath","documentId"],Wd="remoteDocumentGlobal",$b="remoteDocumentGlobalKey",Iu="targets",AC="queryTargetsIndex",F3=["canonicalId","targetId"],Ru="targetDocuments",B3=["targetId","path"],X_="documentTargetsIndex",q3=["path","targetId"],up="targetGlobalKey",ko="targetGlobal",Xd="collectionParents",H3=["collectionId","parent"],Cu="clientMetadata",G3="clientId",tg="bundles",K3="bundleId",ng="namedQueries",Q3="name",J_="indexConfiguration",Z3="indexId",Fb="collectionGroupIndex",Y3="collectionGroup",Md="indexState",W3=["indexId","uid"],IC="sequenceNumberIndex",X3=["uid","sequenceNumber"],jd="indexEntries",J3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],RC="documentKeyIndex",eL=["indexId","uid","orderedDocumentKey"],rg="documentOverlays",tL=["userId","collectionPath","documentId"],Bb="collectionPathOverlayIndex",nL=["userId","collectionPath","largestBatchId"],CC="collectionGroupOverlayIndex",rL=["userId","collectionGroup","largestBatchId"],ex="globals",sL="name",NC=[Yd,Xr,Au,vo,Iu,vh,ko,Ru,Cu,Wd,Xd,tg,ng],iL=[...NC,rg],DC=[Yd,Xr,Au,lp,Iu,vh,ko,Ru,Cu,Wd,Xd,tg,ng,rg],OC=DC,tx=[...OC,J_,Md,jd],aL=tx,kC=[...tx,ex],oL=kC;class qb extends wC{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function ln(t,e){const n=je(t);return xa.O(n.le,e)}function W1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ll(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class It{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gm(this.root,e,this.comparator,!1)}getReverseIterator(){return new gm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gm(this.root,e,this.comparator,!0)}}class gm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??wn.RED,this.left=i??wn.EMPTY,this.right=o??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new wn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X1(this.data.getIterator())}getIteratorFrom(e){return new X1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class X1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ru(t){return t.hasNext()?t.getNext():void 0}class Or{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new Or([])}unionWith(e){let n=new pt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Su(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class MC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new MC("Invalid base64 string: "+o):o}})(e);return new en(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const lL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(t){if(Re(!!t,39018),typeof t=="string"){let e=0;const n=lL.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bi(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}const jC="server_timestamp",VC="__type__",LC="__previous_value__",zC="__local_write_time__";function sg(t){return(t?.mapValue?.fields||{})[VC]?.stringValue===jC}function ig(t){const e=t.mapValue.fields[LC];return sg(e)?ig(e):e}function Jd(t){const e=vi(t.mapValue.fields[zC].timestampValue);return new ht(e.seconds,e.nanos)}class uL{constructor(e,n,r,i,o,l,c,h,f,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=g}}const cp="(default)";class Go{constructor(e,n){this.projectId=e,this.database=n||cp}static empty(){return new Go("","")}get isDefaultDatabase(){return this.database===cp}isEqual(e){return e instanceof Go&&e.projectId===this.projectId&&e.database===this.database}}const nx="__type__",UC="__max__",pa={mapValue:{fields:{__type__:{stringValue:UC}}}},rx="__vector__",Nu="value",Lm={nullValue:"NULL_VALUE"};function Ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sg(t)?4:$C(t)?9007199254740991:ag(t)?10:11:Ae(28295,{value:t})}function Vs(t,e){if(t===e)return!0;const n=Ea(t);if(n!==Ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jd(t).isEqual(Jd(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=vi(i.timestampValue),c=vi(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return bi(i.bytesValue).isEqual(bi(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return At(i.geoPointValue.latitude)===At(o.geoPointValue.latitude)&&At(i.geoPointValue.longitude)===At(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return At(i.integerValue)===At(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=At(i.doubleValue),c=At(o.doubleValue);return l===c?Zd(l)===Zd(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Su(t.arrayValue.values||[],e.arrayValue.values||[],Vs);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(W1(l)!==W1(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Vs(l[h],c[h])))return!1;return!0})(t,e);default:return Ae(52216,{left:t})}}function eh(t,e){return(t.values||[]).find((n=>Vs(n,e)))!==void 0}function Ta(t,e){if(t===e)return 0;const n=Ea(t),r=Ea(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=At(o.integerValue||o.doubleValue),h=At(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(t,e);case 3:return J1(t.timestampValue,e.timestampValue);case 4:return J1(Jd(t),Jd(e));case 5:return zb(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=bi(o),h=bi(l);return c.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const g=Me(c[f],h[f]);if(g!==0)return g}return Me(c.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=Me(At(o.latitude),At(l.latitude));return c!==0?c:Me(At(o.longitude),At(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return eS(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const c=o.fields||{},h=l.fields||{},f=c[Nu]?.arrayValue,g=h[Nu]?.arrayValue,b=Me(f?.values?.length||0,g?.values?.length||0);return b!==0?b:eS(f,g)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===pa.mapValue&&l===pa.mapValue)return 0;if(o===pa.mapValue)return 1;if(l===pa.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=l.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let b=0;b<h.length&&b<g.length;++b){const _=zb(h[b],g[b]);if(_!==0)return _;const w=Ta(c[h[b]],f[g[b]]);if(w!==0)return w}return Me(h.length,g.length)})(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function J1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=vi(t),r=vi(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function eS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ta(n[i],r[i]);if(o)return o}return Me(n.length,r.length)}function Du(t){return Hb(t)}function Hb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=vi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return bi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Hb(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Hb(n.fields[l])}`;return i+"}"})(t.mapValue):Ae(61005,{value:t})}function zm(t){switch(Ea(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ig(t);return e?16+zm(e):16;case 5:return 2*t.stringValue.length;case 6:return bi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+zm(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ll(r.fields,((o,l)=>{i+=o.length+zm(l)})),i})(t.mapValue);default:throw Ae(13486,{value:t})}}function Ko(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gb(t){return!!t&&"integerValue"in t}function th(t){return!!t&&"arrayValue"in t}function tS(t){return!!t&&"nullValue"in t}function nS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Um(t){return!!t&&"mapValue"in t}function ag(t){return(t?.mapValue?.fields||{})[nx]?.stringValue===rx}function Vd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ll(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Vd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vd(t.arrayValue.values[n]);return e}return{...t}}function $C(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===UC}const FC={mapValue:{fields:{[nx]:{stringValue:rx},[Nu]:{arrayValue:{}}}}};function cL(t){return"nullValue"in t?Lm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ko(Go.empty(),ve.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?ag(t)?FC:{mapValue:{}}:Ae(35942,{value:t})}function dL(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ko(Go.empty(),ve.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?FC:"mapValue"in t?ag(t)?{mapValue:{}}:pa:Ae(61959,{value:t})}function rS(t,e){const n=Ta(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function sS(t,e){const n=Ta(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Um(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vd(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Vd(l):i.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Um(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Um(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ll(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Zn(Vd(this.value))}}function BC(t){const e=[];return ll(t.fields,((n,r)=>{const i=new Ct([n]);if(Um(r)){const o=BC(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new Or(e)}class Mt{constructor(e,n,r,i,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Mt(e,0,Ne.min(),Ne.min(),Ne.min(),Zn.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,Ne.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,Ne.min(),Ne.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,Ne.min(),Ne.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sa{constructor(e,n){this.position=e,this.inclusive=n}}function iS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=ve.comparator(ve.fromName(l.referenceValue),n.key):r=Ta(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function aS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vs(t.position[n],e.position[n]))return!1;return!0}class dp{constructor(e,n="asc"){this.field=e,this.dir=n}}function hL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class qC{}class Xe extends qC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fL(e,n,r):n==="array-contains"?new gL(e,r):n==="in"?new YC(e,r):n==="not-in"?new yL(e,r):n==="array-contains-any"?new vL(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mL(e,r):new pL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ta(n,this.value)):n!==null&&Ea(this.value)===Ea(n)&&this.matchesComparison(Ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ft extends qC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ft(e,n)}matches(e){return Ou(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ou(t){return t.op==="and"}function Kb(t){return t.op==="or"}function sx(t){return HC(t)&&Ou(t)}function HC(t){for(const e of t.filters)if(e instanceof ft)return!1;return!0}function Qb(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+Du(t.value);if(sx(t))return t.filters.map((e=>Qb(e))).join(",");{const e=t.filters.map((n=>Qb(n))).join(",");return`${t.op}(${e})`}}function GC(t,e){return t instanceof Xe?(function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Vs(r.value,i.value)})(t,e):t instanceof ft?(function(r,i){return i instanceof ft&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,c)=>o&&GC(l,i.filters[c])),!0):!1})(t,e):void Ae(19439)}function KC(t,e){const n=t.filters.concat(e);return ft.create(n,t.op)}function QC(t){return t instanceof Xe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Du(n.value)}`})(t):t instanceof ft?(function(n){return n.op.toString()+" {"+n.getFilters().map(QC).join(" ,")+"}"})(t):"Filter"}class fL extends Xe{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class mL extends Xe{constructor(e,n){super(e,"in",n),this.keys=ZC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class pL extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=ZC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ZC(t,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class gL extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return th(n)&&eh(n.arrayValue,this.value)}}class YC extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eh(this.value.arrayValue,n)}}class yL extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eh(this.value.arrayValue,n)}}class vL extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!th(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>eh(this.value.arrayValue,r)))}}class bL{constructor(e,n=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function Zb(t,e=null,n=[],r=[],i=null,o=null,l=null){return new bL(t,e,n,r,i,o,l)}function Qo(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Qb(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),eg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Du(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Du(r))).join(",")),e.Te=n}return e.Te}function bh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aS(t.startAt,e.startAt)&&aS(t.endAt,e.endAt)}function hp(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function fp(t,e){return t.filters.filter((n=>n instanceof Xe&&n.field.isEqual(e)))}function oS(t,e,n){let r=Lm,i=!0;for(const o of fp(t,e)){let l=Lm,c=!0;switch(o.op){case"<":case"<=":l=cL(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,c=!1;break;case"!=":case"not-in":l=Lm}rS({value:r,inclusive:i},{value:l,inclusive:c})<0&&(r=l,i=c)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const l=n.position[o];rS({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}function lS(t,e,n){let r=pa,i=!0;for(const o of fp(t,e)){let l=pa,c=!0;switch(o.op){case">=":case">":l=dL(o.value),c=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,c=!1;break;case"!=":case"not-in":l=pa}sS({value:r,inclusive:i},{value:l,inclusive:c})>0&&(r=l,i=c)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const l=n.position[o];sS({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}class Yu{constructor(e,n=null,r=[],i=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _L(t,e,n,r,i,o,l,c){return new Yu(t,e,n,r,i,o,l,c)}function _h(t){return new Yu(t)}function uS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ix(t){return t.collectionGroup!==null}function gu(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new pt(Ct.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new dp(o,r))})),n.has(Ct.keyField().canonicalString())||e.Ie.push(new dp(Ct.keyField(),r))}return e.Ie}function kr(t){const e=je(t);return e.Ee||(e.Ee=xL(e,gu(t))),e.Ee}function xL(t,e){if(t.limitType==="F")return Zb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new dp(i.field,o)}));const n=t.endAt?new Sa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sa(t.startAt.position,t.startAt.inclusive):null;return Zb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yb(t,e){const n=t.filters.concat([e]);return new Yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mp(t,e,n){return new Yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function og(t,e){return bh(kr(t),kr(e))&&t.limitType===e.limitType}function WC(t){return`${Qo(kr(t))}|lt:${t.limitType}`}function cu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>QC(i))).join(", ")}]`),eg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Du(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Du(i))).join(",")),`Target(${r})`})(kr(t))}; limitType=${t.limitType})`}function xh(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of gu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,h){const f=iS(l,c,h);return l.inclusive?f<=0:f<0})(r.startAt,gu(r),i)||r.endAt&&!(function(l,c,h){const f=iS(l,c,h);return l.inclusive?f>=0:f>0})(r.endAt,gu(r),i))})(t,e)}function wL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XC(t){return(e,n)=>{let r=!1;for(const i of gu(t)){const o=EL(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function EL(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(o,l,c){const h=l.data.field(o),f=c.data.field(o);return h!==null&&f!==null?Ta(h,f):Ae(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:t.dir})}}class Ei{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ll(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return PC(this.inner)}size(){return this.innerSize}}const TL=new It(ve.comparator);function cr(){return TL}const JC=new It(ve.comparator);function Ed(...t){let e=JC;for(const n of t)e=e.insert(n.key,n);return e}function eN(t){let e=JC;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ns(){return Ld()}function tN(){return Ld()}function Ld(){return new Ei((t=>t.toString()),((t,e)=>t.isEqual(e)))}const SL=new It(ve.comparator),AL=new pt(ve.comparator);function qe(...t){let e=AL;for(const n of t)e=e.add(n);return e}const IL=new pt(Me);function RL(){return IL}function ax(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(e)?"-0":e}}function nN(t){return{integerValue:""+t}}function CL(t,e){return M3(e)?nN(e):ax(t,e)}class lg{constructor(){this._=void 0}}function NL(t,e,n){return t instanceof ku?(function(i,o){const l={fields:{[VC]:{stringValue:jC},[zC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&sg(o)&&(o=ig(o)),o&&(l.fields[LC]=o),{mapValue:l}})(n,e):t instanceof Pu?sN(t,e):t instanceof Mu?iN(t,e):(function(i,o){const l=rN(i,o),c=cS(l)+cS(i.Ae);return Gb(l)&&Gb(i.Ae)?nN(c):ax(i.serializer,c)})(t,e)}function DL(t,e,n){return t instanceof Pu?sN(t,e):t instanceof Mu?iN(t,e):n}function rN(t,e){return t instanceof nh?(function(r){return Gb(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class ku extends lg{}class Pu extends lg{constructor(e){super(),this.elements=e}}function sN(t,e){const n=aN(e);for(const r of t.elements)n.some((i=>Vs(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Mu extends lg{constructor(e){super(),this.elements=e}}function iN(t,e){let n=aN(e);for(const r of t.elements)n=n.filter((i=>!Vs(i,r)));return{arrayValue:{values:n}}}class nh extends lg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function cS(t){return At(t.integerValue||t.doubleValue)}function aN(t){return th(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class oN{constructor(e,n){this.field=e,this.transform=n}}function OL(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Pu&&i instanceof Pu||r instanceof Mu&&i instanceof Mu?Su(r.elements,i.elements,Vs):r instanceof nh&&i instanceof nh?Vs(r.Ae,i.Ae):r instanceof ku&&i instanceof ku})(t.transform,e.transform)}class kL{constructor(e,n){this.version=e,this.transformResults=n}}class Vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $m(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ug{}function lN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cg(t.key,Vn.none()):new Wu(t.key,t.data,Vn.none());{const n=t.data,r=Zn.empty();let i=new pt(Ct.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Oa(t.key,r,new Or(i.toArray()),Vn.none())}}function PL(t,e,n){t instanceof Wu?(function(i,o,l){const c=i.value.clone(),h=hS(i.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Oa?(function(i,o,l){if(!$m(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=hS(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(uN(i)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function zd(t,e,n,r){return t instanceof Wu?(function(o,l,c,h){if(!$m(o.precondition,l))return c;const f=o.value.clone(),g=fS(o.fieldTransforms,h,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Oa?(function(o,l,c,h){if(!$m(o.precondition,l))return c;const f=fS(o.fieldTransforms,h,l),g=l.data;return g.setAll(uN(o)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(o,l,c){return $m(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function ML(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=rN(r.transform,i||null);o!=null&&(n===null&&(n=Zn.empty()),n.set(r.field,o))}return n||null}function dS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Su(r,i,((o,l)=>OL(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wu extends ug{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oa extends ug{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function uN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function hS(t,e,n){const r=new Map;Re(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,DL(l,c,n[i]))}return r}function fS(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,NL(o,l,e))}return r}class cg extends ug{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cN extends ug{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ox{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&PL(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tN();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(i.key)?null:c;const h=lN(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&Su(this.mutations,e.mutations,((n,r)=>dS(n,r)))&&Su(this.baseMutations,e.baseMutations,((n,r)=>dS(n,r)))}}class lx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return SL})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new lx(e,n,r,i)}}class ux{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jL{constructor(e,n){this.count=e,this.unchangedNames=n}}var Xt,nt;function VL(t){switch(t){case ie.OK:return Ae(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function dN(t){if(t===void 0)return jn("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Xt.OK:return ie.OK;case Xt.CANCELLED:return ie.CANCELLED;case Xt.UNKNOWN:return ie.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return ie.INTERNAL;case Xt.UNAVAILABLE:return ie.UNAVAILABLE;case Xt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Xt.NOT_FOUND:return ie.NOT_FOUND;case Xt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Xt.ABORTED:return ie.ABORTED;case Xt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Xt.DATA_LOSS:return ie.DATA_LOSS;default:return Ae(39323,{code:t})}}(nt=Xt||(Xt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";function LL(){return new TextEncoder}const zL=new _a([4294967295,4294967295],0);function mS(t){const e=LL().encode(t),n=new uC;return n.update(e),new Uint8Array(n.digest())}function pS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _a([n,r],0),new _a([i,o],0)]}class cx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Td(`Invalid padding: ${n}`);if(r<0)throw new Td(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Td(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Td(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_a.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(_a.fromNumber(r)));return i.compare(zL)===1&&(i=new _a([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=mS(e),[r,i]=pS(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new cx(o,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=mS(e),[r,i]=pS(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dg(Ne.min(),i,new It(Me),cr(),qe())}}class wh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wh(r,n,qe(),qe(),qe())}}class Fm{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class hN{constructor(e,n){this.targetId=e,this.Ce=n}}class fN{constructor(e,n,r=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class gS{constructor(){this.ve=0,this.Fe=yS(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),r=qe();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ae(38017,{changeType:o})}})),new wh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=yS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UL{constructor(e){this.Ge=e,this.ze=new Map,this.je=cr(),this.Je=ym(),this.He=ym(),this.Ye=new It(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(hp(o))if(r===0){const l=new ve(o.path);this.et(n,l,Mt.newNoDocument(l,Ne.min()))}else Re(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,c;try{l=bi(r).toUint8Array()}catch(h){if(h instanceof MC)return Ho("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new cx(l,i,o)}catch(h){return Ho(h instanceof Td?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&hp(c.target)){const h=new ve(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Mt.newNoDocument(h,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=qe();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new dg(e,n,this.Ye,this.je,r);return this.je=cr(),this.Je=ym(),this.He=ym(),this.Ye=new It(Me),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new gS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ym(){return new It(ve.comparator)}function yS(){return new It(ve.comparator)}const $L={asc:"ASCENDING",desc:"DESCENDING"},FL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BL={and:"AND",or:"OR"};class qL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wb(t,e){return t.useProto3Json||eg(e)?e:{value:e}}function ju(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HL(t,e){return ju(t,e.toTimestamp())}function Un(t){return Re(!!t,49232),Ne.fromTimestamp((function(n){const r=vi(n);return new ht(r.seconds,r.nanos)})(t))}function dx(t,e){return Xb(t,e).canonicalString()}function Xb(t,e){const n=(function(i){return new it(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function pN(t){const e=it.fromString(t);return Re(TN(e),10190,{key:e.toString()}),e}function pp(t,e){return dx(t.databaseId,e.path)}function Po(t,e){const n=pN(e);if(n.get(1)!==t.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(vN(n))}function gN(t,e){return dx(t.databaseId,e)}function yN(t){const e=pN(t);return e.length===4?it.emptyPath():vN(e)}function Jb(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vN(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function vS(t,e,n){return{name:pp(t,e),fields:n.value.mapValue.fields}}function GL(t,e,n){const r=Po(t,e.name),i=Un(e.updateTime),o=e.createTime?Un(e.createTime):Ne.min(),l=new Zn({mapValue:{fields:e.fields}}),c=Mt.newFoundDocument(r,i,o,l);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function KL(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ae(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(Re(g===void 0||typeof g=="string",58123),en.fromBase64String(g||"")):(Re(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),en.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const g=f.code===void 0?ie.UNKNOWN:dN(f.code);return new me(g,f.message||"")})(l);n=new fN(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Po(t,r.document.name),o=Un(r.document.updateTime),l=r.document.createTime?Un(r.document.createTime):Ne.min(),c=new Zn({mapValue:{fields:r.document.fields}}),h=Mt.newFoundDocument(i,o,l,c),f=r.targetIds||[],g=r.removedTargetIds||[];n=new Fm(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Po(t,r.document),o=r.readTime?Un(r.readTime):Ne.min(),l=Mt.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Fm([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Po(t,r.document),o=r.removedTargetIds||[];n=new Fm([],o,i,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new jL(i,o),c=r.targetId;n=new hN(c,l)}}return n}function gp(t,e){let n;if(e instanceof Wu)n={update:vS(t,e.key,e.value)};else if(e instanceof cg)n={delete:pp(t,e.key)};else if(e instanceof Oa)n={update:vS(t,e.key,e.data),updateMask:JL(e.fieldMask)};else{if(!(e instanceof cN))return Ae(16599,{Vt:e.type});n={verify:pp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof ku)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Pu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Mu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof nh)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ae(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:HL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ae(27497)})(t,e.precondition)),n}function e_(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?Vn.updateTime(Un(o.updateTime)):o.exists!==void 0?Vn.exists(o.exists):Vn.none()})(e.currentDocument):Vn.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,c){let h=null;if("setToServerValue"in c)Re(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),h=new ku;else if("appendMissingElements"in c){const g=c.appendMissingElements.values||[];h=new Pu(g)}else if("removeAllFromArray"in c){const g=c.removeAllFromArray.values||[];h=new Mu(g)}else"increment"in c?h=new nh(l,c.increment):Ae(16584,{proto:c});const f=Ct.fromServerFormat(c.fieldPath);return new oN(f,h)})(t,i))):[];if(e.update){e.update.name;const i=Po(t,e.update.name),o=new Zn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(h){const f=h.fieldPaths||[];return new Or(f.map((g=>Ct.fromServerFormat(g))))})(e.updateMask);return new Oa(i,o,l,n,r)}return new Wu(i,o,n,r)}if(e.delete){const i=Po(t,e.delete);return new cg(i,n)}if(e.verify){const i=Po(t,e.verify);return new cN(i,n)}return Ae(1463,{proto:e})}function QL(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map((n=>(function(i,o){let l=i.updateTime?Un(i.updateTime):Un(o);return l.isEqual(Ne.min())&&(l=Un(o)),new kL(l,i.transformResults||[])})(n,e)))):[]}function bN(t,e){return{documents:[gN(t,e.path)]}}function _N(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gN(t,i);const o=(function(f){if(f.length!==0)return EN(ft.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((g=>(function(_){return{field:du(_.field),direction:YL(_.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Wb(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function xN(t){let e=yN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Re(r===1,65062);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(b){const _=wN(b);return _ instanceof ft&&sx(_)?_.getFilters():[_]})(n.where));let l=[];n.orderBy&&(l=(function(b){return b.map((_=>(function(A){return new dp(hu(A.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(_)))})(n.orderBy));let c=null;n.limit&&(c=(function(b){let _;return _=typeof b=="object"?b.value:b,eg(_)?null:_})(n.limit));let h=null;n.startAt&&(h=(function(b){const _=!!b.before,w=b.values||[];return new Sa(w,_)})(n.startAt));let f=null;return n.endAt&&(f=(function(b){const _=!b.before,w=b.values||[];return new Sa(w,_)})(n.endAt)),_L(e,i,l,o,c,"F",h,f)}function ZL(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hu(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hu(n.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=hu(n.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=hu(n.unaryFilter.field);return Xe.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Xe.create(hu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ft.create(n.compositeFilter.filters.map((r=>wN(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(t):Ae(30097,{filter:t})}function YL(t){return $L[t]}function WL(t){return FL[t]}function XL(t){return BL[t]}function du(t){return{fieldPath:t.canonicalString()}}function hu(t){return Ct.fromServerFormat(t.fieldPath)}function EN(t){return t instanceof Xe?(function(n){if(n.op==="=="){if(nS(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NAN"}};if(tS(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nS(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NOT_NAN"}};if(tS(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:du(n.field),op:WL(n.op),value:n.value}}})(t):t instanceof ft?(function(n){const r=n.getFilters().map((i=>EN(i)));return r.length===1?r[0]:{compositeFilter:{op:XL(n.op),filters:r}}})(t):Ae(54877,{filter:t})}function JL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function TN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class di{constructor(e,n,r,i,o=Ne.min(),l=Ne.min(),c=en.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class SN{constructor(e){this.yt=e}}function ez(t,e){let n;if(e.document)n=GL(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),i=Yo(e.noDocument.readTime);n=Mt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ae(56709);{const r=ve.fromSegments(e.unknownDocument.path),i=Yo(e.unknownDocument.version);n=Mt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const o=new ht(i[0],i[1]);return Ne.fromTimestamp(o)})(e.readTime)),n}function bS(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:yp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,l){return{name:pp(o,l.key),fields:l.data.value.mapValue.fields,updateTime:ju(o,l.version.toTimestamp()),createTime:ju(o,l.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Zo(e.version)};else{if(!e.isUnknownDocument())return Ae(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Zo(e.version)}}return r}function yp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Zo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Yo(t){const e=new ht(t.seconds,t.nanoseconds);return Ne.fromTimestamp(e)}function xo(t,e){const n=(e.baseMutations||[]).map((o=>e_(t.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const l=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const c=e.mutations[o+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>e_(t.yt,o))),i=ht.fromMillis(e.localWriteTimeMs);return new ox(e.batchId,i,n,r)}function Sd(t){const e=Yo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Yo(t.lastLimboFreeSnapshotVersion):Ne.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const l=o.documents.length;return Re(l===1,1966,{count:l}),kr(_h(yN(o.documents[0])))})(t.query):(function(o){return kr(xN(o))})(t.query),new di(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,en.fromBase64String(t.resumeToken))}function AN(t,e){const n=Zo(e.snapshotVersion),r=Zo(e.lastLimboFreeSnapshotVersion);let i;i=hp(e.target)?bN(t.yt,e.target):_N(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qo(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function IN(t){const e=xN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mp(e,e.limit,"L"):e}function eb(t,e){return new ux(e.largestBatchId,e_(t.yt,e.overlayMutation))}function _S(t,e){const n=e.path.lastSegment();return[t,Rn(e.path.popLast()),n]}function xS(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Zo(r.readTime),documentKey:Rn(r.documentKey.path),largestBatchId:r.largestBatchId}}class tz{getBundleMetadata(e,n){return wS(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:Yo(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return wS(e).put((function(i){return{bundleId:i.id,createTime:Zo(Un(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return ES(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:IN(o.bundledQuery),readTime:Yo(o.readTime)}})(r)}))}saveNamedQuery(e,n){return ES(e).put((function(i){return{name:i.name,readTime:Zo(Un(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function wS(t){return ln(t,tg)}function ES(t){return ln(t,ng)}class hg{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new hg(e,r)}getOverlay(e,n){return gd(e).get(_S(this.userId,n)).next((r=>r?eb(this.serializer,r):null))}getOverlays(e,n){const r=Ns();return Y.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((o,l)=>{const c=new ux(n,l);i.push(this.St(e,c))})),Y.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((l=>i.add(Rn(l.getCollectionPath()))));const o=[];return i.forEach((l=>{const c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);o.push(gd(e).Z(Bb,c))})),Y.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Ns(),o=Rn(n),l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return gd(e).J(Bb,l).next((c=>{for(const h of c){const f=eb(this.serializer,h);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const o=Ns();let l;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return gd(e).ee({index:CC,range:c},((h,f,g)=>{const b=eb(this.serializer,f);o.size()<i||b.largestBatchId===l?(o.set(b.getKey(),b),l=b.largestBatchId):g.done()})).next((()=>o))}St(e,n){return gd(e).put((function(i,o,l){const[c,h,f]=_S(o,l.mutation.key);return{userId:o,collectionPath:h,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:gp(i.yt,l.mutation)}})(this.serializer,this.userId,n))}}function gd(t){return ln(t,rg)}class nz{bt(e){return ln(e,ex)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?en.fromUint8Array(r):en.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class wo{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(At(e.integerValue));else if("doubleValue"in e){const r=At(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Zd(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=vi(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(bi(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?$C(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):ag(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ae(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=Nu,o=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(At(o)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),ve.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}wo.Kt=new wo;const su=255;function rz(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function TS(t){const e=64-(function(r){let i=0;for(let o=0;o<8;++o){const l=rz(255&r[o]);if(i+=l,l!==8)break}return i})(t);return Math.ceil(e/8)}class sz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=TS(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=TS(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(su),this.sn(255)}_n(){this.an(su),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===su?(this.sn(su),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===su?(this.an(su),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class iz{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class az{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class yd{constructor(){this.cn=new sz,this.ln=new iz(this.cn),this.hn=new az(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Eo{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Eo(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Bm(this.En),directionalValue:Bm(this.dn),orderedDocumentKey:Bm(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function oa(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=SS(t.En,e.En),n!==0?n:(n=SS(t.dn,e.dn),n!==0?n:ve.comparator(t.In,e.In)))}function SS(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Bm(t){return nC()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function AS(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class IS{constructor(e){this.mn=new pt(((n,r)=>Ct.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Re(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Ub(e);if(n!==void 0&&!this.wn(n))return!1;const r=yo(e);let i=new Set,o=0,l=0;for(;o<r.length&&this.wn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const h=r[o];if(!this.Sn(c,h)||!this.bn(this.fn[l++],h))return!1}++o}for(;o<r.length;++o){const c=r[o];if(l>=this.fn.length||!this.bn(this.fn[l++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new pt(Ct.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Mm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Mm(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Mm(r.field,r.dir==="asc"?0:1)));return new ap(ap.UNKNOWN_ID,this.collectionId,n,Qd.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function RN(t){if(Re(t instanceof Xe||t instanceof ft,20012),t instanceof Xe){if(t instanceof YC){const n=t.value.arrayValue?.values?.map((r=>Xe.create(t.field,"==",r)))||[];return ft.create(n,"or")}return t}const e=t.filters.map((n=>RN(n)));return ft.create(e,t.op)}function oz(t){if(t.getFilters().length===0)return[];const e=r_(RN(t));return Re(CN(e),7391),t_(e)||n_(e)?[e]:e.getFilters()}function t_(t){return t instanceof Xe}function n_(t){return t instanceof ft&&sx(t)}function CN(t){return t_(t)||n_(t)||(function(n){if(n instanceof ft&&Kb(n)){for(const r of n.getFilters())if(!t_(r)&&!n_(r))return!1;return!0}return!1})(t)}function r_(t){if(Re(t instanceof Xe||t instanceof ft,34018),t instanceof Xe)return t;if(t.filters.length===1)return r_(t.filters[0]);const e=t.filters.map((r=>r_(r)));let n=ft.create(e,t.op);return n=vp(n),CN(n)?n:(Re(n instanceof ft,64498),Re(Ou(n),40251),Re(n.filters.length>1,57927),n.filters.reduce(((r,i)=>hx(r,i))))}function hx(t,e){let n;return Re(t instanceof Xe||t instanceof ft,38388),Re(e instanceof Xe||e instanceof ft,25473),n=t instanceof Xe?e instanceof Xe?(function(i,o){return ft.create([i,o],"and")})(t,e):RS(t,e):e instanceof Xe?RS(e,t):(function(i,o){if(Re(i.filters.length>0&&o.filters.length>0,48005),Ou(i)&&Ou(o))return KC(i,o.getFilters());const l=Kb(i)?i:o,c=Kb(i)?o:i,h=l.filters.map((f=>hx(f,c)));return ft.create(h,"or")})(t,e),vp(n)}function RS(t,e){if(Ou(e))return KC(e,t.getFilters());{const n=e.filters.map((r=>hx(t,r)));return ft.create(n,"or")}}function vp(t){if(Re(t instanceof Xe||t instanceof ft,11850),t instanceof Xe)return t;const e=t.getFilters();if(e.length===1)return vp(e[0]);if(HC(t))return t;const n=e.map((i=>vp(i))),r=[];return n.forEach((i=>{i instanceof Xe?r.push(i):i instanceof ft&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:ft.create(r,t.op)}class lz{constructor(){this.Cn=new fx}addToCollectionParentIndex(e,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(fr.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class fx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(it.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(it.comparator)).toArray()}}const CS="IndexedDbIndexManager",vm=new Uint8Array(0);class uz{constructor(e,n){this.databaseId=n,this.vn=new fx,this.Fn=new Ei((r=>Qo(r)),((r,i)=>bh(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const o={collectionId:r,parent:Rn(i)};return NS(e).put(o)}return Y.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[yC(n),""],!1,!0);return NS(e).J(i).next((o=>{for(const l of o){if(l.collectionId!==n)break;r.push(Cs(l.parent))}return r}))}addFieldIndex(e,n){const r=vd(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(n);delete i.indexId;const o=r.add(i);if(n.indexState){const l=au(e);return o.next((c=>{l.put(xS(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=vd(e),i=au(e),o=iu(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=vd(e),r=iu(e),i=au(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return Y.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const o=new IS(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=iu(e);let i=!0;const o=new Map;return Y.forEach(this.Mn(n),(l=>this.xn(e,l).next((c=>{i&&(i=!!c),o.set(l,c)})))).next((()=>{if(i){let l=qe();const c=[];return Y.forEach(o,((h,f)=>{fe(CS,`Using index ${(function(z){return`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map((Q=>`${Q.fieldPath}:${Q.kind}`)).join(",")}`})(h)} to execute ${Qo(n)}`);const g=(function(z,Q){const W=Ub(Q);if(W===void 0)return null;for(const se of fp(z,W.fieldPath))switch(se.op){case"array-contains-any":return se.value.arrayValue.values||[];case"array-contains":return[se.value]}return null})(f,h),b=(function(z,Q){const W=new Map;for(const se of yo(Q))for(const C of fp(z,se.fieldPath))switch(C.op){case"==":case"in":W.set(se.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return W.set(se.fieldPath.canonicalString(),C.value),Array.from(W.values())}return null})(f,h),_=(function(z,Q){const W=[];let se=!0;for(const C of yo(Q)){const I=C.kind===0?oS(z,C.fieldPath,z.startAt):lS(z,C.fieldPath,z.startAt);W.push(I.value),se&&(se=I.inclusive)}return new Sa(W,se)})(f,h),w=(function(z,Q){const W=[];let se=!0;for(const C of yo(Q)){const I=C.kind===0?lS(z,C.fieldPath,z.endAt):oS(z,C.fieldPath,z.endAt);W.push(I.value),se&&(se=I.inclusive)}return new Sa(W,se)})(f,h),A=this.On(h,f,_),R=this.On(h,f,w),D=this.Nn(h,f,b),V=this.Bn(h.indexId,g,A,_.inclusive,R,w.inclusive,D);return Y.forEach(V,($=>r.Y($,n.limit).next((z=>{z.forEach((Q=>{const W=ve.fromSegments(Q.documentKey);l.has(W)||(l=l.add(W),c.push(W))}))}))))})).next((()=>c))}return Y.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=oz(ft.create(e.filters,"and")).map((r=>Zb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,o,l,c){const h=(n!=null?n.length:1)*Math.max(r.length,o.length),f=h/(n!=null?n.length:1),g=[];for(let b=0;b<h;++b){const _=n?this.Ln(n[b/f]):vm,w=this.kn(e,_,r[b%f],i),A=this.qn(e,_,o[b%f],l),R=c.map((D=>this.kn(e,_,D,!0)));g.push(...this.createRange(w,A,R))}return g}kn(e,n,r,i){const o=new Eo(e,ve.empty(),n,r);return i?o:o.An()}qn(e,n,r,i){const o=new Eo(e,ve.empty(),n,r);return i?o.An():o}xn(e,n){const r=new IS(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((o=>{let l=null;for(const c of o)r.yn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return Y.forEach(i,(o=>this.xn(e,o).next((l=>{l?r!==0&&l.fields.length<(function(h){let f=new pt(Ct.comparator),g=!1;for(const b of h.filters)for(const _ of b.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?g=!0:f=f.add(_.field));for(const b of h.orderBy)b.field.isKeyField()||(f=f.add(b.field));return f.size+(g?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new yd;for(const i of yo(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const l=r.Pn(i.kind);wo.Kt.Dt(o,l)}return r.un()}Ln(e){const n=new yd;return wo.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new yd;return wo.Kt.Dt(Ko(this.databaseId,n),r.Pn((function(o){const l=yo(o);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new yd);let o=0;for(const l of yo(e)){const c=r[o++];for(const h of i)if(this.Un(n,l.fieldPath)&&th(c))i=this.Kn(i,l,c);else{const f=h.Pn(l.kind);wo.Kt.Dt(c,f)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],o=[];for(const l of r.arrayValue.values||[])for(const c of i){const h=new yd;h.seed(c.un()),wo.Kt.Dt(l,h.Pn(n.kind)),o.push(h)}return o}Un(e,n){return!!e.filters.find((r=>r instanceof Xe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=vd(e),i=au(e);return(n?r.J(Fb,IDBKeyRange.bound(n,n)):r.J()).next((o=>{const l=[];return Y.forEach(o,(c=>i.get([c.indexId,this.uid]).next((h=>{l.push((function(g,b){const _=b?new Qd(b.sequenceNumber,new fr(Yo(b.readTime),new ve(Cs(b.documentKey)),b.largestBatchId)):Qd.empty(),w=g.fields.map((([A,R])=>new Mm(Ct.fromServerFormat(A),R)));return new ap(g.indexId,g.collectionGroup,w,_)})(c,h))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Me(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=vd(e),o=au(e);return this.Gn(e).next((l=>i.J(Fb,IDBKeyRange.bound(n,n)).next((c=>Y.forEach(c,(h=>o.put(xS(h.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return Y.forEach(n,((i,o)=>{const l=r.get(i.collectionGroup);return(l?Y.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),Y.forEach(c,(h=>this.zn(e,i,h).next((f=>{const g=this.jn(o,h);return f.isEqual(g)?Y.resolve():this.Jn(e,o,h,f,g)})))))))}))}Hn(e,n,r,i){return iu(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return iu(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=iu(e);let o=new pt(oa);return i.ee({index:RC,range:IDBKeyRange.only([r.indexId,this.uid,Bm(this.$n(r,n))])},((l,c)=>{o=o.add(new Eo(r.indexId,n,AS(c.arrayValue),AS(c.directionalValue)))})).next((()=>o))}jn(e,n){let r=new pt(oa);const i=this.Qn(n,e);if(i==null)return r;const o=Ub(n);if(o!=null){const l=e.data.field(o.fieldPath);if(th(l))for(const c of l.arrayValue.values||[])r=r.add(new Eo(n.indexId,e.key,this.Ln(c),i))}else r=r.add(new Eo(n.indexId,e.key,vm,i));return r}Jn(e,n,r,i,o){fe(CS,"Updating index entries for document '%s'",n.key);const l=[];return(function(h,f,g,b,_){const w=h.getIterator(),A=f.getIterator();let R=ru(w),D=ru(A);for(;R||D;){let V=!1,$=!1;if(R&&D){const z=g(R,D);z<0?$=!0:z>0&&(V=!0)}else R!=null?$=!0:V=!0;V?(b(D),D=ru(A)):$?(_(R),R=ru(w)):(R=ru(w),D=ru(A))}})(i,o,oa,(c=>{l.push(this.Hn(e,n,r,c))}),(c=>{l.push(this.Yn(e,n,r,c))})),Y.waitFor(l)}Gn(e){let n=1;return au(e).ee({index:IC,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,o)=>{o.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,c)=>oa(l,c))).filter(((l,c,h)=>!c||oa(l,h[c-1])!==0));const i=[];i.push(e);for(const l of r){const c=oa(l,e),h=oa(l,n);if(c===0)i[0]=e.An();else if(c>0&&h<0)i.push(l),i.push(l.An());else if(h>0)break}i.push(n);const o=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const c=i[l].Vn(this.uid,vm,ve.empty()),h=i[l+1].Vn(this.uid,vm,ve.empty());o.push(IDBKeyRange.bound(c,h))}return o}Zn(e,n){return oa(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(DS)}getMinOffset(e,n){return Y.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Ae(44426))))).next(DS)}}function NS(t){return ln(t,Xd)}function iu(t){return ln(t,jd)}function vd(t){return ln(t,J_)}function au(t){return ln(t,Md)}function DS(t){Re(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Y_(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new fr(e.readTime,e.documentKey,n)}const OS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NN=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function DN(t,e,n){const r=t.store(Xr),i=t.store(Au),o=[],l=IDBKeyRange.only(n.batchId);let c=0;const h=r.ee({range:l},((g,b,_)=>(c++,_.delete())));o.push(h.next((()=>{Re(c===1,47070,{batchId:n.batchId})})));const f=[];for(const g of n.mutations){const b=TC(e,g.key.path,n.batchId);o.push(i.delete(b)),f.push(g.key)}return Y.waitFor(o).next((()=>f))}function bp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ae(14731);e=t.noDocument}return JSON.stringify(e).length}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(NN,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class fg{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Re(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new fg(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return la(e).ee({index:Ao,range:r},((i,o,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const o=fu(e),l=la(e);return l.add({}).next((c=>{Re(typeof c=="number",49019);const h=new ox(c,n,r,i),f=(function(w,A,R){const D=R.baseMutations.map(($=>gp(w.yt,$))),V=R.mutations.map(($=>gp(w.yt,$)));return{userId:A,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:D,mutations:V}})(this.serializer,this.userId,h),g=[];let b=new pt(((_,w)=>Me(_.canonicalString(),w.canonicalString())));for(const _ of i){const w=TC(this.userId,_.key.path,c);b=b.add(_.key.path.popLast()),g.push(l.put(f)),g.push(o.put(w,L3))}return b.forEach((_=>{g.push(this.indexManager.addToCollectionParentIndex(e,_))})),e.addOnCommittedListener((()=>{this.Xn[c]=h.keys()})),Y.waitFor(g).next((()=>h))}))}lookupMutationBatch(e,n){return la(e).get(n).next((r=>r?(Re(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),xo(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Y.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return la(e).ee({index:Ao,range:i},((l,c,h)=>{c.userId===this.userId&&(Re(c.batchId>=r,47524,{tr:r}),o=xo(this.serializer,c)),h.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Oo;return la(e).ee({index:Ao,range:n,reverse:!0},((i,o,l)=>{r=o.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Oo],[this.userId,Number.POSITIVE_INFINITY]);return la(e).J(Ao,n).next((r=>r.map((i=>xo(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=jm(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return fu(e).ee({range:i},((l,c,h)=>{const[f,g,b]=l,_=Cs(g);if(f===this.userId&&n.path.isEqual(_))return la(e).get(b).next((w=>{if(!w)throw Ae(61480,{nr:l,batchId:b});Re(w.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:w.userId,batchId:b}),o.push(xo(this.serializer,w))}));h.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(Me);const i=[];return n.forEach((o=>{const l=jm(this.userId,o.path),c=IDBKeyRange.lowerBound(l),h=fu(e).ee({range:c},((f,g,b)=>{const[_,w,A]=f,R=Cs(w);_===this.userId&&o.path.isEqual(R)?r=r.add(A):b.done()}));i.push(h)})),Y.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=jm(this.userId,r),l=IDBKeyRange.lowerBound(o);let c=new pt(Me);return fu(e).ee({range:l},((h,f,g)=>{const[b,_,w]=h,A=Cs(_);b===this.userId&&r.isPrefixOf(A)?A.length===i&&(c=c.add(w)):g.done()})).next((()=>this.rr(e,c)))}rr(e,n){const r=[],i=[];return n.forEach((o=>{i.push(la(e).get(o).next((l=>{if(l===null)throw Ae(35274,{batchId:o});Re(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:o}),r.push(xo(this.serializer,l))})))})),Y.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return DN(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Y.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Y.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return fu(e).ee({range:r},((o,l,c)=>{if(o[0]===this.userId){const h=Cs(o[1]);i.push(h)}else c.done()})).next((()=>{Re(i.length===0,56720,{sr:i.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return ON(e,this.userId,n)}_r(e){return kN(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Oo,lastStreamToken:""}))}}function ON(t,e,n){const r=jm(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let l=!1;return fu(t).ee({range:o,X:!0},((c,h,f)=>{const[g,b,_]=c;g===e&&b===i&&(l=!0),f.done()})).next((()=>l))}function la(t){return ln(t,Xr)}function fu(t){return ln(t,Au)}function kN(t){return ln(t,Yd)}class Wo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wo(0)}static cr(){return new Wo(-1)}}class cz{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Wo(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ne.fromTimestamp(new ht(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>ou(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Re(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const o=[];return ou(e).ee(((l,c)=>{const h=Sd(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(i++,o.push(this.removeTargetData(e,h)))})).next((()=>Y.waitFor(o))).next((()=>i))}forEachTarget(e,n){return ou(e).ee(((r,i)=>{const o=Sd(i);n(o)}))}lr(e){return kS(e).get(up).next((n=>(Re(n!==null,2888),n)))}hr(e,n){return kS(e).put(up,n)}Pr(e,n){return ou(e).put(AN(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Qo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return ou(e).ee({range:i,index:AC},((l,c,h)=>{const f=Sd(c);bh(n,f.target)&&(o=f,h.done())})).next((()=>o))}addMatchingKeys(e,n,r){const i=[],o=da(e);return n.forEach((l=>{const c=Rn(l.path);i.push(o.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,l))})),Y.waitFor(i)}removeMatchingKeys(e,n,r){const i=da(e);return Y.forEach(n,(o=>{const l=Rn(o.path);return Y.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=da(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=da(e);let o=qe();return i.ee({range:r,X:!0},((l,c,h)=>{const f=Cs(l[1]),g=new ve(f);o=o.add(g)})).next((()=>o))}containsKey(e,n){const r=Rn(n.path),i=IDBKeyRange.bound([r],[yC(r)],!1,!0);let o=0;return da(e).ee({index:X_,X:!0,range:i},(([l,c],h,f)=>{l!==0&&(o++,f.done())})).next((()=>o>0))}At(e,n){return ou(e).get(n).next((r=>r?Sd(r):null))}}function ou(t){return ln(t,Iu)}function kS(t){return ln(t,ko)}function da(t){return ln(t,Ru)}const PS="LruGarbageCollector",dz=1048576;function MS([t,e],[n,r]){const i=Me(t,n);return i===0?Me(e,r):i}class hz{constructor(e){this.Ir=e,this.buffer=new pt(MS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();MS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(PS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Da(n)?fe(PS,"Ignoring IndexedDB error during garbage collection: ",n):await ol(n)}await this.Vr(3e5)}))}}class fz{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(Dr.ce);const r=new hz(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(OS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,l,c,h,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,l=Date.now(),this.nthSequenceNumber(e,i)))).next((b=>(r=b,c=Date.now(),this.removeTargets(e,r,n)))).next((b=>(o=b,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(f=Date.now(),uu()<=We.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${b} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:b}))))}}function MN(t,e){return new fz(t,e)}class mz{constructor(e,n){this.db=e,this.garbageCollector=MN(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return bm(e,r)}removeReference(e,n,r){return bm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return bm(e,n)}br(e,n){return(function(i,o){let l=!1;return kN(i).te((c=>ON(i,c,o).next((h=>(h&&(l=!0),Y.resolve(!h)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Sr(e,((l,c)=>{if(c<=n){const h=this.br(e,l).next((f=>{if(!f)return o++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Ne.min()),da(e).delete((function(b){return[0,Rn(b.path)]})(l)))))}));i.push(h)}})).next((()=>Y.waitFor(i))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return bm(e,n)}Sr(e,n){const r=da(e);let i,o=Dr.ce;return r.ee({index:X_},(([l,c],{path:h,sequenceNumber:f})=>{l===0?(o!==Dr.ce&&n(new ve(Cs(i)),o),o=f,i=h):o=Dr.ce})).next((()=>{o!==Dr.ce&&n(new ve(Cs(i)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bm(t,e){return da(t).put((function(r,i){return{targetId:0,path:Rn(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class jN{constructor(){this.changes=new Ei((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pz{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return po(e).put(r)}removeEntry(e,n,r){return po(e).delete((function(o,l){const c=o.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],yp(l),c[c.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Mt.newInvalidDocument(n);return po(e).ee({index:Vm,range:IDBKeyRange.only(bd(n))},((i,o)=>{r=this.Cr(n,o)})).next((()=>r))}vr(e,n){let r={size:0,document:Mt.newInvalidDocument(n)};return po(e).ee({index:Vm,range:IDBKeyRange.only(bd(n))},((i,o)=>{r={document:this.Cr(n,o),size:bp(o)}})).next((()=>r))}getEntries(e,n){let r=cr();return this.Fr(e,n,((i,o)=>{const l=this.Cr(i,o);r=r.insert(i,l)})).next((()=>r))}Mr(e,n){let r=cr(),i=new It(ve.comparator);return this.Fr(e,n,((o,l)=>{const c=this.Cr(o,l);r=r.insert(o,c),i=i.insert(o,bp(l))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return Y.resolve();let i=new pt(LS);n.forEach((h=>i=i.add(h)));const o=IDBKeyRange.bound(bd(i.first()),bd(i.last())),l=i.getIterator();let c=l.getNext();return po(e).ee({index:Vm,range:o},((h,f,g)=>{const b=ve.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&LS(c,b)<0;)r(c,null),c=l.getNext();c&&c.isEqual(b)&&(r(c,f),c=l.hasNext()?l.getNext():null),c?g.j(bd(c)):g.done()})).next((()=>{for(;c;)r(c,null),c=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,o){const l=n.path,c=[l.popLast().toArray(),l.lastSegment(),yp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return po(e).J(IDBKeyRange.bound(c,h,!0)).next((f=>{o?.incrementDocumentReadCount(f.length);let g=cr();for(const b of f){const _=this.Cr(ve.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);_.isFoundDocument()&&(xh(n,_)||i.has(_.key))&&(g=g.insert(_.key,_))}return g}))}getAllFromCollectionGroup(e,n,r,i){let o=cr();const l=VS(n,r),c=VS(n,fr.max());return po(e).ee({index:SC,range:IDBKeyRange.bound(l,c,!0)},((h,f,g)=>{const b=this.Cr(ve.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(b.key,b),o.size===i&&g.done()})).next((()=>o))}newChangeBuffer(e){return new gz(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return jS(e).get($b).next((n=>(Re(!!n,20021),n)))}Dr(e,n){return jS(e).put($b,n)}Cr(e,n){if(n){const r=ez(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ne.min())))return r}return Mt.newInvalidDocument(e)}}function VN(t){return new pz(t)}class gz extends jN{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Ei((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new pt(((o,l)=>Me(o.canonicalString(),l.canonicalString())));return this.changes.forEach(((o,l)=>{const c=this.Br.get(o);if(n.push(this.Nr.removeEntry(e,o,c.readTime)),l.isValidDocument()){const h=bS(this.Nr.serializer,l);i=i.add(o.path.popLast());const f=bp(h);r+=f-c.size,n.push(this.Nr.addEntry(e,o,h))}else if(r-=c.size,this.trackRemovals){const h=bS(this.Nr.serializer,l.convertToNoDocument(Ne.min()));n.push(this.Nr.addEntry(e,o,h))}})),i.forEach((o=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Nr.updateMetadata(e,r)),Y.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((o,l)=>{this.Br.set(o,{size:l,readTime:r.get(o).readTime})})),r)))}}function jS(t){return ln(t,Wd)}function po(t){return ln(t,lp)}function bd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function VS(t,e){const n=e.documentKey.path.toArray();return[t,yp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function LS(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Me(n[o],r[o]),i)return i;return i=Me(n.length,r.length),i||(i=Me(n[n.length-2],r[r.length-2]),i||Me(n[n.length-1],r[r.length-1]))}class yz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class LN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&zd(r.mutation,i,Or.empty(),ht.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=qe()){const i=Ns();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let l=Ed();return o.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Ns();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,qe())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let o=cr();const l=Ld(),c=(function(){return Ld()})();return n.forEach(((h,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof Oa)?o=o.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),zd(g.mutation,f,g.mutation.getFieldMask(),ht.now())):l.set(f.key,Or.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((f,g)=>l.set(f,g))),n.forEach(((f,g)=>c.set(f,new yz(g,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Ld();let i=new It(((l,c)=>l-c)),o=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let g=r.get(h)||Or.empty();g=c.applyToLocalView(f,g),r.set(h,g);const b=(i.get(c.batchId)||qe()).add(h);i=i.insert(c.batchId,b)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,g=h.value,b=tN();g.forEach((_=>{if(!o.has(_)){const w=lN(n.get(_),r.get(_));w!==null&&b.set(_,w),o=o.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,b))}return Y.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ix(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Y.resolve(Ns());let c=Kd,h=o;return l.next((f=>Y.forEach(f,((g,b)=>(c<b.largestBatchId&&(c=b.largestBatchId),o.get(g)?Y.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{h=h.insert(g,_)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,h,f,qe()))).next((g=>({batchId:c,changes:eN(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((r=>{let i=Ed();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=Ed();return this.indexManager.getCollectionParents(e,o).next((c=>Y.forEach(c,(h=>{const f=(function(b,_){return new Yu(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((g=>{g.forEach(((b,_)=>{l=l.insert(b,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((l=>{o.forEach(((h,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,Mt.newInvalidDocument(g)))}));let c=Ed();return l.forEach(((h,f)=>{const g=o.get(h);g!==void 0&&zd(g.mutation,f,Or.empty(),ht.now()),xh(n,f)&&(c=c.insert(h,f))})),c}))}}class vz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Un(i.createTime)}})(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:IN(i.bundledQuery),readTime:Un(i.readTime)}})(n)),Y.resolve()}}class bz{constructor(){this.overlays=new It(ve.comparator),this.qr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ns();return Y.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Ns(),o=n.length+1,l=new ve(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new It(((f,g)=>f-g));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=Ns(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const c=Ns(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,g)=>c.set(f,g))),!(c.size()>=i)););return Y.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new ux(n,r));let o=this.qr.get(n);o===void 0&&(o=qe(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class _z{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}class mx{constructor(){this.Qr=new pt(hn.$r),this.Ur=new pt(hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new hn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ve(new it([])),r=new hn(n,e),i=new hn(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new it([])),r=new hn(n,e),i=new hn(n,e+1);let o=qe();return this.Ur.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new hn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}class xz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pt(hn.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new ox(o,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new hn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return Y.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Oo:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),i=new hn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);o.push(c)})),Y.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(Me);return n.forEach((i=>{const o=new hn(i,0),l=new hn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{r=r.add(c.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const l=new hn(new ve(o),0);let c=new pt(Me);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(h.Yr)),!0)}),l),Y.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Re(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(n.mutations,(i=>{const o=new hn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new hn(n,0),i=this.Zr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class wz{constructor(e){this.ri=e,this.docs=(function(){return new It(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=cr();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Mt.newInvalidDocument(i))})),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=cr();const l=n.path,c=new ve(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||Y_(_C(g),r)<=0||(i.has(g.key)||xh(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Y.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ae(9500)}ii(e,n){return Y.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Ez(this)}getSize(e){return Y.resolve(this.size)}}class Ez extends jN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Y.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Tz{constructor(e){this.persistence=e,this.si=new Ei((n=>Qo(n)),bh),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new mx,this.targetCount=0,this.ai=Wo.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Y.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Pr(n),Y.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Y.waitFor(o).next((()=>i))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),Y.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this._i.containsKey(n))}}class px{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dr(0),this.li=!1,this.li=!0,this.hi=new _z,this.referenceDelegate=e(this),this.Pi=new Tz(this),this.indexManager=new lz,this.remoteDocumentCache=(function(i){return new wz(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new SN(n),this.Ii=new vz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new xz(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new Sz(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Sz extends wC{constructor(e){super(),this.currentSequenceNumber=e}}class mg{constructor(e){this.persistence=e,this.Ri=new mx,this.Vi=null}static mi(e){return new mg(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const i=ve.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,Ne.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class _p{constructor(e,n){this.persistence=e,this.pi=new Ei((r=>Rn(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=MN(this,n)}static mi(e,n){return new _p(e,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Y.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?Y.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,o.removeEntry(l,Ne.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zm(e.data.value)),n}br(e,n,r){return Y.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Az{constructor(e){this.serializer=e}k(e,n,r,i){const o=new Jp("createOrUpgrade",n);r<1&&i>=1&&((function(h){h.createObjectStore(vh)})(e),(function(h){h.createObjectStore(Yd,{keyPath:V3}),h.createObjectStore(Xr,{keyPath:Z1,autoIncrement:!0}).createIndex(Ao,Y1,{unique:!0}),h.createObjectStore(Au)})(e),zS(e),(function(h){h.createObjectStore(vo)})(e));let l=Y.resolve();return r<3&&i>=3&&(r!==0&&((function(h){h.deleteObjectStore(Ru),h.deleteObjectStore(Iu),h.deleteObjectStore(ko)})(e),zS(e)),l=l.next((()=>(function(h){const f=h.store(ko),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ne.min().toTimestamp(),targetCount:0};return f.put(up,g)})(o)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(h,f){return f.store(Xr).J().next((b=>{h.deleteObjectStore(Xr),h.createObjectStore(Xr,{keyPath:Z1,autoIncrement:!0}).createIndex(Ao,Y1,{unique:!0});const _=f.store(Xr),w=b.map((A=>_.put(A)));return Y.waitFor(w)}))})(e,o)))),l=l.next((()=>{(function(h){h.createObjectStore(Cu,{keyPath:G3})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(o)))),r<6&&i>=6&&(l=l.next((()=>((function(h){h.createObjectStore(Wd)})(e),this.wi(o))))),r<7&&i>=7&&(l=l.next((()=>this.Si(o)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,o)))),r<9&&i>=9&&(l=l.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(o)))),r<11&&i>=11&&(l=l.next((()=>{(function(h){h.createObjectStore(tg,{keyPath:K3})})(e),(function(h){h.createObjectStore(ng,{keyPath:Q3})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(h){const f=h.createObjectStore(rg,{keyPath:tL});f.createIndex(Bb,nL,{unique:!1}),f.createIndex(CC,rL,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(h){const f=h.createObjectStore(lp,{keyPath:z3});f.createIndex(Vm,U3),f.createIndex(SC,$3)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(vo)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,o)))),r<15&&i>=15&&(l=l.next((()=>(function(h){h.createObjectStore(J_,{keyPath:Z3,autoIncrement:!0}).createIndex(Fb,Y3,{unique:!1}),h.createObjectStore(Md,{keyPath:W3}).createIndex(IC,X3,{unique:!1}),h.createObjectStore(jd,{keyPath:J3}).createIndex(RC,eL,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{n.objectStore(Md).clear()})).next((()=>{n.objectStore(jd).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(h){h.createObjectStore(ex,{keyPath:sL})})(e)}))),r<18&&i>=18&&nC()&&(l=l.next((()=>{n.objectStore(Md).clear()})).next((()=>{n.objectStore(jd).clear()}))),l}wi(e){let n=0;return e.store(vo).ee(((r,i)=>{n+=bp(i)})).next((()=>{const r={byteSize:n};return e.store(Wd).put($b,r)}))}yi(e){const n=e.store(Yd),r=e.store(Xr);return n.J().next((i=>Y.forEach(i,(o=>{const l=IDBKeyRange.bound([o.userId,Oo],[o.userId,o.lastAcknowledgedBatchId]);return r.J(Ao,l).next((c=>Y.forEach(c,(h=>{Re(h.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const f=xo(this.serializer,h);return DN(e,o.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(Ru),r=e.store(vo);return e.store(ko).get(up).next((i=>{const o=[];return r.ee(((l,c)=>{const h=new it(l),f=(function(b){return[0,Rn(b)]})(h);o.push(n.get(f).next((g=>g?Y.resolve():(b=>n.put({targetId:0,path:Rn(b),sequenceNumber:i.highestListenSequenceNumber}))(h))))})).next((()=>Y.waitFor(o)))}))}bi(e,n){e.createObjectStore(Xd,{keyPath:H3});const r=n.store(Xd),i=new fx,o=l=>{if(i.add(l)){const c=l.lastSegment(),h=l.popLast();return r.put({collectionId:c,parent:Rn(h)})}};return n.store(vo).ee({X:!0},((l,c)=>{const h=new it(l);return o(h.popLast())})).next((()=>n.store(Au).ee({X:!0},(([l,c,h],f)=>{const g=Cs(c);return o(g.popLast())}))))}Di(e){const n=e.store(Iu);return n.ee(((r,i)=>{const o=Sd(i),l=AN(this.serializer,o);return n.put(l)}))}Ci(e,n){const r=n.store(vo),i=[];return r.ee(((o,l)=>{const c=n.store(lp),h=(function(b){return b.document?new ve(it.fromString(b.document.name).popFirst(5)):b.noDocument?ve.fromSegments(b.noDocument.path):b.unknownDocument?ve.fromSegments(b.unknownDocument.path):Ae(36783)})(l).path.toArray(),f={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(c.put(f))})).next((()=>Y.waitFor(i)))}Fi(e,n){const r=n.store(Xr),i=VN(this.serializer),o=new px(mg.mi,this.serializer.yt);return r.J().next((l=>{const c=new Map;return l.forEach((h=>{let f=c.get(h.userId)??qe();xo(this.serializer,h).keys().forEach((g=>f=f.add(g))),c.set(h.userId,f)})),Y.forEach(c,((h,f)=>{const g=new xn(f),b=hg.wt(this.serializer,g),_=o.getIndexManager(g),w=fg.wt(g,this.serializer,_,o.referenceDelegate);return new LN(i,w,b,_).recalculateAndSaveOverlaysForDocumentKeys(new qb(n,Dr.ce),h).next()}))}))}}function zS(t){t.createObjectStore(Ru,{keyPath:B3}).createIndex(X_,q3,{unique:!0}),t.createObjectStore(Iu,{keyPath:"targetId"}).createIndex(AC,F3,{unique:!0}),t.createObjectStore(ko)}const ua="IndexedDbPersistence",tb=18e5,nb=5e3,rb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Iz="main";class gx{constructor(e,n,r,i,o,l,c,h,f,g,b=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=o,this.window=l,this.document=c,this.xi=f,this.Oi=g,this.Ni=b,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=_=>Promise.resolve(),!gx.v())throw new me(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mz(this,i),this.$i=n+Iz,this.serializer=new SN(h),this.Ui=new xa(this.$i,this.Ni,new Az(this.serializer)),this.hi=new nz,this.Pi=new cz(this.referenceDelegate,this.serializer),this.remoteDocumentCache=VN(this.serializer),this.Ii=new tz,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,g===!1&&jn(ua,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new me(ie.FAILED_PRECONDITION,rb);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Dr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>_m(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Da(e))return fe(ua,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return fe(ua,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return _d(e).get(nu).next((n=>Y.resolve(this.es(n))))}ts(e){return _m(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,tb)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=ln(n,Cu);return r.J().next((i=>{const o=this.ss(i,tb),l=i.filter((c=>o.indexOf(c)===-1));return Y.forEach(l,(c=>r.delete(c.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Y.resolve(!0):_d(e).get(nu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,nb)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new me(ie.FAILED_PRECONDITION,rb);return!1}}return!(!this.networkEnabled||!this.inForeground)||_m(e).J().next((r=>this.ss(r,nb).find((i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(o||l&&c)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&fe(ua,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[vh,Cu],(e=>{const n=new qb(e,Dr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>_m(e).J().next((n=>this.ss(n,tb).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return fg.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new uz(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return hg.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe(ua,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=(function(h){return h===18?oL:h===17?kC:h===16?aL:h===15?tx:h===14?OC:h===13?DC:h===12?iL:h===11?NC:void Ae(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,o,(c=>(l=new qb(c,this.ci?this.ci.next():Dr.ce),n==="readwrite-primary"?this.Hi(l).next((h=>!!h||this.Yi(l))).next((h=>{if(!h)throw jn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new me(ie.FAILED_PRECONDITION,xC);return r(l)})).next((h=>this.Xi(l).next((()=>h)))):this.Is(l).next((()=>r(l)))))).then((c=>(l.raiseOnCommittedEvent(),c)))}Is(e){return _d(e).get(nu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,nb)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new me(ie.FAILED_PRECONDITION,rb)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _d(e).put(nu,n)}static v(){return xa.v()}Zi(e){const n=_d(e);return n.get(nu).next((r=>this.es(r)?(fe(ua,"Releasing primary lease."),n.delete(nu)):Y.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(jn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;tC()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return fe(ua,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return jn(ua,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){jn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _d(t){return ln(t,vh)}function _m(t){return ln(t,Cu)}function Rz(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class yx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=qe(),i=qe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new yx(e,n.fromCache,r,i)}}class Cz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tC()?8:EC(on())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new Cz;return this.Ss(e,n,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(uu()<=We.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(uu()<=We.DEBUG&&fe("QueryEngine","Query:",cu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(uu()<=We.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(n))):Y.resolve())}ys(e,n){if(uS(n))return Y.resolve(null);let r=kr(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=mp(n,null,"F"),r=kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=qe(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(n,c);return this.Cs(n,f,l,h.readTime)?this.ys(e,mp(n,null,"F")):this.vs(e,f,n,h)}))))})))))}ws(e,n,r,i){return uS(n)||i.isEqual(Ne.min())?Y.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,i)?Y.resolve(null):(uu()<=We.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cu(n)),this.vs(e,l,n,N3(i,Kd)).next((c=>c)))}))}Ds(e,n){let r=new pt(XC(e));return n.forEach(((i,o)=>{xh(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return uu()<=We.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",cu(n)),this.ps.getDocumentsMatchingQuery(e,n,fr.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const vx="LocalStore",Nz=3e8;class Dz{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new It(Me),this.xs=new Ei((o=>Qo(o)),bh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function UN(t,e,n,r){return new Dz(t,e,n,r)}async function $N(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let h=qe();for(const f of i){l.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of o){c.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function Oz(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,f,g){const b=f.batch,_=b.keys();let w=Y.resolve();return _.forEach((A=>{w=w.next((()=>g.getEntry(h,A))).next((R=>{const D=f.docVersions.get(A);Re(D!==null,48541),R.version.compareTo(D)<0&&(b.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),g.addEntry(R)))}))})),w.next((()=>c.mutationQueue.removeMutationBatch(h,b)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=qe();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function FN(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function kz(t,e){const n=je(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((g,b)=>{const _=i.get(b);if(!_)return;c.push(n.Pi.removeMatchingKeys(o,g.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(o,g.addedDocuments,b))));let w=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(en.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,r)),i=i.insert(b,w),(function(R,D,V){return R.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=Nz?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(_,w,g)&&c.push(n.Pi.updateTargetData(o,w))}));let h=cr(),f=qe();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),c.push(Pz(o,l,e.documentUpdates).next((g=>{h=g.ks,f=g.qs}))),!r.isEqual(Ne.min())){const g=n.Pi.getLastRemoteSnapshotVersion(o).next((b=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(g)}return Y.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,f))).next((()=>h))})).then((o=>(n.Ms=i,o)))}function Pz(t,e,n){let r=qe(),i=qe();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=cr();return n.forEach(((c,h)=>{const f=o.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Ne.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):fe(vx,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function Mz(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Oo),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function jz(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,Y.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new di(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function s_(t,e,n){const r=je(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Da(l))throw l;fe(vx,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function US(t,e,n){const r=je(t);let i=Ne.min(),o=qe();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,g){const b=je(h),_=b.xs.get(g);return _!==void 0?Y.resolve(b.Ms.get(_)):b.Pi.getTargetData(f,g)})(r,l,kr(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Ne.min(),n?o:qe()))).next((c=>(Vz(r,wL(e),c),{documents:c,Qs:o})))))}function Vz(t,e,n){let r=t.Os.get(e)||Ne.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class $S{constructor(){this.activeTargetIds=RL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BN{constructor(){this.Mo=new $S,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $S,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Lz{Oo(e){}shutdown(){}}const FS="ConnectivityMonitor";class BS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(FS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(FS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xm=null;function i_(){return xm===null?xm=(function(){return 268435456+Math.round(2147483648*Math.random())})():xm++,"0x"+xm.toString(16)}const sb="RestConnection",zz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Uz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===cp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const l=i_(),c=this.zo(e,n.toUriEncodedString());fe(sb,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,o);const{host:f}=new URL(c),g=Ku(f);return this.Jo(e,c,h,r,g).then((b=>(fe(sb,`Received RPC '${e}' ${l}: `,b),b)),(b=>{throw Ho(sb,`RPC '${e}' ${l} failed with error: `,b,"url: ",c,"request:",r),b}))}Ho(e,n,r,i,o,l){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=zz[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class $z{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Sn="WebChannelConnection";class Fz extends Uz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const l=i_();return new Promise(((c,h)=>{const f=new cC;f.setWithCredentials(!0),f.listenOnce(dC.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Pm.NO_ERROR:const b=f.getResponseJson();fe(Sn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(b)),c(b);break;case Pm.TIMEOUT:fe(Sn,`RPC '${e}' ${l} timed out`),h(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Pm.HTTP_ERROR:const _=f.getStatus();if(fe(Sn,`RPC '${e}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const A=w?.error;if(A&&A.status&&A.message){const R=(function(V){const $=V.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf($)>=0?$:ie.UNKNOWN})(A.status);h(new me(R,A.message))}else h(new me(ie.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new me(ie.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{fe(Sn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(i);fe(Sn,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",g,r,15)}))}T_(e,n,r){const i=i_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=mC(),c=fC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=o.join("");fe(Sn,`Creating RPC '${e}' stream ${i}: ${g}`,h);const b=l.createWebChannel(g,h);this.I_(b);let _=!1,w=!1;const A=new $z({Yo:D=>{w?fe(Sn,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(_||(fe(Sn,`Opening RPC '${e}' stream ${i} transport.`),b.open(),_=!0),fe(Sn,`RPC '${e}' stream ${i} sending:`,D),b.send(D))},Zo:()=>b.close()}),R=(D,V,$)=>{D.listen(V,(z=>{try{$(z)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return R(b,wd.EventType.OPEN,(()=>{w||(fe(Sn,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),R(b,wd.EventType.CLOSE,(()=>{w||(w=!0,fe(Sn,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(b))})),R(b,wd.EventType.ERROR,(D=>{w||(w=!0,Ho(Sn,`RPC '${e}' stream ${i} transport errored. Name:`,D.name,"Message:",D.message),A.a_(new me(ie.UNAVAILABLE,"The operation could not be completed")))})),R(b,wd.EventType.MESSAGE,(D=>{if(!w){const V=D.data[0];Re(!!V,16349);const $=V,z=$?.error||$[0]?.error;if(z){fe(Sn,`RPC '${e}' stream ${i} received error:`,z);const Q=z.status;let W=(function(I){const k=Xt[I];if(k!==void 0)return dN(k)})(Q),se=z.message;W===void 0&&(W=ie.INTERNAL,se="Unknown error status: "+Q+" with message "+z.message),w=!0,A.a_(new me(W,se)),b.close()}else fe(Sn,`RPC '${e}' stream ${i} received:`,V),A.u_(V)}})),R(c,hC.STAT_EVENT,(D=>{D.stat===Lb.PROXY?fe(Sn,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Lb.NOPROXY&&fe(Sn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Bz(){return typeof window<"u"?window:null}function qm(){return typeof document<"u"?document:null}function pg(t){return new qL(t,!0)}class qN{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const qS="PersistentStream";class HN{constructor(e,n,r,i,o,l,c,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(jn(n.toString()),jn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new me(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(qS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(qS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qz extends HN{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=KL(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ne.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ne.min():l.readTime?Un(l.readTime):Ne.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Jb(this.serializer),n.addTarget=(function(o,l){let c;const h=l.target;if(c=hp(h)?{documents:bN(o,h)}:{query:_N(o,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=mN(o,l.resumeToken);const f=Wb(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ne.min())>0){c.readTime=ju(o,l.snapshotVersion.toTimestamp());const f=Wb(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=ZL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Jb(this.serializer),n.removeTarget=e,this.q_(n)}}class Hz extends HN{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=QL(e.writeResults,e.commitTime),r=Un(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Jb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>gp(this.serializer,r)))};this.q_(n)}}class Gz{}class Kz extends Gz{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,Xb(n,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(ie.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,Xb(n,r),i,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ie.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Qz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jn(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xo="RemoteStore";class Zz{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{ul(this)&&(fe(Xo,"Restarting streams for network reachability change."),await(async function(h){const f=je(h);f.Ea.add(4),await Eh(f),f.Ra.set("Unknown"),f.Ea.delete(4),await gg(f)})(this))}))})),this.Ra=new Qz(r,i)}}async function gg(t){if(ul(t))for(const e of t.da)await e(!0)}async function Eh(t){for(const e of t.da)await e(!1)}function GN(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wx(n)?xx(n):Xu(n).O_()&&_x(n,e))}function bx(t,e){const n=je(t),r=Xu(n);n.Ia.delete(e),r.O_()&&KN(n,e),n.Ia.size===0&&(r.O_()?r.L_():ul(n)&&n.Ra.set("Unknown"))}function _x(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xu(t).Y_(e)}function KN(t,e){t.Va.Ue(e),Xu(t).Z_(e)}function xx(t){t.Va=new UL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Xu(t).start(),t.Ra.ua()}function wx(t){return ul(t)&&!Xu(t).x_()&&t.Ia.size>0}function ul(t){return je(t).Ea.size===0}function QN(t){t.Va=void 0}async function Yz(t){t.Ra.set("Online")}async function Wz(t){t.Ia.forEach(((e,n)=>{_x(t,e)}))}async function Xz(t,e){QN(t),wx(t)?(t.Ra.ha(e),xx(t)):t.Ra.set("Unknown")}async function Jz(t,e,n){if(t.Ra.set("Online"),e instanceof fN&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){fe(Xo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xp(t,r)}else if(e instanceof Fm?t.Va.Ze(e):e instanceof hN?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ne.min()))try{const r=await FN(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,f)=>{const g=o.Ia.get(h);if(!g)return;o.Ia.set(h,g.withResumeToken(en.EMPTY_BYTE_STRING,g.snapshotVersion)),KN(o,h);const b=new di(g.target,h,f,g.sequenceNumber);_x(o,b)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){fe(Xo,"Failed to raise snapshot:",r),await xp(t,r)}}async function xp(t,e,n){if(!Da(e))throw e;t.Ea.add(1),await Eh(t),t.Ra.set("Offline"),n||(n=()=>FN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{fe(Xo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gg(t)}))}function ZN(t,e){return e().catch((n=>xp(t,n,e)))}async function Th(t){const e=je(t),n=Aa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Oo;for(;e5(e);)try{const i=await Mz(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,t5(e,i)}catch(i){await xp(e,i)}YN(e)&&WN(e)}function e5(t){return ul(t)&&t.Ta.length<10}function t5(t,e){t.Ta.push(e);const n=Aa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function YN(t){return ul(t)&&!Aa(t).x_()&&t.Ta.length>0}function WN(t){Aa(t).start()}async function n5(t){Aa(t).ra()}async function r5(t){const e=Aa(t);for(const n of t.Ta)e.ea(n.mutations)}async function s5(t,e,n){const r=t.Ta.shift(),i=lx.from(r,e,n);await ZN(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Th(t)}async function i5(t,e){e&&Aa(t).X_&&await(async function(r,i){if((function(l){return VL(l)&&l!==ie.ABORTED})(i.code)){const o=r.Ta.shift();Aa(r).B_(),await ZN(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Th(r)}})(t,e),YN(t)&&WN(t)}async function HS(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),fe(Xo,"RemoteStore received new credentials");const r=ul(n);n.Ea.add(3),await Eh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gg(n)}async function a5(t,e){const n=je(t);e?(n.Ea.delete(2),await gg(n)):e||(n.Ea.add(2),await Eh(n),n.Ra.set("Unknown"))}function Xu(t){return t.ma||(t.ma=(function(n,r,i){const o=je(n);return o.sa(),new qz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Yz.bind(null,t),t_:Wz.bind(null,t),r_:Xz.bind(null,t),H_:Jz.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),wx(t)?xx(t):t.Ra.set("Unknown")):(await t.ma.stop(),QN(t))}))),t.ma}function Aa(t){return t.fa||(t.fa=(function(n,r,i){const o=je(n);return o.sa(),new Hz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:n5.bind(null,t),r_:i5.bind(null,t),ta:r5.bind(null,t),na:s5.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Th(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(Xo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Ex{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,c=new Ex(e,n,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tx(t,e){if(jn("AsyncQueue",`${e}: ${t}`),Da(t))return new me(ie.UNAVAILABLE,`${e}: ${t}`);throw t}class yu{static emptySet(e){return new yu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Ed(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class GS{constructor(){this.ga=new It(ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Vu{constructor(e,n,r,i,o,l,c,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Vu(e,n,yu.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class o5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class l5{constructor(){this.queries=KS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=je(n),o=i.queries;i.queries=KS(),o.forEach(((l,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function KS(){return new Ei((t=>WC(t)),og)}async function Sx(t,e){const n=je(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new o5,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=Tx(l,`Initialization of query '${cu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Ix(n)}async function Ax(t,e){const n=je(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function u5(t,e){const n=je(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&Ix(n)}function c5(t,e,n){const r=je(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function Ix(t){t.Ca.forEach((e=>{e.next()}))}var a_,QS;(QS=a_||(a_={})).Ma="default",QS.Cache="cache";class Rx{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==a_.Cache}}class XN{constructor(e){this.key=e}}class JN{constructor(e){this.key=e}}class d5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=XC(e),this.tu=new yu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new GS,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,b)=>{const _=i.get(g),w=xh(this.query,b)?b:null,A=!!_&&this.mutatedKeys.has(_.key),R=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let D=!1;_&&w?_.data.isEqual(w.data)?A!==R&&(r.track({type:3,doc:w}),D=!0):this.su(_,w)||(r.track({type:2,doc:w}),D=!0,(h&&this.eu(w,h)>0||f&&this.eu(w,f)<0)&&(c=!0)):!_&&w?(r.track({type:0,doc:w}),D=!0):_&&!w&&(r.track({type:1,doc:_}),D=!0,(h||f)&&(c=!0)),D&&(w?(l=l.add(w),o=R?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,b)=>(function(w,A){const R=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:D})}};return R(w)-R(A)})(g.type,b.type)||this.eu(g.doc,b.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new Vu(this.query,e.tu,o,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new JN(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new XN(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cx="SyncEngine";class h5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class f5{constructor(e){this.key=e,this.hu=!1}}class m5{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ei((c=>WC(c)),og),this.Iu=new Map,this.Eu=new Set,this.du=new It(ve.comparator),this.Au=new Map,this.Ru=new mx,this.Vu={},this.mu=new Map,this.fu=Wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function p5(t,e,n=!0){const r=i2(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await e2(r,e,n,!0),i}async function g5(t,e){const n=i2(t);await e2(n,e,!0,!1)}async function e2(t,e,n,r){const i=await jz(t.localStore,kr(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await y5(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&GN(t.remoteStore,i),c}async function y5(t,e,n,r,i){t.pu=(b,_,w)=>(async function(R,D,V,$){let z=D.view.ru(V);z.Cs&&(z=await US(R.localStore,D.query,!1).then((({documents:C})=>D.view.ru(C,z))));const Q=$&&$.targetChanges.get(D.targetId),W=$&&$.targetMismatches.get(D.targetId)!=null,se=D.view.applyChanges(z,R.isPrimaryClient,Q,W);return YS(R,D.targetId,se.au),se.snapshot})(t,b,_,w);const o=await US(t.localStore,e,!0),l=new d5(e,o.Qs),c=l.ru(o.documents),h=wh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,h);YS(t,n,f.au);const g=new h5(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function v5(t,e,n){const r=je(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((l=>!og(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await s_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&bx(r.remoteStore,i.targetId),o_(r,i.targetId)})).catch(ol)):(o_(r,i.targetId),await s_(r.localStore,i.targetId,!0))}async function b5(t,e){const n=je(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bx(n.remoteStore,r.targetId))}async function _5(t,e,n){const r=a2(t);try{const i=await(function(l,c){const h=je(l),f=ht.now(),g=c.reduce(((w,A)=>w.add(A.key)),qe());let b,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let A=cr(),R=qe();return h.Ns.getEntries(w,g).next((D=>{A=D,A.forEach(((V,$)=>{$.isValidDocument()||(R=R.add(V))}))})).next((()=>h.localDocuments.getOverlayedDocuments(w,A))).next((D=>{b=D;const V=[];for(const $ of c){const z=ML($,b.get($.key).overlayedDocument);z!=null&&V.push(new Oa($.key,z,BC(z.value.mapValue),Vn.exists(!0)))}return h.mutationQueue.addMutationBatch(w,f,V,c)})).next((D=>{_=D;const V=D.applyToLocalDocumentSet(b,R);return h.documentOverlayCache.saveOverlays(w,D.batchId,V)}))})).then((()=>({batchId:_.batchId,changes:eN(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new It(Me)),f=f.insert(c,h),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await Sh(r,i.changes),await Th(r.remoteStore)}catch(i){const o=Tx(i,"Failed to persist write");n.reject(o)}}async function t2(t,e){const n=je(t);try{const r=await kz(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=n.Au.get(o);l&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Re(l.hu,14607):i.removedDocuments.size>0&&(Re(l.hu,42227),l.hu=!1))})),await Sh(n,r,e)}catch(r){await ol(r)}}function ZS(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const h=je(l);h.onlineState=c;let f=!1;h.queries.forEach(((g,b)=>{for(const _ of b.Sa)_.va(c)&&(f=!0)})),f&&Ix(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function x5(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let l=new It(ve.comparator);l=l.insert(o,Mt.newNoDocument(o,Ne.min()));const c=qe().add(o),h=new dg(Ne.min(),new Map,new It(Me),l,c);await t2(r,h),r.du=r.du.remove(o),r.Au.delete(e),Nx(r)}else await s_(r.localStore,e,!1).then((()=>o_(r,e,n))).catch(ol)}async function w5(t,e){const n=je(t),r=e.batch.batchId;try{const i=await Oz(n.localStore,e);r2(n,r,null),n2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sh(n,i)}catch(i){await ol(i)}}async function E5(t,e,n){const r=je(t);try{const i=await(function(l,c){const h=je(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return h.mutationQueue.lookupMutationBatch(f,c).next((b=>(Re(b!==null,37113),g=b.keys(),h.mutationQueue.removeMutationBatch(f,b)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>h.localDocuments.getDocuments(f,g)))}))})(r.localStore,e);r2(r,e,n),n2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sh(r,i)}catch(i){await ol(i)}}function n2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function r2(t,e,n){const r=je(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function o_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||s2(t,r)}))}function s2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(bx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Nx(t))}function YS(t,e,n){for(const r of n)r instanceof XN?(t.Ru.addReference(r.key,e),T5(t,r)):r instanceof JN?(fe(Cx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||s2(t,r.key)):Ae(19791,{wu:r})}function T5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(fe(Cx,"New document in limbo: "+n),t.Eu.add(r),Nx(t))}function Nx(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(it.fromString(e)),r=t.fu.next();t.Au.set(r,new f5(n)),t.du=t.du.insert(n,r),GN(t.remoteStore,new di(kr(_h(n.path)),r,"TargetPurposeLimboResolution",Dr.ce))}}async function Sh(t,e,n){const r=je(t),i=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){i.push(f);const g=yx.As(h.targetId,f);o.push(g)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,f){const g=je(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Y.forEach(f,(_=>Y.forEach(_.Es,(w=>g.persistence.referenceDelegate.addReference(b,_.targetId,w))).next((()=>Y.forEach(_.ds,(w=>g.persistence.referenceDelegate.removeReference(b,_.targetId,w)))))))))}catch(b){if(!Da(b))throw b;fe(vx,"Failed to update sequence numbers: "+b)}for(const b of f){const _=b.targetId;if(!b.fromCache){const w=g.Ms.get(_),A=w.snapshotVersion,R=w.withLastLimboFreeSnapshotVersion(A);g.Ms=g.Ms.insert(_,R)}}})(r.localStore,o))}async function S5(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){fe(Cx,"User change. New user:",e.toKey());const r=await $N(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((h=>{h.reject(new me(ie.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sh(n,r.Ls)}}function A5(t,e){const n=je(t),r=n.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let i=qe();const o=n.Iu.get(e);if(!o)return i;for(const l of o){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function i2(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=t2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x5.bind(null,e),e.Pu.H_=u5.bind(null,e.eventManager),e.Pu.yu=c5.bind(null,e.eventManager),e}function a2(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E5.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return UN(this.persistence,new zN,e.initialUser,this.serializer)}Cu(e){return new px(mg.mi,this.serializer)}Du(e){return new BN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class I5 extends rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Re(this.persistence.referenceDelegate instanceof _p,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new PN(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new px((r=>_p.mi(r,n)),this.serializer)}}class R5 extends rh{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await a2(this.xu.syncEngine),await Th(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return UN(this.persistence,new zN,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new PN(r,e.asyncQueue,n)}Mu(e,n){const r=new P3(n,this.persistence);return new k3(e.asyncQueue,r)}Cu(e){const n=Rz(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new gx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Bz(),qm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new BN}}class wp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S5.bind(null,this.syncEngine),await a5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new l5})()}createDatastore(e){const n=pg(e.databaseInfo.databaseId),r=(function(o){return new Fz(o)})(e.databaseInfo);return(function(o,l,c,h){return new Kz(o,l,c,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,l,c){return new Zz(r,i,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>ZS(this.syncEngine,n,0)),(function(){return BS.v()?new BS:new Lz})())}createSyncEngine(e,n){return(function(i,o,l,c,h,f,g){const b=new m5(i,o,l,c,h,f);return g&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=je(n);fe(Xo,"RemoteStore shutting down."),r.Ea.add(5),await Eh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wp.provider={build:()=>new wp};class Dx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):jn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ia="FirestoreClient";class C5{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xn.UNAUTHENTICATED,this.clientId=Z_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{fe(Ia,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(fe(Ia,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Tx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ib(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Ia,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await $N(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function WS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await N5(t);fe(Ia,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>HS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>HS(e.remoteStore,i))),t._onlineComponents=e}async function N5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Ia,"Using user provided OfflineComponentProvider");try{await ib(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Ho("Error using user provided cache. Falling back to memory cache: "+n),await ib(t,new rh)}}else fe(Ia,"Using default OfflineComponentProvider"),await ib(t,new I5(void 0));return t._offlineComponents}async function o2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Ia,"Using user provided OnlineComponentProvider"),await WS(t,t._uninitializedComponentsProvider._online)):(fe(Ia,"Using default OnlineComponentProvider"),await WS(t,new wp))),t._onlineComponents}function D5(t){return o2(t).then((e=>e.syncEngine))}async function Ep(t){const e=await o2(t),n=e.eventManager;return n.onListen=p5.bind(null,e.syncEngine),n.onUnlisten=v5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=b5.bind(null,e.syncEngine),n}function O5(t,e,n={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,f){const g=new Dx({next:_=>{g.Nu(),l.enqueueAndForget((()=>Ax(o,b)));const w=_.docs.has(c);!w&&_.fromCache?f.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&h&&h.source==="server"?f.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),b=new Rx(_h(c.path),g,{includeMetadataChanges:!0,qa:!0});return Sx(o,b)})(await Ep(t),t.asyncQueue,e,n,r))),r.promise}function k5(t,e,n={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,f){const g=new Dx({next:_=>{g.Nu(),l.enqueueAndForget((()=>Ax(o,b))),_.fromCache&&h.source==="server"?f.reject(new me(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),b=new Rx(c,g,{includeMetadataChanges:!0,qa:!0});return Sx(o,b)})(await Ep(t),t.asyncQueue,e,n,r))),r.promise}function l2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const XS=new Map;const u2="firestore.googleapis.com",JS=!0;class eA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u2,this.ssl=JS}else this.host=e.host,this.ssl=e.ssl??JS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dz)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l2(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new v3;switch(r.type){case"firstParty":return new w3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=XS.get(n);r&&(fe("ComponentProvider","Removing Datastore"),XS.delete(n),r.terminate())})(this),Promise.resolve()}}function P5(t,e,n,r={}){t=dr(t,yg);const i=Ku(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(XR(`https://${c}`),JR("Firestore",!0)),o.host!==u2&&o.host!==c&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:c,ssl:i,emulatorOptions:r};if(!Fo(h,l)&&(t._setSettings(h),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=xn.MOCK_USER;else{f=QV(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new xn(b)}t._authCredentials=new b3(new gC(f,g))}}class Ti{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ti(this.firestore,e,this._query)}}class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yh(n,Ft._jsonSchema))return new Ft(e,r||null,new ve(it.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Jt("string",Ft._jsonSchemaVersion),referencePath:Jt("string")};class wa extends Ti{constructor(e,n,r){super(e,n,_h(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new ve(e))}withConverter(e){return new wa(this.firestore,e,this._path)}}function Ox(t,e,...n){if(t=Cn(t),vC("collection","path",e),t instanceof yg){const r=it.fromString(e,...n);return q1(r),new wa(t,null,r)}{if(!(t instanceof Ft||t instanceof wa))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return q1(r),new wa(t.firestore,null,r)}}function Ju(t,e,...n){if(t=Cn(t),arguments.length===1&&(e=Z_.newId()),vC("doc","path",e),t instanceof yg){const r=it.fromString(e,...n);return B1(r),new Ft(t,null,new ve(r))}{if(!(t instanceof Ft||t instanceof wa))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return B1(r),new Ft(t.firestore,t instanceof wa?t.converter:null,new ve(r))}}const tA="AsyncQueue";class nA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qN(this,"async_queue_retry"),this._c=()=>{const r=qm();r&&fe(tA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Da(e))throw e;fe(tA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,jn("INTERNAL UNHANDLED ERROR: ",rA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Ex.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Ae(47125,{Pc:rA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function rA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function sA(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class _i extends yg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new nA,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nA(e),this._firestoreClient=void 0,await e}}}function c2(t,e){const n=typeof t=="object"?t:aC(),r=typeof t=="string"?t:cp,i=G_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=GV("firestore");o&&P5(i,...o)}return i}function vg(t){if(t._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||d2(t),t._firestoreClient}function d2(t){const e=t._freezeSettings(),n=(function(i,o,l,c){return new uL(i,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,l2(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new C5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}function M5(t,e){Ho("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return j5(t,wp.provider,{build:r=>new R5(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function j5(t,e,n){if((t=dr(t,_i))._firestoreClient||t._terminated)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new me(ie.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},d2(t)}class Nr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nr(en.fromBase64String(e))}catch(n){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nr(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yh(e,Nr._jsonSchema))return Nr.fromBase64String(e.bytes)}}Nr._jsonSchemaVersion="firestore/bytes/1.0",Nr._jsonSchema={type:Jt("string",Nr._jsonSchemaVersion),bytes:Jt("string")};class kx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Px{constructor(e){this._methodName=e}}class Os{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Os._jsonSchemaVersion}}static fromJSON(e){if(yh(e,Os._jsonSchema))return new Os(e.latitude,e.longitude)}}Os._jsonSchemaVersion="firestore/geoPoint/1.0",Os._jsonSchema={type:Jt("string",Os._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};class ks{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ks._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yh(e,ks._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ks(e.vectorValues);throw new me(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ks._jsonSchemaVersion="firestore/vectorValue/1.0",ks._jsonSchema={type:Jt("string",ks._jsonSchemaVersion),vectorValues:Jt("object")};const V5=/^__.*__$/;class L5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wu(e,this.data,n,this.fieldTransforms)}}function h2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:t})}}class Mx{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Tp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(h2(this.Ac)&&V5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class z5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pg(e)}Cc(e,n,r,i=!1){return new Mx({Ac:e,methodName:n,Dc:r,path:Ct.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bg(t){const e=t._freezeSettings(),n=pg(t._databaseId);return new z5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function f2(t,e,n,r,i,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);y2("Data must be an object, but it was:",l,r);const c=p2(r,l);let h,f;if(o.merge)h=new Or(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const b of o.mergeFields){const _=U5(e,b,n);if(!l.contains(_))throw new me(ie.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);F5(g,_)||g.push(_)}h=new Or(g),f=l.fieldTransforms.filter((b=>h.covers(b.field)))}else h=null,f=l.fieldTransforms;return new L5(new Zn(c),h,f)}class jx extends Px{_toFieldTransform(e){return new oN(e.path,new ku)}isEqual(e){return e instanceof jx}}function m2(t,e,n,r=!1){return Vx(n,t.Cc(r?4:3,e))}function Vx(t,e){if(g2(t=Cn(t)))return y2("Unsupported field value:",e,t),p2(t,e);if(t instanceof Px)return(function(r,i){if(!h2(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const c of r){let h=Vx(c,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ht.fromDate(r);return{timestampValue:ju(i.serializer,o)}}if(r instanceof ht){const o=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ju(i.serializer,o)}}if(r instanceof Os)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nr)return{bytesValue:mN(i.serializer,r._byteString)};if(r instanceof Ft){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:dx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ks)return(function(l,c){return{mapValue:{fields:{[nx]:{stringValue:rx},[Nu]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return ax(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Xp(r)}`)})(t,e)}function p2(t,e){const n={};return PC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ll(t,((r,i)=>{const o=Vx(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function g2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof Os||t instanceof Nr||t instanceof Ft||t instanceof Px||t instanceof ks)}function y2(t,e,n){if(!g2(n)||!bC(n)){const r=Xp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function U5(t,e,n){if((e=Cn(e))instanceof kx)return e._internalPath;if(typeof e=="string")return v2(t,e);throw Tp("Field path arguments must be of type string or ",t,!1,void 0,n)}const $5=new RegExp("[~\\*/\\[\\]]");function v2(t,e,n){if(e.search($5)>=0)throw Tp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kx(...e.split("."))._internalPath}catch{throw Tp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tp(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new me(ie.INVALID_ARGUMENT,c+t+h)}function F5(t,e){return t.some((n=>n.isEqual(e)))}class Lx{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(b2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B5 extends Lx{data(){return super.data()}}function b2(t,e){return typeof e=="string"?v2(t,e):e instanceof kx?e._internalPath:e._delegate._internalPath}function _2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zx{}class Ux extends zx{}function q5(t,e,...n){let r=[];e instanceof zx&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((h=>h instanceof Fx)).length,c=o.filter((h=>h instanceof $x)).length;if(l>1||l>0&&c>0)throw new me(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class $x extends Ux{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $x(e,n,r)}_apply(e){const n=this._parse(e);return x2(e._query,n),new Ti(e.firestore,e.converter,Yb(e._query,n))}_parse(e){const n=bg(e.firestore);return(function(o,l,c,h,f,g,b){let _;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new me(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){aA(b,g);const A=[];for(const R of b)A.push(iA(h,o,R));_={arrayValue:{values:A}}}else _=iA(h,o,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||aA(b,g),_=m2(c,l,b,g==="in"||g==="not-in");return Xe.create(f,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Fx extends zx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fx(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ft.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let l=i;const c=o.getFlattenedFilters();for(const h of c)x2(l,h),l=Yb(l,h)})(e._query,n),new Ti(e.firestore,e.converter,Yb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bx extends Ux{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Bx(e,n,r)}_apply(e){return new Ti(e.firestore,e.converter,mp(e._query,this._limit,this._limitType))}}function H5(t){return C3("limit",t),Bx._create("limit",t,"F")}class qx extends Ux{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new qx(e,n,r)}_apply(e){const n=K5(e,this.type,this._docOrFields,this._inclusive);return new Ti(e.firestore,e.converter,(function(i,o){return new Yu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)})(e._query,n))}}function G5(...t){return qx._create("startAfter",t,!1)}function K5(t,e,n,r){if(n[0]=Cn(n[0]),n[0]instanceof Lx)return(function(o,l,c,h,f){if(!h)throw new me(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const g=[];for(const b of gu(o))if(b.field.isKeyField())g.push(Ko(l,h.key));else{const _=h.data.field(b.field);if(sg(_))throw new me(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const w=b.field.canonicalString();throw new me(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}g.push(_)}return new Sa(g,f)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=bg(t.firestore);return(function(l,c,h,f,g,b){const _=l.explicitOrderBy;if(g.length>_.length)throw new me(ie.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let A=0;A<g.length;A++){const R=g[A];if(_[A].field.isKeyField()){if(typeof R!="string")throw new me(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof R}`);if(!ix(l)&&R.indexOf("/")!==-1)throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${R}' contains a slash.`);const D=l.path.child(it.fromString(R));if(!ve.isDocumentKey(D))throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);const V=new ve(D);w.push(Ko(c,V))}else{const D=m2(h,f,R);w.push(D)}}return new Sa(w,b)})(t._query,t.firestore._databaseId,i,e,n,r)}}function iA(t,e,n){if(typeof(n=Cn(n))=="string"){if(n==="")throw new me(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ix(e)&&n.indexOf("/")!==-1)throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!ve.isDocumentKey(r))throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ko(t,new ve(r))}if(n instanceof Ft)return Ko(t,n._key);throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xp(n)}.`)}function aA(t,e){if(!Array.isArray(t)||t.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function x2(t,e){const n=(function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Q5{convertValue(e,n="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ll(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Nu].arrayValue?.values?.map((r=>At(r.doubleValue)));return new ks(n)}convertGeoPoint(e){return new Os(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ig(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jd(e));default:return null}}convertTimestamp(e){const n=vi(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Re(TN(r),9688,{name:e});const i=new Go(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(n)||jn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function w2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ad{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mo extends Lx{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(b2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Mo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mo._jsonSchema={type:Jt("string",Mo._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class Hm extends Mo{data(e={}){return super.data(e)}}class jo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ad(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Hm(this._firestore,this._userDataWriter,r.key,r,new Ad(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const h=new Hm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ad(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const h=new Hm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ad(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:Z5(c.type),doc:h,oldIndex:f,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Z_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}function Y5(t){t=dr(t,Ft);const e=dr(t.firestore,_i);return O5(vg(e),t._key).then((n=>S2(e,t,n)))}jo._jsonSchemaVersion="firestore/querySnapshot/1.0",jo._jsonSchema={type:Jt("string",jo._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class Hx extends Q5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function W5(t){t=dr(t,Ti);const e=dr(t.firestore,_i),n=vg(e),r=new Hx(e);return _2(t._query),k5(n,t._query).then((i=>new jo(e,r,t,i)))}function E2(t,e,n){t=dr(t,Ft);const r=dr(t.firestore,_i),i=w2(t.converter,e,n);return Gx(r,[f2(bg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Vn.none())])}function X5(t){return Gx(dr(t.firestore,_i),[new cg(t._key,Vn.none())])}function J5(t,e){const n=dr(t.firestore,_i),r=Ju(t),i=w2(t.converter,e);return Gx(n,[f2(bg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Vn.exists(!1))]).then((()=>r))}function T2(t,...e){t=Cn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||sA(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(sA(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let o,l,c;if(t instanceof Ft)l=dr(t.firestore,_i),c=_h(t._key.path),o={next:h=>{e[r]&&e[r](S2(l,t,h))},error:e[r+1],complete:e[r+2]};else{const h=dr(t,Ti);l=dr(h.firestore,_i),c=h._query;const f=new Hx(l);o={next:g=>{e[r]&&e[r](new jo(l,f,h,g))},error:e[r+1],complete:e[r+2]},_2(t._query)}return(function(f,g,b,_){const w=new Dx(_),A=new Rx(g,w,b);return f.asyncQueue.enqueueAndForget((async()=>Sx(await Ep(f),A))),()=>{w.Nu(),f.asyncQueue.enqueueAndForget((async()=>Ax(await Ep(f),A)))}})(vg(l),c,i,o)}function Gx(t,e){return(function(r,i){const o=new Ds;return r.asyncQueue.enqueueAndForget((async()=>_5(await D5(r),i,o))),o.promise})(vg(t),e)}function S2(t,e,n){const r=n.docs.get(e._key),i=new Hx(t);return new Mo(t,i,e._key,r,new Ad(n.hasPendingWrites,n.fromCache),e.converter)}function A2(){return new jx("serverTimestamp")}(function(e,n=!0){(function(i){Zu=i})(Qu),Tu(new Bo("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new _i(new _3(r.getProvider("auth-internal")),new E3(l,r.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(f.options.projectId,g)})(l,i),l);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),ba(z1,U1,e),ba(z1,U1,"esm2020")})();var eU="firebase",tU="12.7.0";ba(eU,tU,"app");function I2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nU=I2,R2=new ph("auth","Firebase",I2());const Sp=new q_("@firebase/auth");function rU(t,...e){Sp.logLevel<=We.WARN&&Sp.warn(`Auth (${Qu}): ${t}`,...e)}function Gm(t,...e){Sp.logLevel<=We.ERROR&&Sp.error(`Auth (${Qu}): ${t}`,...e)}function Ls(t,...e){throw Qx(t,...e)}function ts(t,...e){return Qx(t,...e)}function Kx(t,e,n){const r={...nU(),[e]:n};return new ph("auth","Firebase",r).create(e,{appName:t.name})}function Vo(t){return Kx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sU(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ls(t,"argument-error"),Kx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return R2.create(t,...e)}function Pe(t,e,...n){if(!t)throw Qx(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gm(e),new Error(e)}function xi(t,e){t||hi(e)}function l_(){return typeof self<"u"&&self.location?.href||""}function iU(){return oA()==="http:"||oA()==="https:"}function oA(){return typeof self<"u"&&self.location?.protocol||null}function aU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iU()||JV()||"connection"in navigator)?navigator.onLine:!0}function oU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ah{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=WV()||e6()}get(){return aU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zx(t,e){xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class C2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const uU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cU=new Ah(3e4,6e4);function Yx(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ec(t,e,n,r,i={}){return N2(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=gh({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...o};return XV()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Ku(t.emulatorConfig.host)&&(f.credentials="include"),C2.fetch()(await D2(t,t.config.apiHost,n,c),f)})}async function N2(t,e,n){t._canInitEmulator=!1;const r={...lU,...e};try{const i=new hU(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw wm(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw wm(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw wm(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw wm(t,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Kx(t,g,f);Ls(t,g)}}catch(i){if(i instanceof wi)throw i;Ls(t,"network-request-failed",{message:String(i)})}}async function dU(t,e,n,r,i={}){const o=await ec(t,e,n,r,i);return"mfaPendingCredential"in o&&Ls(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function D2(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?Zx(t.config,i):`${t.config.apiScheme}://${i}`;return uU.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class hU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ts(this.auth,"network-request-failed")),cU.get())})}}function wm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ts(t,e,r);return i.customData._tokenResponse=n,i}async function fU(t,e){return ec(t,"POST","/v1/accounts:delete",e)}async function Ap(t,e){return ec(t,"POST","/v1/accounts:lookup",e)}function Ud(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mU(t,e=!1){const n=Cn(t),r=await n.getIdToken(e),i=Wx(r);Pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:Ud(ab(i.auth_time)),issuedAtTime:Ud(ab(i.iat)),expirationTime:Ud(ab(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function ab(t){return Number(t)*1e3}function Wx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gm("JWT malformed, contained fewer than 3 sections"),null;try{const i=KR(n);return i?JSON.parse(i):(Gm("Failed to decode base64 JWT payload"),null)}catch(i){return Gm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function lA(t){const e=Wx(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function sh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wi&&pU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class gU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class u_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ud(this.lastLoginAt),this.creationTime=Ud(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ip(t){const e=t.auth,n=await t.getIdToken(),r=await sh(t,Ap(e,{idToken:n}));Pe(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=i.providerUserInfo?.length?O2(i.providerUserInfo):[],l=vU(t.providerData,o),c=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!l?.length,f=c?h:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new u_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function yU(t){const e=Cn(t);await Ip(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function O2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function bU(t,e){const n=await N2(t,{},async()=>{const r=gh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await D2(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return t.emulatorConfig&&Ku(t.emulatorConfig.host)&&(h.credentials="include"),C2.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _U(t,e){return ec(t,"POST","/v2/accounts:revokeToken",Yx(t,e))}class vu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=lA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await bU(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new vu;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Pe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Pe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vu,this.toJSON())}_performRefresh(){return hi("not implemented")}}function ca(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class es{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new gU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new u_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await sh(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mU(this,e)}reload(){return yU(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new es({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ip(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jr(this.auth.app))return Promise.reject(Vo(this.auth));const e=await this.getIdToken();return await sh(this,fU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:b,emailVerified:_,isAnonymous:w,providerData:A,stsTokenManager:R}=n;Pe(b&&R,e,"internal-error");const D=vu.fromJSON(this.name,R);Pe(typeof b=="string",e,"internal-error"),ca(r,e.name),ca(i,e.name),Pe(typeof _=="boolean",e,"internal-error"),Pe(typeof w=="boolean",e,"internal-error"),ca(o,e.name),ca(l,e.name),ca(c,e.name),ca(h,e.name),ca(f,e.name),ca(g,e.name);const V=new es({uid:b,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:w,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:D,createdAt:f,lastLoginAt:g});return A&&Array.isArray(A)&&(V.providerData=A.map($=>({...$}))),h&&(V._redirectEventId=h),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new vu;i.updateFromServerResponse(n);const o=new es({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ip(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Pe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?O2(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,c=new vu;c.updateFromIdToken(r);const h=new es({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new u_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(h,f),h}}const uA=new Map;function fi(t){xi(t instanceof Function,"Expected a class definition");let e=uA.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uA.set(t,e),e)}class k2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}k2.type="NONE";const cA=k2;function Km(t,e,n){return`firebase:${t}:${e}:${n}`}class bu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Km(this.userKey,i.apiKey,o),this.fullPersistenceKey=Km("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ap(this.auth,{idToken:e}).catch(()=>{});return n?es._fromGetAccountInfoResponse(this.auth,n,e):null}return es._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bu(fi(cA),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||fi(cA);const l=Km(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const g=await f._get(l);if(g){let b;if(typeof g=="string"){const _=await Ap(e,{idToken:g}).catch(()=>{});if(!_)break;b=await es._fromGetAccountInfoResponse(e,_,g)}else b=es._fromJSON(e,g);f!==o&&(c=b),o=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new bu(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new bu(o,e,r))}}function dA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z2(e))return"Blackberry";if(U2(e))return"Webos";if(M2(e))return"Safari";if((e.includes("chrome/")||j2(e))&&!e.includes("edge/"))return"Chrome";if(L2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function P2(t=on()){return/firefox\//i.test(t)}function M2(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j2(t=on()){return/crios\//i.test(t)}function V2(t=on()){return/iemobile/i.test(t)}function L2(t=on()){return/android/i.test(t)}function z2(t=on()){return/blackberry/i.test(t)}function U2(t=on()){return/webos/i.test(t)}function Xx(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xU(t=on()){return Xx(t)&&!!window.navigator?.standalone}function wU(){return t6()&&document.documentMode===10}function $2(t=on()){return Xx(t)||L2(t)||U2(t)||z2(t)||/windows phone/i.test(t)||V2(t)}function F2(t,e=[]){let n;switch(t){case"Browser":n=dA(on());break;case"Worker":n=`${dA(on())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qu}/${r}`}class EU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function TU(t,e={}){return ec(t,"GET","/v2/passwordPolicy",Yx(t,e))}const SU=6;class AU{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??SU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class IU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hA(this),this.idTokenSubscription=new hA(this),this.beforeStateQueue=new EU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ap(this,{idToken:e}),r=await es._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ip(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jr(this.app))return Promise.reject(Vo(this));const n=e?Cn(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jr(this.app)?Promise.reject(Vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jr(this.app)?Promise.reject(Vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TU(this),n=new AU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ph("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _U(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await bu.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&rU(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _g(t){return Cn(t)}class hA{constructor(e){this.auth=e,this.observer=null,this.addObserver=o6(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RU(t){Jx=t}function CU(t){return Jx.loadJS(t)}function NU(){return Jx.gapiScript}function DU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function OU(t,e){const n=G_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Fo(o,e??{}))return i;Ls(i,"already-initialized")}return n.initialize({options:e})}function kU(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(fi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function PU(t,e,n){const r=_g(t);Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=B2(e),{host:l,port:c}=MU(e),h=c===null?"":`:${c}`,f={url:`${o}//${l}${h}/`},g=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pe(Fo(f,r.config.emulator)&&Fo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Ku(l)?(XR(`${o}//${l}${h}`),JR("Auth",!0)):jU()}function B2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MU(t){const e=B2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:fA(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:fA(l)}}}function fA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class q2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}async function _u(t,e){return dU(t,"POST","/v1/accounts:signInWithIdp",Yx(t,e))}const VU="http://localhost";class Jo extends q2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ls("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const l=new Jo(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return _u(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_u(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_u(e,n)}buildRequest(){const e={requestUri:VU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gh(n)}return e}}class e0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ih extends e0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ha extends Ih{constructor(){super("facebook.com")}static credential(e){return Jo._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch{return null}}}ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";ha.PROVIDER_ID="facebook.com";class ci extends Ih{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jo._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";class fa extends Ih{constructor(){super("github.com")}static credential(e){return Jo._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fa.credential(e.oauthAccessToken)}catch{return null}}}fa.GITHUB_SIGN_IN_METHOD="github.com";fa.PROVIDER_ID="github.com";class ma extends Ih{constructor(){super("twitter.com")}static credential(e,n){return Jo._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ma.credential(n,r)}catch{return null}}}ma.TWITTER_SIGN_IN_METHOD="twitter.com";ma.PROVIDER_ID="twitter.com";class Lu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await es._fromIdTokenResponse(e,r,i),l=mA(r);return new Lu({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=mA(r);return new Lu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function mA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Rp extends wi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Rp(e,n,r,i)}}function H2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Rp._fromErrorAndOperation(t,o,e,r):o})}async function LU(t,e,n=!1){const r=await sh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Lu._forOperation(t,"link",r)}async function zU(t,e,n=!1){const{auth:r}=t;if(Jr(r.app))return Promise.reject(Vo(r));const i="reauthenticate";try{const o=await sh(t,H2(r,i,e,t),n);Pe(o.idToken,r,"internal-error");const l=Wx(o.idToken);Pe(l,r,"internal-error");const{sub:c}=l;return Pe(t.uid===c,r,"user-mismatch"),Lu._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ls(r,"user-mismatch"),o}}async function UU(t,e,n=!1){if(Jr(t.app))return Promise.reject(Vo(t));const r="signIn",i=await H2(t,r,e),o=await Lu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function $U(t,e,n,r){return Cn(t).onIdTokenChanged(e,n,r)}function FU(t,e,n){return Cn(t).beforeAuthStateChanged(e,n)}function G2(t,e,n,r){return Cn(t).onAuthStateChanged(e,n,r)}function BU(t){return Cn(t).signOut()}const Cp="__sak";class K2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cp,"1"),this.storage.removeItem(Cp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const qU=1e3,HU=10;class Q2 extends K2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);wU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,HU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q2.type="LOCAL";const GU=Q2;class Z2 extends K2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Z2.type="SESSION";const Y2=Z2;function KU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class xg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,o)),h=await KU(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xg.receivers=[];function t0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class QU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const f=t0("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(b){const _=b;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Ps(){return window}function ZU(t){Ps().location.href=t}function W2(){return typeof Ps().WorkerGlobalScope<"u"&&typeof Ps().importScripts=="function"}async function YU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WU(){return navigator?.serviceWorker?.controller||null}function XU(){return W2()?self:null}const X2="firebaseLocalStorageDb",JU=1,Np="firebaseLocalStorage",J2="fbase_key";class Rh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wg(t,e){return t.transaction([Np],e?"readwrite":"readonly").objectStore(Np)}function e9(){const t=indexedDB.deleteDatabase(X2);return new Rh(t).toPromise()}function c_(){const t=indexedDB.open(X2,JU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Np,{keyPath:J2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Np)?e(r):(r.close(),await e9(),e(await c_()))})})}async function pA(t,e,n){const r=wg(t,!0).put({[J2]:e,value:n});return new Rh(r).toPromise()}async function t9(t,e){const n=wg(t,!1).get(e),r=await new Rh(n).toPromise();return r===void 0?null:r.value}function gA(t,e){const n=wg(t,!0).delete(e);return new Rh(n).toPromise()}const n9=800,r9=3;class eD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>r9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xg._getInstance(XU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await YU(),!this.activeServiceWorker)return;this.sender=new QU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c_();return await pA(e,Cp,"1"),await gA(e,Cp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>t9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=wg(i,!1).getAll();return new Rh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eD.type="LOCAL";const s9=eD;new Ah(3e4,6e4);function tD(t,e){return e?fi(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class n0 extends q2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _u(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _u(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _u(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i9(t){return UU(t.auth,new n0(t),t.bypassAuthState)}function a9(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),zU(n,new n0(t),t.bypassAuthState)}async function o9(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),LU(n,new n0(t),t.bypassAuthState)}class nD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i9;case"linkViaPopup":case"linkViaRedirect":return o9;case"reauthViaPopup":case"reauthViaRedirect":return a9;default:Ls(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const l9=new Ah(2e3,1e4);async function u9(t,e,n){if(Jr(t.app))return Promise.reject(ts(t,"operation-not-supported-in-this-environment"));const r=_g(t);sU(t,e,e0);const i=tD(r,n);return new Io(r,"signInViaPopup",e,i).executeNotNull()}class Io extends nD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=t0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,l9.get())};e()}}Io.currentPopupAction=null;const c9="pendingRedirect",Qm=new Map;class d9 extends nD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qm.get(this.auth._key());if(!e){try{const r=await h9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qm.set(this.auth._key(),e)}return this.bypassAuthState||Qm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h9(t,e){const n=p9(e),r=m9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function f9(t,e){Qm.set(t._key(),e)}function m9(t){return fi(t._redirectPersistence)}function p9(t){return Km(c9,t.config.apiKey,t.name)}async function g9(t,e,n=!1){if(Jr(t.app))return Promise.reject(Vo(t));const r=_g(t),i=tD(r,e),l=await new d9(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const y9=600*1e3;class v9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!rD(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ts(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y9&&this.cachedEventUids.clear(),this.cachedEventUids.has(yA(e))}saveEventToCache(e){this.cachedEventUids.add(yA(e)),this.lastProcessedEventTime=Date.now()}}function yA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function b9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rD(t);default:return!1}}async function _9(t,e={}){return ec(t,"GET","/v1/projects",e)}const x9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w9=/^https?/;async function E9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _9(t);for(const n of e)try{if(T9(n))return}catch{}Ls(t,"unauthorized-domain")}function T9(t){const e=l_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!w9.test(n))return!1;if(x9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const S9=new Ah(3e4,6e4);function vA(){const t=Ps().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function A9(t){return new Promise((e,n)=>{function r(){vA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vA(),n(ts(t,"network-request-failed"))},timeout:S9.get()})}if(Ps().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ps().gapi?.load)r();else{const i=DU("iframefcb");return Ps()[i]=()=>{gapi.load?r():n(ts(t,"network-request-failed"))},CU(`${NU()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw Zm=null,e})}let Zm=null;function I9(t){return Zm=Zm||A9(t),Zm}const R9=new Ah(5e3,15e3),C9="__/auth/iframe",N9="emulator/auth/iframe",D9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k9(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zx(e,N9):`https://${t.config.authDomain}/${C9}`,r={apiKey:e.apiKey,appName:t.name,v:Qu},i=O9.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${gh(r).slice(1)}`}async function P9(t){const e=await I9(t),n=Ps().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:k9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=ts(t,"network-request-failed"),c=Ps().setTimeout(()=>{o(l)},R9.get());function h(){Ps().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{o(l)})}))}const M9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j9=500,V9=600,L9="_blank",z9="http://localhost";class bA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U9(t,e,n,r=j9,i=V9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...M9,width:r.toString(),height:i.toString(),top:o,left:l},f=on().toLowerCase();n&&(c=j2(f)?L9:n),P2(f)&&(e=e||z9,h.scrollbars="yes");const g=Object.entries(h).reduce((_,[w,A])=>`${_}${w}=${A},`,"");if(xU(f)&&c!=="_self")return $9(e||"",c),new bA(null);const b=window.open(e||"",c,g);Pe(b,t,"popup-blocked");try{b.focus()}catch{}return new bA(b)}function $9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const F9="__/auth/handler",B9="emulator/auth/handler",q9=encodeURIComponent("fac");async function _A(t,e,n,r,i,o){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qu,eventId:i};if(e instanceof e0){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",a6(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries({}))l[g]=b}if(e instanceof Ih){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await t._getAppCheckToken(),f=h?`#${q9}=${encodeURIComponent(h)}`:"";return`${H9(t)}?${gh(c).slice(1)}${f}`}function H9({config:t}){return t.emulator?Zx(t,B9):`https://${t.authDomain}/${F9}`}const ob="webStorageSupport";class G9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y2,this._completeRedirectFn=g9,this._overrideRedirectResult=f9}async _openPopup(e,n,r,i){xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await _A(e,n,r,l_(),i);return U9(e,o,t0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await _A(e,n,r,l_(),i);return ZU(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(xi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await P9(e),r=new v9(e);return n.register("authEvent",i=>(Pe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ob,{type:ob},i=>{const o=i?.[0]?.[ob];o!==void 0&&n(!!o),Ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $2()||M2()||Xx()}}const K9=G9;var xA="@firebase/auth",wA="1.12.0";class Q9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Z9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y9(t){Tu(new Bo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Pe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F2(t)},f=new IU(r,i,o,h);return kU(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tu(new Bo("auth-internal",e=>{const n=_g(e.getProvider("auth").getImmediate());return(r=>new Q9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ba(xA,wA,Z9(t)),ba(xA,wA,"esm2020")}const W9=300,X9=WR("authIdTokenMaxAge")||W9;let EA=null;const J9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>X9)return;const i=n?.token;EA!==i&&(EA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function e$(t=aC()){const e=G_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=OU(t,{popupRedirectResolver:K9,persistence:[s9,GU,Y2]}),r=WR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=J9(o.toString());FU(n,l,()=>l(n.currentUser)),$U(n,c=>l(c))}}const i=ZR("auth");return i&&PU(n,`http://${i}`),n}function t$(){return document.getElementsByTagName("head")?.[0]??document}RU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ts("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",t$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y9("Browser");const n$={apiKey:"AIzaSyBn06ZTtPhI0iJhPKeQwDH1TTRdhPZiBn0",authDomain:"paddleup-thechallenge.firebaseapp.com",projectId:"paddleup-thechallenge",storageBucket:void 0,messagingSenderId:"490973136832",appId:"1:490973136832:web:1811051408fdde8fbcea25",measurementId:"G-D3YR1YJXPN"},sD=Vb().length?Vb()[0]:K_(n$),Si=c2(sD),Ym=e$(sD);typeof window<"u"&&M5(Si).catch(t=>{console.debug("IndexedDB persistence not enabled:",t?.code??t?.message??t)});function iD(t,e,n){const r=Ox(t,e);return n?r.withConverter(n):r}async function r$(t,e,n){const r=Ju(Si,t,e),i=n?r.withConverter(n):r,o=await Y5(i);return o.exists()?o.data():null}async function aD(t,e,n){const r=iD(Si,t,n);return(await J5(r,e)).id}async function s$(t,e,n,r){const i=Ju(Si,t,e),o=r?i.withConverter(r):i;await E2(o,n)}async function i$(t,e,n,r){const i=Ju(Si,t,e),o=r?i.withConverter(r):i;await E2(o,n,{merge:!0})}async function a$(t,e){const n=Ju(Si,t,e);await X5(n)}async function o$(t,e){const{pageSize:n=20,cursor:r=null,additionalConstraints:i=[],converter:o}=e??{},l=iD(Si,t,o),c=[H5(n),...i];r&&c.push(G5(r));const h=q5(l,...c);console.log("getCollectionPaginated running query:",h);const f=await W5(h);console.log("getCollectionPaginated received snapshot with",f.docs.length,"docs");const g=f.docs.map(_=>_.data()),b=f.docs[f.docs.length-1]??null;return{docs:g,nextCursor:b?b.id:null}}function le(t,e,n){function r(c,h){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:h,constr:l,traits:new Set},enumerable:!1}),c._zod.traits.has(t))return;c._zod.traits.add(t),e(c,h);const f=l.prototype,g=Object.keys(f);for(let b=0;b<g.length;b++){const _=g[b];_ in c||(c[_]=f[_].bind(c))}}const i=n?.Parent??Object;class o extends i{}Object.defineProperty(o,"name",{value:t});function l(c){var h;const f=n?.Parent?new o:this;r(f,c),(h=f._zod).deferred??(h.deferred=[]);for(const g of f._zod.deferred)g();return f}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:c=>n?.Parent&&c instanceof n.Parent?!0:c?._zod?.traits?.has(t)}),Object.defineProperty(l,"name",{value:t}),l}class xu extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class oD extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const lD={};function el(t){return lD}function uD(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function d_(t,e){return typeof e=="bigint"?e.toString():e}function r0(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function s0(t){return t==null}function i0(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function l$(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const h=r.match(/\d?e-(\d?)/);h?.[1]&&(i=Number.parseInt(h[1]))}const o=n>i?n:i,l=Number.parseInt(t.toFixed(o).replace(".","")),c=Number.parseInt(e.toFixed(o).replace(".",""));return l%c/10**o}const TA=Symbol("evaluating");function mt(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==TA)return r===void 0&&(r=TA,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function cl(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ka(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function SA(t){return JSON.stringify(t)}function u$(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const cD="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Dp(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const c$=r0(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function ih(t){if(Dp(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(Dp(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function dD(t){return ih(t)?{...t}:Array.isArray(t)?[...t]:t}const d$=new Set(["string","number","symbol"]);function Eg(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Pa(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function De(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function h$(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const f$={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function m$(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=ka(t._zod.def,{get shape(){const l={};for(const c in e){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);e[c]&&(l[c]=n.shape[c])}return cl(this,"shape",l),l},checks:[]});return Pa(t,o)}function p$(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=ka(t._zod.def,{get shape(){const l={...t._zod.def.shape};for(const c in e){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);e[c]&&delete l[c]}return cl(this,"shape",l),l},checks:[]});return Pa(t,o)}function g$(t,e){if(!ih(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const o=t._zod.def.shape;for(const l in e)if(Object.getOwnPropertyDescriptor(o,l)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=ka(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return cl(this,"shape",o),o}});return Pa(t,i)}function y$(t,e){if(!ih(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=ka(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return cl(this,"shape",r),r}});return Pa(t,n)}function v$(t,e){const n=ka(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return cl(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Pa(t,n)}function b$(t,e,n){const i=e._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const l=ka(e._zod.def,{get shape(){const c=e._zod.def.shape,h={...c};if(n)for(const f in n){if(!(f in c))throw new Error(`Unrecognized key: "${f}"`);n[f]&&(h[f]=t?new t({type:"optional",innerType:c[f]}):c[f])}else for(const f in c)h[f]=t?new t({type:"optional",innerType:c[f]}):c[f];return cl(this,"shape",h),h},checks:[]});return Pa(e,l)}function _$(t,e,n){const r=ka(e._zod.def,{get shape(){const i=e._zod.def.shape,o={...i};if(n)for(const l in n){if(!(l in o))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(o[l]=new t({type:"nonoptional",innerType:i[l]}))}else for(const l in i)o[l]=new t({type:"nonoptional",innerType:i[l]});return cl(this,"shape",o),o}});return Pa(e,r)}function mu(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function hD(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function Em(t){return typeof t=="string"?t:t?.message}function tl(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const i=Em(t.inst?._zod.def?.error?.(t))??Em(e?.error?.(t))??Em(n.customError?.(t))??Em(n.localeError?.(t))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function a0(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function ah(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const fD=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,d_,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},mD=le("$ZodError",fD),pD=le("$ZodError",fD,{Parent:Error});function x$(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function w$(t,e=n=>n.message){const n={_errors:[]},r=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(l=>r({issues:l}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(e(o));else{let l=n,c=0;for(;c<o.path.length;){const h=o.path[c];c===o.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(e(o))):l[h]=l[h]||{_errors:[]},l=l[h],c++}}};return r(t),n}const o0=t=>(e,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:n,issues:[]},o);if(l instanceof Promise)throw new xu;if(l.issues.length){const c=new(i?.Err??t)(l.issues.map(h=>tl(h,o,el())));throw cD(c,i?.callee),c}return l.value},l0=t=>async(e,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},o);if(l instanceof Promise&&(l=await l),l.issues.length){const c=new(i?.Err??t)(l.issues.map(h=>tl(h,o,el())));throw cD(c,i?.callee),c}return l.value},Tg=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new xu;return o.issues.length?{success:!1,error:new(t??mD)(o.issues.map(l=>tl(l,i,el())))}:{success:!0,data:o.value}},E$=Tg(pD),Sg=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(l=>tl(l,i,el())))}:{success:!0,data:o.value}},T$=Sg(pD),S$=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return o0(t)(e,n,i)},A$=t=>(e,n,r)=>o0(t)(e,n,r),I$=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return l0(t)(e,n,i)},R$=t=>async(e,n,r)=>l0(t)(e,n,r),C$=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Tg(t)(e,n,i)},N$=t=>(e,n,r)=>Tg(t)(e,n,r),D$=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Sg(t)(e,n,i)},O$=t=>async(e,n,r)=>Sg(t)(e,n,r),k$=/^[cC][^\s-]{8,}$/,P$=/^[0-9a-z]+$/,M$=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,j$=/^[0-9a-vA-V]{20}$/,V$=/^[A-Za-z0-9]{27}$/,L$=/^[a-zA-Z0-9_-]{21}$/,z$=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,U$=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,AA=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,$$=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,F$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function B$(){return new RegExp(F$,"u")}const q$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,H$=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,G$=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,K$=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Q$=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,gD=/^[A-Za-z0-9_-]*$/,Z$=/^\+[1-9]\d{6,14}$/,yD="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Y$=new RegExp(`^${yD}$`);function vD(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function W$(t){return new RegExp(`^${vD(t)}$`)}function X$(t){const e=vD({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${yD}T(?:${r})$`)}const J$=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},eF=/^-?\d+$/,tF=/^-?\d+(?:\.\d+)?$/,nF=/^[^A-Z]*$/,rF=/^[^a-z]*$/,Xn=le("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),bD={number:"number",bigint:"bigint",object:"date"},_D=le("$ZodCheckLessThan",(t,e)=>{Xn.init(t,e);const n=bD[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,o=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),xD=le("$ZodCheckGreaterThan",(t,e)=>{Xn.init(t,e);const n=bD[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,o=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),sF=le("$ZodCheckMultipleOf",(t,e)=>{Xn.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):l$(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),iF=le("$ZodCheckNumberFormat",(t,e)=>{Xn.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[i,o]=f$[e.format];t._zod.onattach.push(l=>{const c=l._zod.bag;c.format=e.format,c.minimum=i,c.maximum=o,n&&(c.pattern=eF)}),t._zod.check=l=>{const c=l.value;if(n){if(!Number.isInteger(c)){l.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:c,inst:t});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}c<i&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),c>o&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:o,inclusive:!0,inst:t,continue:!e.abort})}}),aF=le("$ZodCheckMaxLength",(t,e)=>{var n;Xn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!s0(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const l=a0(i);r.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),oF=le("$ZodCheckMinLength",(t,e)=>{var n;Xn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!s0(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const l=a0(i);r.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),lF=le("$ZodCheckLengthEquals",(t,e)=>{var n;Xn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!s0(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,o=i.length;if(o===e.length)return;const l=a0(i),c=o>e.length;r.issues.push({origin:l,...c?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Ag=le("$ZodCheckStringFormat",(t,e)=>{var n,r;Xn.init(t,e),t._zod.onattach.push(i=>{const o=i._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),uF=le("$ZodCheckRegex",(t,e)=>{Ag.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),cF=le("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=nF),Ag.init(t,e)}),dF=le("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=rF),Ag.init(t,e)}),hF=le("$ZodCheckIncludes",(t,e)=>{Xn.init(t,e);const n=Eg(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),fF=le("$ZodCheckStartsWith",(t,e)=>{Xn.init(t,e);const n=new RegExp(`^${Eg(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),mF=le("$ZodCheckEndsWith",(t,e)=>{Xn.init(t,e);const n=new RegExp(`.*${Eg(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),pF=le("$ZodCheckOverwrite",(t,e)=>{Xn.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class gF{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(l=>l),i=Math.min(...r.map(l=>l.length-l.trimStart().length)),o=r.map(l=>l.slice(i)).map(l=>" ".repeat(this.indent*2)+l);for(const l of o)this.content.push(l)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...n,i.join(`
`))}}const yF={major:4,minor:3,patch:5},jt=le("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=yF;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const o of i._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(l,c,h)=>{let f=mu(l),g;for(const b of c){if(b._zod.def.when){if(!b._zod.def.when(l))continue}else if(f)continue;const _=l.issues.length,w=b._zod.check(l);if(w instanceof Promise&&h?.async===!1)throw new xu;if(g||w instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await w,l.issues.length!==_&&(f||(f=mu(l,_)))});else{if(l.issues.length===_)continue;f||(f=mu(l,_))}}return g?g.then(()=>l):l},o=(l,c,h)=>{if(mu(l))return l.aborted=!0,l;const f=i(c,r,h);if(f instanceof Promise){if(h.async===!1)throw new xu;return f.then(g=>t._zod.parse(g,h))}return t._zod.parse(f,h)};t._zod.run=(l,c)=>{if(c.skipChecks)return t._zod.parse(l,c);if(c.direction==="backward"){const f=t._zod.parse({value:l.value,issues:[]},{...c,skipChecks:!0});return f instanceof Promise?f.then(g=>o(g,l,c)):o(f,l,c)}const h=t._zod.parse(l,c);if(h instanceof Promise){if(c.async===!1)throw new xu;return h.then(f=>i(f,r,c))}return i(h,r,c)}}mt(t,"~standard",()=>({validate:i=>{try{const o=E$(t,i);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return T$(t,i).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}))}),u0=le("$ZodString",(t,e)=>{jt.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??J$(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Rt=le("$ZodStringFormat",(t,e)=>{Ag.init(t,e),u0.init(t,e)}),vF=le("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=U$),Rt.init(t,e)}),bF=le("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=AA(r))}else e.pattern??(e.pattern=AA());Rt.init(t,e)}),_F=le("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=$$),Rt.init(t,e)}),xF=le("$ZodURL",(t,e)=>{Rt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),wF=le("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=B$()),Rt.init(t,e)}),EF=le("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=L$),Rt.init(t,e)}),TF=le("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=k$),Rt.init(t,e)}),SF=le("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=P$),Rt.init(t,e)}),AF=le("$ZodULID",(t,e)=>{e.pattern??(e.pattern=M$),Rt.init(t,e)}),IF=le("$ZodXID",(t,e)=>{e.pattern??(e.pattern=j$),Rt.init(t,e)}),RF=le("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=V$),Rt.init(t,e)}),CF=le("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=X$(e)),Rt.init(t,e)}),NF=le("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=Y$),Rt.init(t,e)}),DF=le("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=W$(e)),Rt.init(t,e)}),OF=le("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=z$),Rt.init(t,e)}),kF=le("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=q$),Rt.init(t,e),t._zod.bag.format="ipv4"}),PF=le("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=H$),Rt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),MF=le("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=G$),Rt.init(t,e)}),jF=le("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=K$),Rt.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,o]=r;if(!o)throw new Error;const l=Number(o);if(`${l}`!==o)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function wD(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const VF=le("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=Q$),Rt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{wD(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function LF(t){if(!gD.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return wD(n)}const zF=le("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=gD),Rt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{LF(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),UF=le("$ZodE164",(t,e)=>{e.pattern??(e.pattern=Z$),Rt.init(t,e)});function $F(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const FF=le("$ZodJWT",(t,e)=>{Rt.init(t,e),t._zod.check=n=>{$F(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),ED=le("$ZodNumber",(t,e)=>{jt.init(t,e),t._zod.pattern=t._zod.bag.pattern??tF,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...o?{received:o}:{}}),n}}),BF=le("$ZodNumberFormat",(t,e)=>{iF.init(t,e),ED.init(t,e)}),qF=le("$ZodAny",(t,e)=>{jt.init(t,e),t._zod.parse=n=>n}),HF=le("$ZodUnknown",(t,e)=>{jt.init(t,e),t._zod.parse=n=>n}),GF=le("$ZodNever",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),KF=le("$ZodDate",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const i=n.value,o=i instanceof Date;return o&&!Number.isNaN(i.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:i,...o?{received:"Invalid Date"}:{},inst:t}),n}});function IA(t,e,n){t.issues.length&&e.issues.push(...hD(n,t.issues)),e.value[n]=t.value}const QF=le("$ZodArray",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const o=[];for(let l=0;l<i.length;l++){const c=i[l],h=e.element._zod.run({value:c,issues:[]},r);h instanceof Promise?o.push(h.then(f=>IA(f,n,l))):IA(h,n,l)}return o.length?Promise.all(o).then(()=>n):n}});function Op(t,e,n,r,i){if(t.issues.length){if(i&&!(n in r))return;e.issues.push(...hD(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function TD(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=h$(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function SD(t,e,n,r,i,o){const l=[],c=i.keySet,h=i.catchall._zod,f=h.def.type,g=h.optout==="optional";for(const b in e){if(c.has(b))continue;if(f==="never"){l.push(b);continue}const _=h.run({value:e[b],issues:[]},r);_ instanceof Promise?t.push(_.then(w=>Op(w,n,b,e,g))):Op(_,n,b,e,g)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:o}),t.length?Promise.all(t).then(()=>n):n}const ZF=le("$ZodObject",(t,e)=>{if(jt.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const c=e.shape;Object.defineProperty(e,"shape",{get:()=>{const h={...c};return Object.defineProperty(e,"shape",{value:h}),h}})}const r=r0(()=>TD(e));mt(t._zod,"propValues",()=>{const c=e.shape,h={};for(const f in c){const g=c[f]._zod;if(g.values){h[f]??(h[f]=new Set);for(const b of g.values)h[f].add(b)}}return h});const i=Dp,o=e.catchall;let l;t._zod.parse=(c,h)=>{l??(l=r.value);const f=c.value;if(!i(f))return c.issues.push({expected:"object",code:"invalid_type",input:f,inst:t}),c;c.value={};const g=[],b=l.shape;for(const _ of l.keys){const w=b[_],A=w._zod.optout==="optional",R=w._zod.run({value:f[_],issues:[]},h);R instanceof Promise?g.push(R.then(D=>Op(D,c,_,f,A))):Op(R,c,_,f,A)}return o?SD(g,f,c,h,r.value,t):g.length?Promise.all(g).then(()=>c):c}}),YF=le("$ZodObjectJIT",(t,e)=>{ZF.init(t,e);const n=t._zod.parse,r=r0(()=>TD(e)),i=_=>{const w=new gF(["shape","payload","ctx"]),A=r.value,R=z=>{const Q=SA(z);return`shape[${Q}]._zod.run({ value: input[${Q}], issues: [] }, ctx)`};w.write("const input = payload.value;");const D=Object.create(null);let V=0;for(const z of A.keys)D[z]=`key_${V++}`;w.write("const newResult = {};");for(const z of A.keys){const Q=D[z],W=SA(z),C=_[z]?._zod?.optout==="optional";w.write(`const ${Q} = ${R(z)};`),C?w.write(`
        if (${Q}.issues.length) {
          if (${W} in input) {
            payload.issues = payload.issues.concat(${Q}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${W}, ...iss.path] : [${W}]
            })));
          }
        }
        
        if (${Q}.value === undefined) {
          if (${W} in input) {
            newResult[${W}] = undefined;
          }
        } else {
          newResult[${W}] = ${Q}.value;
        }
        
      `):w.write(`
        if (${Q}.issues.length) {
          payload.issues = payload.issues.concat(${Q}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${W}, ...iss.path] : [${W}]
          })));
        }
        
        if (${Q}.value === undefined) {
          if (${W} in input) {
            newResult[${W}] = undefined;
          }
        } else {
          newResult[${W}] = ${Q}.value;
        }
        
      `)}w.write("payload.value = newResult;"),w.write("return payload;");const $=w.compile();return(z,Q)=>$(_,z,Q)};let o;const l=Dp,c=!lD.jitless,f=c&&c$.value,g=e.catchall;let b;t._zod.parse=(_,w)=>{b??(b=r.value);const A=_.value;return l(A)?c&&f&&w?.async===!1&&w.jitless!==!0?(o||(o=i(e.shape)),_=o(_,w),g?SD([],A,_,w,b,t):_):n(_,w):(_.issues.push({expected:"object",code:"invalid_type",input:A,inst:t}),_)}});function RA(t,e,n,r){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const i=t.filter(o=>!mu(o));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(o=>o.issues.map(l=>tl(l,r,el())))}),e)}const WF=le("$ZodUnion",(t,e)=>{jt.init(t,e),mt(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),mt(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),mt(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),mt(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${i.map(o=>i0(o.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,o)=>{if(n)return r(i,o);let l=!1;const c=[];for(const h of e.options){const f=h._zod.run({value:i.value,issues:[]},o);if(f instanceof Promise)c.push(f),l=!0;else{if(f.issues.length===0)return f;c.push(f)}}return l?Promise.all(c).then(h=>RA(h,i,t,o)):RA(c,i,t,o)}}),XF=le("$ZodIntersection",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,o=e.left._zod.run({value:i,issues:[]},r),l=e.right._zod.run({value:i,issues:[]},r);return o instanceof Promise||l instanceof Promise?Promise.all([o,l]).then(([h,f])=>CA(n,h,f)):CA(n,o,l)}});function h_(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(ih(t)&&ih(e)){const n=Object.keys(e),r=Object.keys(t).filter(o=>n.indexOf(o)!==-1),i={...t,...e};for(const o of r){const l=h_(t[o],e[o]);if(!l.valid)return{valid:!1,mergeErrorPath:[o,...l.mergeErrorPath]};i[o]=l.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],o=e[r],l=h_(i,o);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function CA(t,e,n){const r=new Map;let i;for(const c of e.issues)if(c.code==="unrecognized_keys"){i??(i=c);for(const h of c.keys)r.has(h)||r.set(h,{}),r.get(h).l=!0}else t.issues.push(c);for(const c of n.issues)if(c.code==="unrecognized_keys")for(const h of c.keys)r.has(h)||r.set(h,{}),r.get(h).r=!0;else t.issues.push(c);const o=[...r].filter(([,c])=>c.l&&c.r).map(([c])=>c);if(o.length&&i&&t.issues.push({...i,keys:o}),mu(t))return t;const l=h_(e.value,n.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return t.value=l.data,t}const JF=le("$ZodEnum",(t,e)=>{jt.init(t,e);const n=uD(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>d$.has(typeof i)).map(i=>typeof i=="string"?Eg(i):i.toString()).join("|")})$`),t._zod.parse=(i,o)=>{const l=i.value;return r.has(l)||i.issues.push({code:"invalid_value",values:n,input:l,inst:t}),i}}),e8=le("$ZodTransform",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new oD(t.constructor.name);const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(l=>(n.value=l,n));if(i instanceof Promise)throw new xu;return n.value=i,n}});function NA(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const AD=le("$ZodOptional",(t,e)=>{jt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",mt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),mt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${i0(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>NA(o,n.value)):NA(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),t8=le("$ZodExactOptional",(t,e)=>{AD.init(t,e),mt(t._zod,"values",()=>e.innerType._zod.values),mt(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),n8=le("$ZodNullable",(t,e)=>{jt.init(t,e),mt(t._zod,"optin",()=>e.innerType._zod.optin),mt(t._zod,"optout",()=>e.innerType._zod.optout),mt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${i0(n.source)}|null)$`):void 0}),mt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),r8=le("$ZodDefault",(t,e)=>{jt.init(t,e),t._zod.optin="optional",mt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>DA(o,e)):DA(i,e)}});function DA(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const s8=le("$ZodPrefault",(t,e)=>{jt.init(t,e),t._zod.optin="optional",mt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),i8=le("$ZodNonOptional",(t,e)=>{jt.init(t,e),mt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>OA(o,t)):OA(i,t)}});function OA(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const a8=le("$ZodCatch",(t,e)=>{jt.init(t,e),mt(t._zod,"optin",()=>e.innerType._zod.optin),mt(t._zod,"optout",()=>e.innerType._zod.optout),mt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(l=>tl(l,r,el()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(o=>tl(o,r,el()))},input:n.value}),n.issues=[]),n)}}),o8=le("$ZodPipe",(t,e)=>{jt.init(t,e),mt(t._zod,"values",()=>e.in._zod.values),mt(t._zod,"optin",()=>e.in._zod.optin),mt(t._zod,"optout",()=>e.out._zod.optout),mt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=e.out._zod.run(n,r);return o instanceof Promise?o.then(l=>Tm(l,e.in,r)):Tm(o,e.in,r)}const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(o=>Tm(o,e.out,r)):Tm(i,e.out,r)}});function Tm(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const l8=le("$ZodReadonly",(t,e)=>{jt.init(t,e),mt(t._zod,"propValues",()=>e.innerType._zod.propValues),mt(t._zod,"values",()=>e.innerType._zod.values),mt(t._zod,"optin",()=>e.innerType?._zod?.optin),mt(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(kA):kA(i)}});function kA(t){return t.value=Object.freeze(t.value),t}const u8=le("$ZodCustom",(t,e)=>{Xn.init(t,e),jt.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(o=>PA(o,n,r,t));PA(i,n,r,t)}});function PA(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(ah(i))}}var MA;class c8{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function d8(){return new c8}(MA=globalThis).__zod_globalRegistry??(MA.__zod_globalRegistry=d8());const Id=globalThis.__zod_globalRegistry;function h8(t,e){return new t({type:"string",...De(e)})}function f8(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...De(e)})}function jA(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...De(e)})}function m8(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...De(e)})}function p8(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...De(e)})}function g8(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...De(e)})}function y8(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...De(e)})}function v8(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...De(e)})}function b8(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...De(e)})}function _8(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...De(e)})}function x8(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...De(e)})}function w8(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...De(e)})}function E8(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...De(e)})}function T8(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...De(e)})}function S8(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...De(e)})}function A8(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...De(e)})}function I8(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...De(e)})}function R8(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...De(e)})}function C8(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...De(e)})}function N8(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...De(e)})}function D8(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...De(e)})}function O8(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...De(e)})}function k8(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...De(e)})}function P8(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...De(e)})}function M8(t,e){return new t({type:"string",format:"date",check:"string_format",...De(e)})}function j8(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...De(e)})}function V8(t,e){return new t({type:"string",format:"duration",check:"string_format",...De(e)})}function L8(t,e){return new t({type:"number",checks:[],...De(e)})}function z8(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...De(e)})}function U8(t){return new t({type:"any"})}function $8(t){return new t({type:"unknown"})}function F8(t,e){return new t({type:"never",...De(e)})}function B8(t,e){return new t({type:"date",...De(e)})}function VA(t,e){return new _D({check:"less_than",...De(e),value:t,inclusive:!1})}function Wm(t,e){return new _D({check:"less_than",...De(e),value:t,inclusive:!0})}function LA(t,e){return new xD({check:"greater_than",...De(e),value:t,inclusive:!1})}function Xm(t,e){return new xD({check:"greater_than",...De(e),value:t,inclusive:!0})}function zA(t,e){return new sF({check:"multiple_of",...De(e),value:t})}function ID(t,e){return new aF({check:"max_length",...De(e),maximum:t})}function kp(t,e){return new oF({check:"min_length",...De(e),minimum:t})}function RD(t,e){return new lF({check:"length_equals",...De(e),length:t})}function q8(t,e){return new uF({check:"string_format",format:"regex",...De(e),pattern:t})}function H8(t){return new cF({check:"string_format",format:"lowercase",...De(t)})}function G8(t){return new dF({check:"string_format",format:"uppercase",...De(t)})}function K8(t,e){return new hF({check:"string_format",format:"includes",...De(e),includes:t})}function Q8(t,e){return new fF({check:"string_format",format:"starts_with",...De(e),prefix:t})}function Z8(t,e){return new mF({check:"string_format",format:"ends_with",...De(e),suffix:t})}function tc(t){return new pF({check:"overwrite",tx:t})}function Y8(t){return tc(e=>e.normalize(t))}function W8(){return tc(t=>t.trim())}function X8(){return tc(t=>t.toLowerCase())}function J8(){return tc(t=>t.toUpperCase())}function eB(){return tc(t=>u$(t))}function tB(t,e,n){return new t({type:"array",element:e,...De(n)})}function nB(t,e,n){return new t({type:"custom",check:"custom",fn:e,...De(n)})}function rB(t){const e=sB(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(ah(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(ah(i))}},t(n.value,n)));return e}function sB(t,e){const n=new Xn({check:"custom",...De(e)});return n._zod.check=t,n}function CD(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Id,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function En(t,e,n={path:[],schemaPath:[]}){var r;const i=t._zod.def,o=e.seen.get(t);if(o)return o.count++,n.schemaPath.includes(t)&&(o.cycle=n.path),o.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,l);const c=t._zod.toJSONSchema?.();if(c)l.schema=c;else{const g={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,l.schema,g);else{const _=l.schema,w=e.processors[i.type];if(!w)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);w(t,e,_,g)}const b=t._zod.parent;b&&(l.ref||(l.ref=b),En(b,e,g),e.seen.get(b).isParent=!0)}const h=e.metadataRegistry.get(t);return h&&Object.assign(l.schema,h),e.io==="input"&&kn(t)&&(delete l.schema.examples,delete l.schema.default),e.io==="input"&&l.schema._prefault&&((r=l.schema).default??(r.default=l.schema._prefault)),delete l.schema._prefault,e.seen.get(t).schema}function ND(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const l of t.seen.entries()){const c=t.metadataRegistry.get(l[0])?.id;if(c){const h=r.get(c);if(h&&h!==l[0])throw new Error(`Duplicate schema id "${c}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(c,l[0])}}const i=l=>{const c=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const b=t.external.registry.get(l[0])?.id,_=t.external.uri??(A=>A);if(b)return{ref:_(b)};const w=l[1].defId??l[1].schema.id??`schema${t.counter++}`;return l[1].defId=w,{defId:w,ref:`${_("__shared")}#/${c}/${w}`}}if(l[1]===n)return{ref:"#"};const f=`#/${c}/`,g=l[1].schema.id??`__schema${t.counter++}`;return{defId:g,ref:f+g}},o=l=>{if(l[1].schema.$ref)return;const c=l[1],{ref:h,defId:f}=i(l);c.def={...c.schema},f&&(c.defId=f);const g=c.schema;for(const b in g)delete g[b];g.$ref=h};if(t.cycles==="throw")for(const l of t.seen.entries()){const c=l[1];if(c.cycle)throw new Error(`Cycle detected: #/${c.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const l of t.seen.entries()){const c=l[1];if(e===l[0]){o(l);continue}if(t.external){const f=t.external.registry.get(l[0])?.id;if(e!==l[0]&&f){o(l);continue}}if(t.metadataRegistry.get(l[0])?.id){o(l);continue}if(c.cycle){o(l);continue}if(c.count>1&&t.reused==="ref"){o(l);continue}}}function DD(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=l=>{const c=t.seen.get(l);if(c.ref===null)return;const h=c.def??c.schema,f={...h},g=c.ref;if(c.ref=null,g){r(g);const _=t.seen.get(g),w=_.schema;if(w.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(h.allOf=h.allOf??[],h.allOf.push(w)):Object.assign(h,w),Object.assign(h,f),l._zod.parent===g)for(const R in h)R==="$ref"||R==="allOf"||R in f||delete h[R];if(w.$ref)for(const R in h)R==="$ref"||R==="allOf"||R in _.def&&JSON.stringify(h[R])===JSON.stringify(_.def[R])&&delete h[R]}const b=l._zod.parent;if(b&&b!==g){r(b);const _=t.seen.get(b);if(_?.schema.$ref&&(h.$ref=_.schema.$ref,_.def))for(const w in h)w==="$ref"||w==="allOf"||w in _.def&&JSON.stringify(h[w])===JSON.stringify(_.def[w])&&delete h[w]}t.override({zodSchema:l,jsonSchema:h,path:c.path??[]})};for(const l of[...t.seen.entries()].reverse())r(l[0]);const i={};if(t.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const l=t.external.registry.get(e)?.id;if(!l)throw new Error("Schema is missing an `id` property");i.$id=t.external.uri(l)}Object.assign(i,n.def??n.schema);const o=t.external?.defs??{};for(const l of t.seen.entries()){const c=l[1];c.def&&c.defId&&(o[c.defId]=c.def)}t.external||Object.keys(o).length>0&&(t.target==="draft-2020-12"?i.$defs=o:i.definitions=o);try{const l=JSON.parse(JSON.stringify(i));return Object.defineProperty(l,"~standard",{value:{...e["~standard"],jsonSchema:{input:Pp(e,"input",t.processors),output:Pp(e,"output",t.processors)}},enumerable:!1,writable:!1}),l}catch{throw new Error("Error converting schema to JSON.")}}function kn(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return kn(r.element,n);if(r.type==="set")return kn(r.valueType,n);if(r.type==="lazy")return kn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return kn(r.innerType,n);if(r.type==="intersection")return kn(r.left,n)||kn(r.right,n);if(r.type==="record"||r.type==="map")return kn(r.keyType,n)||kn(r.valueType,n);if(r.type==="pipe")return kn(r.in,n)||kn(r.out,n);if(r.type==="object"){for(const i in r.shape)if(kn(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(kn(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(kn(i,n))return!0;return!!(r.rest&&kn(r.rest,n))}return!1}const iB=(t,e={})=>n=>{const r=CD({...n,processors:e});return En(t,r),ND(r,t),DD(r,t)},Pp=(t,e,n={})=>r=>{const{libraryOptions:i,target:o}=r??{},l=CD({...i??{},target:o,io:e,processors:n});return En(t,l),ND(l,t),DD(l,t)},aB={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},oB=(t,e,n,r)=>{const i=n;i.type="string";const{minimum:o,maximum:l,format:c,patterns:h,contentEncoding:f}=t._zod.bag;if(typeof o=="number"&&(i.minLength=o),typeof l=="number"&&(i.maxLength=l),c&&(i.format=aB[c]??c,i.format===""&&delete i.format,c==="time"&&delete i.format),f&&(i.contentEncoding=f),h&&h.size>0){const g=[...h];g.length===1?i.pattern=g[0].source:g.length>1&&(i.allOf=[...g.map(b=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:b.source}))])}},lB=(t,e,n,r)=>{const i=n,{minimum:o,maximum:l,format:c,multipleOf:h,exclusiveMaximum:f,exclusiveMinimum:g}=t._zod.bag;typeof c=="string"&&c.includes("int")?i.type="integer":i.type="number",typeof g=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.minimum=g,i.exclusiveMinimum=!0):i.exclusiveMinimum=g),typeof o=="number"&&(i.minimum=o,typeof g=="number"&&e.target!=="draft-04"&&(g>=o?delete i.minimum:delete i.exclusiveMinimum)),typeof f=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.maximum=f,i.exclusiveMaximum=!0):i.exclusiveMaximum=f),typeof l=="number"&&(i.maximum=l,typeof f=="number"&&e.target!=="draft-04"&&(f<=l?delete i.maximum:delete i.exclusiveMaximum)),typeof h=="number"&&(i.multipleOf=h)},uB=(t,e,n,r)=>{n.not={}},cB=(t,e,n,r)=>{},dB=(t,e,n,r)=>{},hB=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},fB=(t,e,n,r)=>{const i=t._zod.def,o=uD(i.entries);o.every(l=>typeof l=="number")&&(n.type="number"),o.every(l=>typeof l=="string")&&(n.type="string"),n.enum=o},mB=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},pB=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},gB=(t,e,n,r)=>{const i=n,o=t._zod.def,{minimum:l,maximum:c}=t._zod.bag;typeof l=="number"&&(i.minItems=l),typeof c=="number"&&(i.maxItems=c),i.type="array",i.items=En(o.element,e,{...r,path:[...r.path,"items"]})},yB=(t,e,n,r)=>{const i=n,o=t._zod.def;i.type="object",i.properties={};const l=o.shape;for(const f in l)i.properties[f]=En(l[f],e,{...r,path:[...r.path,"properties",f]});const c=new Set(Object.keys(l)),h=new Set([...c].filter(f=>{const g=o.shape[f]._zod;return e.io==="input"?g.optin===void 0:g.optout===void 0}));h.size>0&&(i.required=Array.from(h)),o.catchall?._zod.def.type==="never"?i.additionalProperties=!1:o.catchall?o.catchall&&(i.additionalProperties=En(o.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(i.additionalProperties=!1)},vB=(t,e,n,r)=>{const i=t._zod.def,o=i.inclusive===!1,l=i.options.map((c,h)=>En(c,e,{...r,path:[...r.path,o?"oneOf":"anyOf",h]}));o?n.oneOf=l:n.anyOf=l},bB=(t,e,n,r)=>{const i=t._zod.def,o=En(i.left,e,{...r,path:[...r.path,"allOf",0]}),l=En(i.right,e,{...r,path:[...r.path,"allOf",1]}),c=f=>"allOf"in f&&Object.keys(f).length===1,h=[...c(o)?o.allOf:[o],...c(l)?l.allOf:[l]];n.allOf=h},_B=(t,e,n,r)=>{const i=t._zod.def,o=En(i.innerType,e,r),l=e.seen.get(t);e.target==="openapi-3.0"?(l.ref=i.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},xB=(t,e,n,r)=>{const i=t._zod.def;En(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType},wB=(t,e,n,r)=>{const i=t._zod.def;En(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},EB=(t,e,n,r)=>{const i=t._zod.def;En(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},TB=(t,e,n,r)=>{const i=t._zod.def;En(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType;let l;try{l=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},SB=(t,e,n,r)=>{const i=t._zod.def,o=e.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;En(o,e,r);const l=e.seen.get(t);l.ref=o},AB=(t,e,n,r)=>{const i=t._zod.def;En(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType,n.readOnly=!0},OD=(t,e,n,r)=>{const i=t._zod.def;En(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType},IB=le("ZodISODateTime",(t,e)=>{CF.init(t,e),Dt.init(t,e)});function RB(t){return P8(IB,t)}const CB=le("ZodISODate",(t,e)=>{NF.init(t,e),Dt.init(t,e)});function NB(t){return M8(CB,t)}const DB=le("ZodISOTime",(t,e)=>{DF.init(t,e),Dt.init(t,e)});function OB(t){return j8(DB,t)}const kB=le("ZodISODuration",(t,e)=>{OF.init(t,e),Dt.init(t,e)});function PB(t){return V8(kB,t)}const MB=(t,e)=>{mD.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>w$(t,n)},flatten:{value:n=>x$(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,d_,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,d_,2)}},isEmpty:{get(){return t.issues.length===0}}})},jr=le("ZodError",MB,{Parent:Error}),jB=o0(jr),VB=l0(jr),LB=Tg(jr),zB=Sg(jr),UB=S$(jr),$B=A$(jr),FB=I$(jr),BB=R$(jr),qB=C$(jr),HB=N$(jr),GB=D$(jr),KB=O$(jr),Vt=le("ZodType",(t,e)=>(jt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:Pp(t,"input"),output:Pp(t,"output")}}),t.toJSONSchema=iB(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(ka(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>Pa(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>jB(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>LB(t,n,r),t.parseAsync=async(n,r)=>VB(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>zB(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>UB(t,n,r),t.decode=(n,r)=>$B(t,n,r),t.encodeAsync=async(n,r)=>FB(t,n,r),t.decodeAsync=async(n,r)=>BB(t,n,r),t.safeEncode=(n,r)=>qB(t,n,r),t.safeDecode=(n,r)=>HB(t,n,r),t.safeEncodeAsync=async(n,r)=>GB(t,n,r),t.safeDecodeAsync=async(n,r)=>KB(t,n,r),t.refine=(n,r)=>t.check($7(n,r)),t.superRefine=n=>t.check(F7(n)),t.overwrite=n=>t.check(tc(n)),t.optional=()=>qA(t),t.exactOptional=()=>R7(t),t.nullable=()=>HA(t),t.nullish=()=>qA(HA(t)),t.nonoptional=n=>P7(t,n),t.array=()=>nl(t),t.or=n=>w7([t,n]),t.and=n=>T7(t,n),t.transform=n=>GA(t,A7(n)),t.default=n=>D7(t,n),t.prefault=n=>k7(t,n),t.catch=n=>j7(t,n),t.pipe=n=>GA(t,n),t.readonly=()=>z7(t),t.describe=n=>{const r=t.clone();return Id.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return Id.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Id.get(t);const r=t.clone();return Id.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),kD=le("_ZodString",(t,e)=>{u0.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(r,i,o)=>oB(t,r,i);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(q8(...r)),t.includes=(...r)=>t.check(K8(...r)),t.startsWith=(...r)=>t.check(Q8(...r)),t.endsWith=(...r)=>t.check(Z8(...r)),t.min=(...r)=>t.check(kp(...r)),t.max=(...r)=>t.check(ID(...r)),t.length=(...r)=>t.check(RD(...r)),t.nonempty=(...r)=>t.check(kp(1,...r)),t.lowercase=r=>t.check(H8(r)),t.uppercase=r=>t.check(G8(r)),t.trim=()=>t.check(W8()),t.normalize=(...r)=>t.check(Y8(...r)),t.toLowerCase=()=>t.check(X8()),t.toUpperCase=()=>t.check(J8()),t.slugify=()=>t.check(eB())}),QB=le("ZodString",(t,e)=>{u0.init(t,e),kD.init(t,e),t.email=n=>t.check(f8(ZB,n)),t.url=n=>t.check(v8(YB,n)),t.jwt=n=>t.check(k8(d7,n)),t.emoji=n=>t.check(b8(WB,n)),t.guid=n=>t.check(jA(UA,n)),t.uuid=n=>t.check(m8(Sm,n)),t.uuidv4=n=>t.check(p8(Sm,n)),t.uuidv6=n=>t.check(g8(Sm,n)),t.uuidv7=n=>t.check(y8(Sm,n)),t.nanoid=n=>t.check(_8(XB,n)),t.guid=n=>t.check(jA(UA,n)),t.cuid=n=>t.check(x8(JB,n)),t.cuid2=n=>t.check(w8(e7,n)),t.ulid=n=>t.check(E8(t7,n)),t.base64=n=>t.check(N8(l7,n)),t.base64url=n=>t.check(D8(u7,n)),t.xid=n=>t.check(T8(n7,n)),t.ksuid=n=>t.check(S8(r7,n)),t.ipv4=n=>t.check(A8(s7,n)),t.ipv6=n=>t.check(I8(i7,n)),t.cidrv4=n=>t.check(R8(a7,n)),t.cidrv6=n=>t.check(C8(o7,n)),t.e164=n=>t.check(O8(c7,n)),t.datetime=n=>t.check(RB(n)),t.date=n=>t.check(NB(n)),t.time=n=>t.check(OB(n)),t.duration=n=>t.check(PB(n))});function Cr(t){return h8(QB,t)}const Dt=le("ZodStringFormat",(t,e)=>{Rt.init(t,e),kD.init(t,e)}),ZB=le("ZodEmail",(t,e)=>{_F.init(t,e),Dt.init(t,e)}),UA=le("ZodGUID",(t,e)=>{vF.init(t,e),Dt.init(t,e)}),Sm=le("ZodUUID",(t,e)=>{bF.init(t,e),Dt.init(t,e)}),YB=le("ZodURL",(t,e)=>{xF.init(t,e),Dt.init(t,e)}),WB=le("ZodEmoji",(t,e)=>{wF.init(t,e),Dt.init(t,e)}),XB=le("ZodNanoID",(t,e)=>{EF.init(t,e),Dt.init(t,e)}),JB=le("ZodCUID",(t,e)=>{TF.init(t,e),Dt.init(t,e)}),e7=le("ZodCUID2",(t,e)=>{SF.init(t,e),Dt.init(t,e)}),t7=le("ZodULID",(t,e)=>{AF.init(t,e),Dt.init(t,e)}),n7=le("ZodXID",(t,e)=>{IF.init(t,e),Dt.init(t,e)}),r7=le("ZodKSUID",(t,e)=>{RF.init(t,e),Dt.init(t,e)}),s7=le("ZodIPv4",(t,e)=>{kF.init(t,e),Dt.init(t,e)}),i7=le("ZodIPv6",(t,e)=>{PF.init(t,e),Dt.init(t,e)}),a7=le("ZodCIDRv4",(t,e)=>{MF.init(t,e),Dt.init(t,e)}),o7=le("ZodCIDRv6",(t,e)=>{jF.init(t,e),Dt.init(t,e)}),l7=le("ZodBase64",(t,e)=>{VF.init(t,e),Dt.init(t,e)}),u7=le("ZodBase64URL",(t,e)=>{zF.init(t,e),Dt.init(t,e)}),c7=le("ZodE164",(t,e)=>{UF.init(t,e),Dt.init(t,e)}),d7=le("ZodJWT",(t,e)=>{FF.init(t,e),Dt.init(t,e)}),PD=le("ZodNumber",(t,e)=>{ED.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(r,i,o)=>lB(t,r,i),t.gt=(r,i)=>t.check(LA(r,i)),t.gte=(r,i)=>t.check(Xm(r,i)),t.min=(r,i)=>t.check(Xm(r,i)),t.lt=(r,i)=>t.check(VA(r,i)),t.lte=(r,i)=>t.check(Wm(r,i)),t.max=(r,i)=>t.check(Wm(r,i)),t.int=r=>t.check($A(r)),t.safe=r=>t.check($A(r)),t.positive=r=>t.check(LA(0,r)),t.nonnegative=r=>t.check(Xm(0,r)),t.negative=r=>t.check(VA(0,r)),t.nonpositive=r=>t.check(Wm(0,r)),t.multipleOf=(r,i)=>t.check(zA(r,i)),t.step=(r,i)=>t.check(zA(r,i)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function f_(t){return L8(PD,t)}const h7=le("ZodNumberFormat",(t,e)=>{BF.init(t,e),PD.init(t,e)});function $A(t){return z8(h7,t)}const f7=le("ZodAny",(t,e)=>{qF.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>cB()});function m7(){return U8(f7)}const p7=le("ZodUnknown",(t,e)=>{HF.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>dB()});function FA(){return $8(p7)}const g7=le("ZodNever",(t,e)=>{GF.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>uB(t,n,r)});function y7(t){return F8(g7,t)}const v7=le("ZodDate",(t,e)=>{KF.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(r,i,o)=>hB(t,r),t.min=(r,i)=>t.check(Xm(r,i)),t.max=(r,i)=>t.check(Wm(r,i));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function BA(t){return B8(v7,t)}const b7=le("ZodArray",(t,e)=>{QF.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>gB(t,n,r,i),t.element=e.element,t.min=(n,r)=>t.check(kp(n,r)),t.nonempty=n=>t.check(kp(1,n)),t.max=(n,r)=>t.check(ID(n,r)),t.length=(n,r)=>t.check(RD(n,r)),t.unwrap=()=>t.element});function nl(t,e){return tB(b7,t,e)}const _7=le("ZodObject",(t,e)=>{YF.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>yB(t,n,r,i),mt(t,"shape",()=>e.shape),t.keyof=()=>MD(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:FA()}),t.loose=()=>t.clone({...t._zod.def,catchall:FA()}),t.strict=()=>t.clone({...t._zod.def,catchall:y7()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>g$(t,n),t.safeExtend=n=>y$(t,n),t.merge=n=>v$(t,n),t.pick=n=>m$(t,n),t.omit=n=>p$(t,n),t.partial=(...n)=>b$(jD,t,n[0]),t.required=(...n)=>_$(VD,t,n[0])});function nc(t,e){const n={type:"object",shape:t??{},...De(e)};return new _7(n)}const x7=le("ZodUnion",(t,e)=>{WF.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>vB(t,n,r,i),t.options=e.options});function w7(t,e){return new x7({type:"union",options:t,...De(e)})}const E7=le("ZodIntersection",(t,e)=>{XF.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>bB(t,n,r,i)});function T7(t,e){return new E7({type:"intersection",left:t,right:e})}const m_=le("ZodEnum",(t,e)=>{JF.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(r,i,o)=>fB(t,r,i),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,i)=>{const o={};for(const l of r)if(n.has(l))o[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new m_({...e,checks:[],...De(i),entries:o})},t.exclude=(r,i)=>{const o={...e.entries};for(const l of r)if(n.has(l))delete o[l];else throw new Error(`Key ${l} not found in enum`);return new m_({...e,checks:[],...De(i),entries:o})}});function MD(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new m_({type:"enum",entries:n,...De(e)})}const S7=le("ZodTransform",(t,e)=>{e8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>pB(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new oD(t.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(ah(o,n.value,e));else{const l=o;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=t),n.issues.push(ah(l))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(o=>(n.value=o,n)):(n.value=i,n)}});function A7(t){return new S7({type:"transform",transform:t})}const jD=le("ZodOptional",(t,e)=>{AD.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>OD(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function qA(t){return new jD({type:"optional",innerType:t})}const I7=le("ZodExactOptional",(t,e)=>{t8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>OD(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function R7(t){return new I7({type:"optional",innerType:t})}const C7=le("ZodNullable",(t,e)=>{n8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>_B(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function HA(t){return new C7({type:"nullable",innerType:t})}const N7=le("ZodDefault",(t,e)=>{r8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>wB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function D7(t,e){return new N7({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():dD(e)}})}const O7=le("ZodPrefault",(t,e)=>{s8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>EB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function k7(t,e){return new O7({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():dD(e)}})}const VD=le("ZodNonOptional",(t,e)=>{i8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>xB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function P7(t,e){return new VD({type:"nonoptional",innerType:t,...De(e)})}const M7=le("ZodCatch",(t,e)=>{a8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>TB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function j7(t,e){return new M7({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const V7=le("ZodPipe",(t,e)=>{o8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>SB(t,n,r,i),t.in=e.in,t.out=e.out});function GA(t,e){return new V7({type:"pipe",in:t,out:e})}const L7=le("ZodReadonly",(t,e)=>{l8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>AB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function z7(t){return new L7({type:"readonly",innerType:t})}const U7=le("ZodCustom",(t,e)=>{u8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>mB(t,n)});function $7(t,e={}){return nB(U7,t,e)}function F7(t){return rB(t)}const B7=nc({id:Cr().optional(),name:Cr().min(1),dupr:f_().nonnegative().optional(),imageUrl:Cr().optional(),createdAt:Cr().optional()}),q7=nc({scoreA:f_().optional(),scoreB:f_().optional()}),H7=nc({playerNames:nl(Cr()).length(4),matches:nl(q7).length(3)}),G7=nc({courts:nl(H7)}),K7=nc({id:Cr(),name:Cr(),startDateTime:BA(),endDateTime:BA().optional(),location:Cr().optional(),status:MD(["open","closed","cancelled"]).optional(),link:Cr().optional(),standings:nl(Cr()).optional(),label:Cr().optional(),rounds:nl(G7).optional()});nc({docs:nl(m7()),nextCursor:Cr().nullable().optional()});function Q7(t){if(t){if(typeof t?.toDate=="function")return t.toDate().toISOString();if(typeof t=="string")return t}}function KA(t){if(t){if(typeof t?.toDate=="function")return t.toDate();if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number"){const e=new Date(t);if(!isNaN(e.getTime()))return e}}}const Z7={toFirestore(t){const{id:e,createdAt:n,...r}=t;return{...r,createdAt:n||A2()}},fromFirestore(t,e){const n=t.data(e),r={id:t.id,name:n.name,dupr:n.dupr,imageUrl:n.imageUrl,createdAt:Q7(n.createdAt)};return B7.parse(r)}},Y7={toFirestore(t){const{id:e,...n}=t,{startDateTime:r,endDateTime:i,...o}=n;return{...o,startDateTime:r||A2(),endDateTime:i||null}},fromFirestore(t,e){const n=t.data(e),r={id:t.id,name:n.name,startDateTime:KA(n.startDateTime),endDateTime:KA(n.endDateTime),location:n.location,status:n.status,link:n.link,standings:Array.isArray(n.standings)?n.standings.map(String):void 0,label:n.label,rounds:Array.isArray(n.rounds)?n.rounds:void 0};return K7.parse(r)}};function LD(t,e,n){const r=[e];async function i(c){await t.cancelQueries({queryKey:[e,n]});const h=n?t.getQueryData([e,n]):null,f=t.getQueryData(r),g=c?.id??n,b=g?{...h,...c,id:g}:void 0;return b&&b.id&&(t.setQueryData([e,b.id],b),t.setQueryData(r,_=>{const w=_??[],A=w.findIndex(R=>R.id===b.id);if(A>=0){const R=[...w];return R[A]=b,R}return[b,...w]})),{previousItem:h,previousList:f}}function o(...c){const h=c[c.length-1];h?.previousItem&&n&&t.setQueryData([e,n],h.previousItem),h?.previousList?t.setQueryData(r,h.previousList):t.invalidateQueries({queryKey:r})}function l(...c){const h=c[0];if(typeof h=="string"&&h)t.invalidateQueries({queryKey:[e,h]});else if(h&&typeof h=="object"&&"id"in h){const f=h.id;f&&t.invalidateQueries({queryKey:[e,f]})}t.invalidateQueries({queryKey:r})}return{onMutate:i,onError:o,onSettled:l}}function W7(t,e,n){const r=Fu(),o=ER({queryKey:[t,n],queryFn:async()=>n?r$(t,n,e):null,enabled:!!n,staleTime:1e3*60}),l=LD(r,t,n),c=Hp({mutationFn:async h=>{if(h?.id)return await s$(t,h.id,h,e),h;{const f=await aD(t,h,e);return{...h,id:f}}},onMutate:l.onMutate,onError:l.onError,onSettled:l.onSettled});return{...o,upsert:c.mutateAsync,upsertState:{status:c.status,error:c.error??null}}}function X7(t,e){const n=ER({queryKey:[t],queryFn:async()=>{const r=await o$(t,{pageSize:1e3,converter:e});return console.log("useFirestoreEntities fetched",r.docs.length,"items from",t),r.docs},staleTime:6e4});return console.log("useFirestoreEntities query:",n,"collectionName:",t),n}function J7(t,e){const n=Fu(),r=Hp({mutationFn:async i=>await aD(t,i,e),onMutate:async i=>{await n.cancelQueries({queryKey:[t]});const o=n.getQueryData([t]),l=`__tmp__${Date.now()}`,c={...i,id:l};return n.setQueryData([t],h=>[c,...h??[]]),{previousList:o}},onError:(i,o,l)=>{l?.previousList?n.setQueryData([t],l.previousList):n.invalidateQueries({queryKey:[t]})},onSettled:i=>{n.invalidateQueries({queryKey:[t]}),i&&n.invalidateQueries({queryKey:[t,i]})}});return{create:r.mutateAsync,status:r.status,error:r.error??null}}function eq(t,e,n){const r=Fu(),i=LD(r,t,n),o=Hp({mutationFn:async l=>{if(!n)throw new Error("id required for update");await i$(t,n,l,e)},onMutate:i.onMutate,onError:i.onError,onSettled:i.onSettled});return{update:o.mutateAsync,status:o.status,error:o.error??null}}function tq(t,e){const n=Fu(),r=Hp({mutationFn:async()=>{if(!e)throw new Error("id required for delete");await a$(t,e)},onMutate:async()=>{if(!e)return{};await n.cancelQueries({queryKey:[t]});const i=n.getQueryData([t,e]),o=n.getQueryData([t]);return o&&n.setQueryData([t],o.filter(l=>l.id!==e)),n.setQueryData([t,e],null),{previous:i,previousList:o}},onError:(i,o,l)=>{l?.previous&&e&&n.setQueryData([t,e],l.previous),l?.previousList?n.setQueryData([t],l.previousList):n.invalidateQueries({queryKey:[t]})},onSettled:()=>{e&&n.invalidateQueries({queryKey:[t,e]}),n.invalidateQueries({queryKey:[t]})}});return{remove:r.mutateAsync,status:r.status,error:r.error??null}}function nq(t,e,n){const[r,i]=S.useState(null),[o,l]=S.useState(!0),[c,h]=S.useState(null);return S.useEffect(()=>{if(!n){i(null),l(!1);return}l(!0),h(null);const f=Ox(Si,t),g=e?f.withConverter(e):f,b=Ju(g,n),_=T2(b,w=>{w.exists()?i(w.data()):i(null),l(!1)},w=>{h(w),l(!1)});return()=>{_()}},[t,n,e]),{data:r,loading:o,error:c}}function rq(t,e){const[n,r]=S.useState(null),[i,o]=S.useState(!0),[l,c]=S.useState(null);return S.useEffect(()=>{o(!0),c(null);const h=Ox(Si,t),f=e?h.withConverter(e):h,g=T2(f,b=>{const _=b.docs.map(w=>w.data());r(_),o(!1)},b=>{c(b),o(!1)});return()=>{g()}},[t,e]),{data:n,loading:i,error:l}}function zD(t,e){function n(f){return W7(t,e,f)}function r(){return X7(t,e)}function i(){return J7(t,e)}function o(f){return eq(t,e,f)}function l(f){return tq(t,f)}function c(f){return nq(t,e,f)}function h(){return rq(t,e)}return{useEntity:n,useEntities:r,useCreate:i,useUpdate:o,useDelete:l,useEntityRealtime:c,useEntitiesRealtime:h}}const{useEntities:c0,useCreate:sq,useEntitiesRealtime:iq}=zD("players",Z7),{useEntity:UD,useEntities:d0,useCreate:aq,useUpdate:oq}=zD("events",Y7),QA=t=>`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`,lq=t=>t.toLocaleDateString(void 0,{month:"short",year:"numeric"}),uq=()=>{const[t,e]=S.useState("all"),{data:n}=c0(),{data:r}=d0(),i=S.useMemo(()=>{const c=new Map;return r?.forEach(h=>{if(h.startDateTime instanceof Date&&!isNaN(h.startDateTime.getTime())){const f=QA(h.startDateTime);c.has(f)||c.set(f,h.startDateTime)}}),Array.from(c.entries()).sort((h,f)=>h[1].getTime()<f[1].getTime()?1:-1).map(([h,f])=>({key:h,label:lq(f)}))},[]),o=S.useMemo(()=>{const c=r?.filter(A=>Array.isArray(A.standings)&&A.standings.length>0),h=t==="all"?c:c?.filter(A=>QA(A.startDateTime)===t),f=new Map;h?.forEach((A,R)=>{const D={date:A.startDateTime?A.startDateTime.toISOString():A.id,isCompleted:!0,standings:A.standings},V=Zp(D);V&&V.forEach($=>{const z=$.playerId,Q=$.pointsEarned||0,W=f.get(z)||{points:0,events:0};W.points+=Q,W.events+=1,f.set(z,W)})});const g=Array.from(f.entries()).map(([A,R])=>({playerId:A,points:R.points,eventsPlayed:R.events}));g.sort((A,R)=>R.points-A.points);let b=null,_=0,w=0;return g.forEach(A=>{w+=1,(b===null||A.points!==b)&&(_=w,b=A.points),A.rank=_}),g},[t]),l=c=>{e(c==="all"?"all":c)};return v.jsxs("div",{className:"space-y-8",children:[v.jsx(Gu,{title:"Challenge Leaderboard",subtitle:"Leaderboard derived from Challenge events (month or all time)",children:v.jsx("div",{className:"flex items-center gap-4",children:v.jsxs("select",{value:t,onChange:c=>l(c.target.value),className:"appearance-none bg-surface border border-border text-text-main text-sm rounded-lg pl-3 pr-8 py-2",children:[v.jsx("option",{value:"all",children:"All Time"}),i.map(c=>v.jsx("option",{value:c.key,children:c.label},c.key))]})})}),v.jsx(Ue,{className:"p-0 overflow-hidden",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-border",children:[v.jsx("thead",{className:"bg-surface-highlight",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider pl-6",children:"Rank"}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Player"}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Points"}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Events"})]})}),v.jsx("tbody",{className:"bg-surface divide-y divide-border",children:o.map(c=>{const h=n?.find(f=>f.id===c.playerId)||{name:"Unknown",imageUrl:""};return v.jsxs("tr",{className:zn("hover:bg-surface-highlight transition-colors",(c.rank||0)<=4?"bg-primary-light/10":""),children:[v.jsx("td",{className:"px-4 pl-6 py-4 whitespace-nowrap",children:v.jsx(Yp,{rank:c.rank??0})}),v.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:v.jsxs(Pt,{to:`/player/${c.playerId}`,className:"flex items-center group",children:[v.jsx(B_,{imageUrl:h.imageUrl,name:h.name,className:"mr-3 group-hover:ring-2 ring-primary transition-all"}),v.jsx("div",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:h.name}),c.rank===1&&v.jsx(Wn,{className:"ml-2 h-4 w-4 text-warning"})]})}),v.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm font-bold text-text-main",children:c.points})}),v.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-text-muted",children:c.eventsPlayed})]},c.playerId)})})]})})})]})},cq=()=>{const t=et.points??{championship:{},court2:{},court3:{},court4:{}},e=[{name:"Championship Court",data:t.championship??{}},{name:"Court 2",data:t.court2??{}},{name:"Court 3",data:t.court3??{}},{name:"Court 4",data:t.court4??{}}];return v.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-border",children:[v.jsxs("h3",{className:"font-bold text-text-main mb-4 flex items-center",children:[v.jsx(RR,{className:"h-5 w-5 text-primary mr-2"}),"Weekly Point System"]}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.map(n=>v.jsxs("div",{className:"bg-surface-highlight p-4 rounded-lg",children:[v.jsx("h3",{className:"font-bold text-text-main mb-2 text-center text-sm md:text-base",children:n.name}),v.jsxs("div",{className:"space-y-1 text-sm text-center",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-text-muted",children:"1st"})," ",v.jsxs("span",{className:"font-bold text-success",children:["+",n.data[1]]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-text-muted",children:"2nd"})," ",v.jsxs("span",{className:"font-bold text-success",children:["+",n.data[2]]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-text-muted",children:"3rd"})," ",v.jsxs("span",{className:"font-bold text-success",children:["+",n.data[3]]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-text-muted",children:"4th"})," ",v.jsxs("span",{className:"font-bold text-success",children:["+",n.data[4]]})]})]})]},n.name))})]})},$D=({options:t,value:e,onChange:n,className:r})=>v.jsx("div",{className:r,children:v.jsx("div",{className:"inline-flex",children:t.map(i=>v.jsx("button",{onClick:()=>n(i.value),className:zn("px-6 py-2.5 rounded-lg text-sm font-bold transition-all",e===i.value?"bg-primary text-text-main shadow-md":"text-text-muted hover:text-text-main hover:bg-surface"),children:i.label},i.value))})}),dq=({viewRules:t})=>{const e=t??et,n="price"in e&&e.price?e.price:{display:et.fee,note:et.seasonStructure?.duration};return v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto mt-8",children:[v.jsxs(Ue,{className:"p-4 flex flex-col items-center justify-center text-center",children:[v.jsx(U_,{className:"h-6 w-6 text-primary mb-2"}),v.jsx("span",{className:"font-bold text-text-main",children:e.schedule?.day}),v.jsx("span",{className:"text-sm text-text-muted",children:e.schedule?.time})]}),v.jsx("a",{href:e.location?.url,target:"_blank",rel:"noopener noreferrer",className:"block group",children:v.jsxs(Ue,{className:"p-4 flex flex-col items-center justify-center text-center hover:border-primary/50 transition-colors h-full",children:[v.jsx(Qp,{className:"h-6 w-6 text-primary mb-2 group-hover:scale-110 transition-transform"}),v.jsx("span",{className:"font-bold text-text-main",children:e.location?.name}),v.jsxs("span",{className:"text-sm text-text-muted flex items-center gap-1",children:[e.location?.city," ",v.jsx(Kp,{className:"h-3 w-3"})]})]})}),v.jsxs(Ue,{className:"p-4 flex flex-col items-center justify-center text-center",children:[v.jsx(w4,{className:"h-6 w-6 text-primary mb-2"}),v.jsx("span",{className:"font-bold text-text-main",children:n.display}),v.jsx("span",{className:"text-sm text-text-muted",children:n.note})]}),v.jsxs(Ue,{className:"p-4 flex flex-col items-center justify-center text-center",children:[v.jsx(NR,{className:"h-6 w-6 text-primary mb-2"}),v.jsx("span",{className:"font-bold text-text-main",children:e.participant?.type}),v.jsx("span",{className:"text-sm text-text-muted",children:e.participant?.note})]})]})},hq=()=>v.jsx("div",{className:"max-w-4xl mx-auto mt-6",children:v.jsxs(Ue,{className:"p-4",children:[v.jsx("h3",{className:"font-bold text-text-main mb-2",children:"Scoring"}),v.jsx("ul",{className:"text-text-muted list-disc pl-5 space-y-1",children:Array.isArray(et.scoring)&&et.scoring.length>0?et.scoring.map((t,e)=>v.jsx("li",{children:t},e)):v.jsx("li",{className:"text-text-muted",children:"No scoring details available."})})]})}),fq=()=>{const t=et.seasonStructure??{};return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Season Structure"}),v.jsxs("p",{className:"text-text-muted max-w-2xl mx-auto",children:[t.duration??"TBD",t.duration&&t.when?"  ":"",t.when??"",t.rosterSize?`  ${t.rosterSize} Players`:""]})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[v.jsxs(Ue,{className:"p-6 border-success/20 bg-success/5",children:[v.jsxs("h3",{className:"text-xl font-bold text-success mb-4 flex items-center gap-2",children:[v.jsx(Gp,{className:"h-5 w-5"}),"The Safe Zone"]}),v.jsx("p",{className:"text-text-main font-medium mb-2",children:`Top ${Math.max(0,Number(t.rosterSize||0)-4)} Players`}),v.jsx("p",{className:"text-text-muted",children:t.safeZone})]}),v.jsxs(Ue,{className:"p-6 border-error/20 bg-error/5",children:[v.jsxs("h3",{className:"text-xl font-bold text-error mb-4 flex items-center gap-2",children:[v.jsx(IR,{className:"h-5 w-5"}),"The Drop Zone"]}),v.jsx("p",{className:"text-text-main font-medium mb-2",children:"Bottom 4 Players"}),v.jsx("p",{className:"text-text-muted",children:t.dropZone})]})]})]})},FD=({heading:t,subtitle:e,entries:n,notes:r})=>v.jsxs("div",{className:"space-y-8",children:[t&&v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:t}),e&&v.jsx("p",{className:"text-text-muted max-w-2xl mx-auto",children:e})]}),v.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:n.map((i,o)=>v.jsxs(Ue,{className:`p-6 relative overflow-hidden ${i.accent?"border-warning/50 bg-warning/10":"border-border"}`,children:[v.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:v.jsx(Wn,{className:"h-24 w-24 text-warning"})}),v.jsxs("div",{className:"relative z-10",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx("div",{className:"bg-surface-highlight text-text-muted p-2 rounded-lg border border-border",children:v.jsx("span",{className:"font-bold text-lg",children:i.title})}),v.jsx("h3",{className:"text-xl font-bold text-text-main",children:`${i.title} Place`})]}),v.jsx("ul",{className:"space-y-3",children:i.items.map((l,c)=>v.jsxs("li",{className:`flex items-start gap-2 ${i.accent?"text-text-main font-medium":"text-text-muted"}`,children:[v.jsx(Gp,{className:`h-5 w-5 ${i.accent?"text-warning":"text-text-muted"} shrink-0`}),l]},c))})]})]},o))}),r&&v.jsx("div",{className:"text-center",children:v.jsx("p",{className:"text-sm text-text-muted italic",children:r})})]}),mq=()=>{const t=[{title:`${et.rewards.firstPlace.name}`,items:et.rewards.firstPlace.items,accent:!0},{title:`${et.rewards.secondPlace.name}`,items:et.rewards.secondPlace.items},{title:`${et.rewards.thirdPlace.name}`,items:et.rewards.thirdPlace.items}];return v.jsx(FD,{heading:"Prizes & Rewards",subtitle:"Top performers from each season earn court credits, club points, and guaranteed spots for the next season.",entries:t,notes:et.rewards.notes})},pq=()=>v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Pre-Season Qualifiers"}),v.jsx("p",{className:"text-text-muted max-w-2xl mx-auto",children:"Before each season begins, we host two Open Qualifier events to fill the open roster spots."})]}),v.jsxs(Ue,{className:"max-w-4xl mx-auto p-8",children:[v.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"font-bold text-text-main mb-4 flex items-center gap-2",children:[v.jsx(Bu,{className:"h-5 w-5 text-primary"}),"Who Can Play"]}),v.jsx("ul",{className:"space-y-2",children:et.qualification.who.map((t,e)=>v.jsxs("li",{className:"flex items-start text-text-muted",children:[v.jsx("span",{className:"mr-2",children:""}),t]},e))})]}),v.jsxs("div",{children:[v.jsxs("h3",{className:"font-bold text-text-main mb-4 flex items-center gap-2",children:[v.jsx(Wn,{className:"h-5 w-5 text-primary"}),"Advancement"]}),v.jsx("ul",{className:"space-y-2",children:et.qualification.advancement.map((t,e)=>v.jsxs("li",{className:"flex items-start text-text-muted",children:[v.jsx("span",{className:"mr-2",children:""}),t]},e))})]})]}),v.jsx("div",{className:"mt-8 pt-6 border-t border-border text-center",children:v.jsxs("p",{className:"text-text-muted italic",children:[v.jsx("span",{className:"font-bold text-primary",children:"Note:"})," ",et.qualification?.note]})})]})]}),gq=()=>v.jsxs("div",{className:"space-y-12",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"The Nightly Format"}),v.jsx("p",{className:"text-text-muted max-w-2xl mx-auto",children:"Three rounds of intense play. Perform well to move up; struggle and you move down."})]}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-0.5 bg-border -z-10 transform -translate-x-1/2"}),v.jsx("div",{className:"space-y-12",children:et.format?.map((t,e)=>v.jsxs("div",{className:"relative",children:[v.jsxs(Ue,{className:"p-8 max-w-3xl mx-auto",children:[v.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-primary text-text-main px-4 py-1 rounded-full text-sm font-bold",children:`ROUND ${e+1}`}),v.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[v.jsx("div",{className:"bg-primary-light p-4 rounded-full",children:e===0?v.jsx(Bu,{className:"h-8 w-8 text-primary"}):e===1?v.jsx(AR,{className:"h-8 w-8 text-primary"}):v.jsx(Wn,{className:"h-8 w-8 text-warning"})}),v.jsxs("div",{className:"flex-1 text-center md:text-left",children:[v.jsx("h3",{className:"text-xl font-bold text-text-main mb-2",children:t.title}),v.jsx("div",{className:"text-text-muted text-left",children:Array.isArray(t.description)?v.jsx("ul",{className:"list-disc pl-5 space-y-1 inline-block text-left",children:t.description.map((n,r)=>v.jsx("li",{children:n},r))}):v.jsx("p",{children:t.description})})]})]})]}),e<et.format.length-1&&v.jsx("div",{className:"flex justify-center",children:v.jsx("div",{className:"bg-surface p-2 rounded-full border border-border shadow-sm",children:v.jsx(SR,{className:"h-6 w-6 text-text-muted"})})})]},e))})]})]}),yq=({hideChallengeFAQs:t})=>v.jsxs("div",{children:[v.jsx("h2",{className:"text-3xl font-bold text-text-main",children:"Frequently Asked Questions"}),v.jsxs("div",{className:"space-y-4 mt-4",children:[!t&&v.jsxs(v.Fragment,{children:[v.jsxs(Ue,{children:[v.jsx("h3",{className:"font-bold text-text-main mb-2",children:"What happens if I miss a week?"}),v.jsx("p",{className:"text-text-muted",children:"If you miss a week, you receive 0 points for that night. You must notify the league admin so a substitute can be assigned. You are allowed a maximum of 2 sub replacements per season."})]}),v.jsxs(Ue,{children:[v.jsx("h3",{className:"font-bold text-text-main mb-2",children:"Can I choose my own sub?"}),v.jsx("p",{className:"text-text-muted",children:"No. To ensure competitive balance and fairness, all substitutes are assigned by the league administration from the approved sub pool."})]}),v.jsxs(Ue,{children:[v.jsx("h3",{className:"font-bold text-text-main mb-2",children:"How do I qualify for the next season?"}),v.jsx("p",{className:"text-text-muted",children:"The top 4 players from the current season automatically qualify for the next season. Other spots may be filled through open registration or qualifying nights."})]})]}),v.jsxs(Ue,{children:[v.jsx("h3",{className:"font-bold text-text-main mb-2",children:"Is there a warm-up period?"}),v.jsx("p",{className:"text-text-muted",children:"Yes, courts are available for warm-up starting at 6:45 PM. League play begins promptly at 7:00 PM."})]})]})]}),vq=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(!1),i=async o=>{o.preventDefault(),r(!0);const l=new FormData(o.currentTarget),c=Object.fromEntries(l.entries());try{(await fetch("https://formspree.io/f/xanrzonk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...c,subject:"League Question (Format Page)"})})).ok?(e("success"),o.currentTarget.reset()):e("error")}catch{e("error")}finally{r(!1)}};return t==="success"?v.jsxs("div",{className:"bg-success/20 p-6 rounded-xl border border-success/50 text-center",children:[v.jsx(Gp,{className:"h-12 w-12 text-success mx-auto mb-4"}),v.jsx("h3",{className:"text-lg font-bold text-success mb-2",children:"Message Sent!"}),v.jsx("p",{className:"text-success",children:"We'll get back to you shortly."}),v.jsx(Do,{onClick:()=>e(null),variant:"ghost",size:"sm",className:"mt-4 text-sm text-success hover:underline",children:"Send another"})]}):v.jsxs("form",{onSubmit:i,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-muted mb-1",children:"Your Email"}),v.jsx("input",{type:"email",name:"email",required:!0,className:"w-full rounded-lg bg-surface-highlight border-border text-text-main shadow-sm focus:border-primary focus:ring-primary placeholder:text-text-muted p-3",placeholder:"you@example.com"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-text-muted mb-1",children:"Question"}),v.jsx("textarea",{name:"message",required:!0,rows:4,className:"w-full rounded-lg bg-surface-highlight border-border text-text-main shadow-sm focus:border-primary focus:ring-primary placeholder:text-text-muted p-3",placeholder:"How can we help?"})]}),v.jsx(Do,{type:"submit",disabled:n,variant:"primary",size:"md",className:"w-full py-2.5 font-medium disabled:opacity-50 flex items-center justify-center gap-2",children:n?"Sending...":v.jsxs(v.Fragment,{children:[v.jsx(j4,{className:"h-4 w-4"})," Send Message"]})}),t==="error"&&v.jsx("p",{className:"text-error text-sm text-center",children:"Something went wrong. Please try again."})]})},bq=()=>v.jsxs(Ue,{className:"sticky top-8",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(O4,{className:"h-5 w-5 text-primary"}),v.jsx("h2",{className:"text-xl font-bold text-text-main",children:"Have Questions?"})]}),v.jsx("p",{className:"text-text-muted text-sm mb-6",children:"Can't find what you're looking for? Send us a message and we'll help you out."}),v.jsx(vq,{})]}),_q=()=>{const[t,e]=S.useState("current"),n=t==="current"?Kv:km,r=t==="current"?Kv.price:{display:km.fee,note:km.seasonStructure?.duration},i=t==="current"?Kv.showSections??{seasonStructure:!1,prizes:!1,qualifiers:!1}:{seasonStructure:!0,prizes:!0,qualifiers:!0};return S.useEffect(()=>{document.title=`${et.title}  ${n.title}`},[n.title]),v.jsxs("div",{className:"space-y-16 pb-12",children:[v.jsx(Gu,{title:n.title,subtitle:"Rotating partners, weekly standings with promotion/relegation, weekly points, open qualifiers, and season prizes.",center:!0}),v.jsx("div",{className:"flex justify-center mt-6",children:v.jsx($D,{options:[{value:"current",label:"The Challenge (Current)"},{value:"future",label:"Championship League (Future)"}],value:t,onChange:o=>e(o),className:"bg-surface-highlight p-1 rounded-xl inline-flex border border-border"})}),v.jsx("div",{className:"max-w-5xl mx-auto mt-6 rounded-3xl overflow-hidden shadow-lg",children:v.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-light p-8 md:p-12 text-white flex flex-col md:flex-row items-center gap-6",children:[v.jsxs("div",{className:"flex-1 text-center md:text-left",children:[v.jsx("h3",{className:"text-3xl md:text-4xl font-extrabold mb-2",children:n.title}),v.jsx("p",{className:"text-lg md:text-xl opacity-90",children:n.summary})]}),v.jsxs("div",{className:"flex-shrink-0 text-center md:text-right",children:[v.jsx("div",{className:"text-2xl font-bold",children:r.display}),v.jsx("div",{className:"text-sm opacity-90 mb-4",children:r.note}),t==="current"?v.jsx(Pt,{to:"/schedule",className:"inline-block bg-white text-primary px-6 py-3 rounded-xl font-bold hover:opacity-90 transition",children:"Register for Tonight"}):v.jsx("a",{href:et.register.url,className:"inline-block bg-white text-primary px-6 py-3 rounded-xl font-bold hover:opacity-90 transition",children:"Register for Season"})]})]})}),v.jsx(dq,{viewRules:n}),v.jsx(hq,{}),i.seasonStructure&&v.jsx(fq,{}),i.prizes&&v.jsx(mq,{}),t==="current"&&v.jsx("div",{className:"max-w-4xl mx-auto",children:v.jsx(FD,{heading:"Monthly Prizes",subtitle:"At the end of each month, the top 3 players in the monthly standings will receive club points as rewards for their performance.",entries:[{title:"1st",items:["50 Club Pts"],accent:!0},{title:"2nd",items:["30 Club Pts"]},{title:"3rd",items:["20 Club Pts"]}]})}),i.qualifiers&&v.jsx(pq,{}),v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Seeding & Assignments"}),v.jsx("p",{className:"text-text-muted max-w-2xl mx-auto",children:et.seeding?.overview})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[v.jsxs(Ue,{className:"p-6",children:[v.jsxs("h3",{className:"text-xl font-bold text-text-main mb-4 flex items-center gap-2",children:[v.jsx(Bu,{className:"h-5 w-5 text-primary"}),"Initial Seeding"]}),v.jsx("p",{className:"text-text-muted mb-4",children:et.seeding?.week1}),v.jsxs("div",{className:"bg-surface-highlight p-4 rounded-lg border border-border",children:[v.jsx("h4",{className:"font-bold text-sm text-text-main mb-2",children:"Why Seeding Matters"}),v.jsx("p",{className:"text-sm text-text-muted",children:"Higher seeds are placed in groups with lower-seeded opponents in Round 1, giving top players a statistical advantage to finish Top 2 and advance."})]})]}),v.jsxs(Ue,{className:"p-6",children:[v.jsxs("h3",{className:"text-xl font-bold text-text-main mb-4 flex items-center gap-2",children:[v.jsx(Qp,{className:"h-5 w-5 text-primary"}),"The Snake Draw"]}),v.jsx("p",{className:"text-text-muted mb-4",children:et.seeding?.draw}),v.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[v.jsxs("div",{className:"bg-surface-highlight p-2 rounded border border-border",children:[v.jsx("span",{className:"font-bold block text-primary",children:"Court 1"}),v.jsx("span",{className:"text-text-muted",children:"Seeds 1, 8, 9, 16"})]}),v.jsxs("div",{className:"bg-surface-highlight p-2 rounded border border-border",children:[v.jsx("span",{className:"font-bold block text-primary",children:"Court 2"}),v.jsx("span",{className:"text-text-muted",children:"Seeds 2, 7, 10, 15"})]}),v.jsxs("div",{className:"bg-surface-highlight p-2 rounded border border-border",children:[v.jsx("span",{className:"font-bold block text-primary",children:"Court 3"}),v.jsx("span",{className:"text-text-muted",children:"Seeds 3, 6, 11, 14"})]}),v.jsxs("div",{className:"bg-surface-highlight p-2 rounded border border-border",children:[v.jsx("span",{className:"font-bold block text-primary",children:"Court 4"}),v.jsx("span",{className:"text-text-muted",children:"Seeds 4, 5, 12, 13"})]})]})]})]})]}),v.jsx(gq,{}),v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsx(cq,{}),v.jsx("p",{className:"text-center text-sm text-text-muted mt-4 italic",children:et.missedWeekNote})]}),v.jsxs("div",{className:"bg-primary-light rounded-2xl p-8 md:p-12 text-center border border-primary/50",children:[v.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Ready to Compete?"}),v.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto",children:"Registration is open for the upcoming season. Secure your spot now."}),v.jsx("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:v.jsxs("a",{href:et.register.url,className:"bg-primary text-text-main px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:[et.register.text,v.jsx(Kp,{className:"h-5 w-5"})]})}),v.jsx("p",{className:"text-sm text-text-muted mt-6",children:"*Future seasons may require participation in qualifying nights to earn a roster spot."})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[v.jsxs(Ue,{children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx(Gp,{className:"h-6 w-6 text-success"}),v.jsx("h2",{className:"text-xl font-bold text-text-main",children:"Eligibility"})]}),v.jsx("ul",{className:"space-y-3",children:Array.isArray(et.general)&&et.general.length>0?et.general.map((o,l)=>v.jsxs("li",{className:"flex items-start text-text-muted",children:[v.jsx("span",{className:"mr-2",children:""}),o]},l)):v.jsx("li",{className:"text-text-muted",children:"No eligibility rules provided."})})]}),t!=="current"&&v.jsxs(Ue,{children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx(IR,{className:"h-6 w-6 text-warning"}),v.jsx("h2",{className:"text-xl font-bold text-text-main",children:"Substitute Policy"})]}),v.jsx("ul",{className:"space-y-3",children:Array.isArray(et.subs)&&et.subs.length>0?et.subs.map((o,l)=>v.jsxs("li",{className:"flex items-start text-text-muted",children:[v.jsx("span",{className:"mr-2",children:""}),o]},l)):v.jsx("li",{className:"text-text-muted",children:"No substitute policy provided."})})]})]}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[v.jsx("div",{className:"md:col-span-2 space-y-8",children:v.jsx(yq,{hideChallengeFAQs:t==="current"})}),v.jsx("div",{className:"md:col-span-1",children:v.jsx(bq,{})})]})]})},xq=()=>v.jsxs("div",{className:"space-y-12",children:[v.jsx(Gu,{title:"Hall of Champions",subtitle:"Celebrating the elite performers of the Paddle Up Individual Championship League.",center:!0}),(()=>{const t=(ui||[]).filter(e=>Array.isArray(e.standings)&&e.standings.length>0);return t.length===0?v.jsxs(Ue,{className:"text-center py-16 border-dashed",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-warning/20 rounded-full mb-4",children:v.jsx(CR,{className:"h-8 w-8 text-warning"})}),v.jsx("h2",{className:"text-xl font-medium text-text-main mb-2",children:"No completed events yet"}),v.jsx("p",{className:"text-text-muted max-w-md mx-auto",children:"No past Challenge events with results are available yet."})]}):v.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,n)=>{const r={id:e.id,date:e.startDateTime?e.startDateTime.toISOString():e.id,isCompleted:!0,standings:e.standings},i=(Zp(r)||[]).sort((o,l)=>(o.rank||0)-(l.rank||0)).slice(0,3);return v.jsxs(Ue,{className:"h-full flex flex-col",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx(Pt,{to:`/standings?season=${encodeURIComponent(String(e.id))}`,className:"bg-primary-light text-primary text-xs font-bold px-3 py-1 rounded-full hover:bg-primary-light/80 transition-colors",children:e.name}),v.jsxs("div",{className:"flex items-center text-xs text-text-muted",children:[v.jsx($o,{className:"h-3 w-3 mr-1"}),e.startDateTime?e.startDateTime.toLocaleDateString():e.id]})]}),v.jsx("div",{className:"space-y-6 flex-1",children:i.map((o,l)=>{const c=F_.find(g=>g.id===o.playerId)||{name:"Unknown",imageUrl:""},h=l===0?"text-warning":l===1?"text-text-muted":"text-bronze",f=l===0?"Champion":l===1?"Runner Up":"Third Place";return v.jsxs(Pt,{to:`/player/${o.playerId}`,className:"flex items-center gap-4 group",children:[v.jsxs("div",{className:"relative",children:[v.jsx(B_,{imageUrl:c.imageUrl,name:c.name,size:"lg",className:zn(l===0?"border-warning":"border-border","group-hover:ring-2 ring-primary transition-all"),border:!0}),v.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 rounded-full bg-surface shadow-sm flex items-center justify-center border border-border",children:l===0?v.jsx(Wn,{className:"h-3 w-3 text-warning"}):v.jsx(RR,{className:`h-3 w-3 ${h}`})})]}),v.jsxs("div",{children:[v.jsx("p",{className:`text-xs font-bold uppercase tracking-wider ${h}`,children:f}),v.jsx("p",{className:"font-bold text-text-main group-hover:text-primary transition-colors",children:c.name}),v.jsxs("p",{className:"text-xs text-text-muted",children:[o.pointsEarned||0," pts"]})]})]},o.playerId)})})]},n)})})})()]}),wq=t=>`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`,Eq=t=>t.toLocaleDateString(void 0,{month:"short",year:"numeric"}),Tq=()=>{const{data:t}=c0();console.log("Players data loaded:",t);const e=S.useMemo(()=>t?t.map(o=>({...o,rank:void 0,points:0,eventsPlayed:0,champCourt:0})):[],[t]),[n,r]=S.useState("all"),i=S.useMemo(()=>{const o=new Map;return ui.forEach(l=>{if(l.startDateTime instanceof Date&&!isNaN(l.startDateTime.getTime())){const c=wq(l.startDateTime);o.has(c)||o.set(c,l.startDateTime)}}),Array.from(o.entries()).sort((l,c)=>l[1].getTime()<c[1].getTime()?1:-1).map(([l,c])=>({key:l,label:Eq(c)}))},[]);return v.jsxs("div",{className:"space-y-8",children:[v.jsx(Gu,{title:"Players",subtitle:`${e.length} players  ${n==="all"?"All Time":"Month view"}`,children:v.jsx("div",{className:"flex items-center gap-4",children:v.jsxs("select",{value:n,onChange:o=>r(o.target.value==="all"?"all":o.target.value),className:"appearance-none bg-surface border border-border text-text-main text-sm rounded-lg pl-3 pr-8 py-2",children:[v.jsx("option",{value:"all",children:"All Time"}),i.map(o=>v.jsx("option",{value:o.key,children:o.label},o.key))]})})}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:e?.map(o=>v.jsx(Pt,{to:`/player/${o.id}`,className:"block group",children:v.jsxs(Ue,{className:"h-full overflow-hidden p-0 border-border group-hover:border-primary/50 transition-all group-hover:shadow-lg group-hover:shadow-primary/5 flex flex-col",children:[v.jsxs("div",{className:"aspect-square w-full relative bg-surface-highlight overflow-hidden",children:[o.imageUrl?v.jsx("img",{src:o.imageUrl.startsWith("/")?`/${o.imageUrl.slice(1)}`:o.imageUrl,alt:o.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):v.jsx("div",{className:"w-full h-full flex items-center justify-center bg-surface-highlight",children:v.jsx("span",{className:"text-4xl font-bold text-text-muted opacity-20",children:o.name?.charAt(0)})}),v.jsx("div",{className:"absolute top-3 left-3",children:v.jsxs("div",{className:"bg-surface/90 backdrop-blur-sm border border-border px-3 py-1 rounded-full text-sm font-bold text-text-main shadow-sm",children:["#",o.rank??0]})}),v.jsx("div",{className:"absolute top-3 right-3",children:v.jsxs("div",{className:"bg-surface/90 backdrop-blur-md border border-primary/30 px-3 py-1 rounded-full text-sm font-bold text-primary shadow-lg",children:[o.points," pts"]})})]}),v.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[v.jsx("h2",{className:"text-lg font-bold text-text-main mb-1 group-hover:text-primary transition-colors text-center truncate",children:o.name}),v.jsxs("p",{className:"text-xs text-text-muted text-center mb-3",children:["DUPR ",o.dupr??"N/A"]}),v.jsxs("div",{className:"mt-auto grid grid-cols-3 gap-2 pt-3 border-t border-border text-center",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Events"}),v.jsx("p",{className:"font-bold text-sm text-text-main",children:o.eventsPlayed})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Champ Ct"}),v.jsxs("div",{className:"flex items-center justify-center gap-1",children:[v.jsx(Nb,{className:"h-3 w-3 text-success"}),v.jsx("p",{className:"font-bold text-sm text-text-main",children:o.champCourt})]})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Rank"}),v.jsx("p",{className:"font-bold text-sm text-text-main",children:o.rank??"-"})]})]})]})]})},o.id))})]})},Sq=()=>{const{id:t}=iR(),{data:e}=iq();console.log("Players in profile:",e);const n=e?.find(f=>f.id===t);if(!n)return v.jsxs("div",{className:"text-center py-12",children:[v.jsx("h2",{className:"text-2xl font-bold text-text-main mb-4",children:"Player Not Found"}),v.jsx(Pt,{to:"/players",className:"text-primary hover:underline",children:"Back to Players"})]});const r=ui.filter(f=>Array.isArray(f.standings)&&f.standings.length>0).map(f=>{const g={id:f.id,date:f.startDateTime?f.startDateTime.toISOString():f.id,isCompleted:!0,standings:f.standings},b=Zp(g)||[];return{ev:f,finals:b}}),i=new Map;r.forEach(({finals:f})=>{f.forEach(g=>{const b=g.playerId,_=g.pointsEarned||0,w=i.get(b)||{points:0,events:0,champWins:0};w.points+=_,w.events+=1,g.rank===1&&(w.champWins+=1),i.set(b,w)})});const o=Array.from(i.entries()).map(([f,g])=>({playerId:f,points:g.points,eventsPlayed:g.events,champWins:g.champWins})).sort((f,g)=>g.points-f.points);let l=null;o.forEach((f,g)=>{f.playerId===t&&(l=g+1)});const c=i.get(t||"")||{points:0,events:0,champWins:0},h=[];return r.forEach(({ev:f,finals:g})=>{const b=g.find(_=>_.playerId===t);b&&h.push({eventId:f.id,date:f.startDateTime?f.startDateTime.toLocaleDateString():f.id,rank:b.rank})}),v.jsxs("div",{className:"space-y-8 pb-12",children:[v.jsxs(Pt,{to:"/players",className:"inline-flex items-center text-text-muted hover:text-primary transition-colors mb-4",children:[v.jsx(o4,{className:"h-4 w-4 mr-1"})," Back to Players"]}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"md:col-span-1 space-y-6",children:[v.jsxs(Ue,{className:"p-0 overflow-hidden border-border",children:[v.jsx("div",{className:"aspect-square w-full relative bg-surface-highlight",children:n.imageUrl?v.jsx("img",{src:n.imageUrl.startsWith("/")?`/${n.imageUrl.slice(1)}`:n.imageUrl,alt:n.name,className:"w-full h-full object-cover"}):v.jsx("div",{className:"w-full h-full flex items-center justify-center",children:v.jsx("span",{className:"text-6xl font-bold text-text-muted opacity-20",children:n.name.charAt(0)})})}),v.jsxs("div",{className:"p-6 text-center",children:[v.jsx("h1",{className:"text-3xl font-bold text-text-main mb-2",children:n.name}),v.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[v.jsxs("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold border border-primary/20",children:["DUPR ",n.dupr??"N/A"]}),v.jsxs("span",{className:"bg-surface-highlight text-text-muted px-3 py-1 rounded-full text-sm font-medium border border-border",children:["Rank #",l??"-"]})]})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs(Ue,{className:"p-4 flex flex-col items-center justify-center text-center",children:[v.jsx(Wn,{className:"h-6 w-6 text-warning mb-2"}),v.jsx("span",{className:"text-2xl font-bold text-text-main",children:c.points}),v.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Points"})]}),v.jsxs(Ue,{className:"p-4 flex flex-col items-center justify-center text-center",children:[v.jsx(Nb,{className:"h-6 w-6 text-success mb-2"}),v.jsx("span",{className:"text-2xl font-bold text-text-main",children:c.champWins}),v.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Top Finishes"})]}),v.jsxs(Ue,{className:"p-4 flex flex-col items-center justify-center text-center",children:[v.jsx(Cb,{className:"h-6 w-6 text-primary mb-2"}),v.jsx("span",{className:"text-2xl font-bold text-text-main",children:h.length}),v.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Events"})]}),v.jsxs(Ue,{className:"p-4 flex flex-col items-center justify-center text-center",children:[v.jsx($o,{className:"h-6 w-6 text-text-muted mb-2"}),v.jsx("span",{className:"text-2xl font-bold text-text-main",children:c.events}),v.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Appearances"})]})]})]}),v.jsxs("div",{className:"md:col-span-2 space-y-8",children:[v.jsxs(Ue,{children:[v.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[v.jsx(Cb,{className:"h-5 w-5 text-primary"}),"Event Placements"]}),v.jsx("div",{className:"space-y-3",children:h.length>0?h.slice().reverse().map((f,g)=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface-highlight rounded-lg border border-border",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-text-main",children:ui.find(b=>b.id===f.eventId)?.name||f.eventId}),v.jsx("p",{className:"text-xs text-text-muted",children:f.date})]}),v.jsx("div",{className:"text-right",children:v.jsxs("p",{className:"font-mono font-bold text-text-main",children:["Rank #",f.rank]})})]},g)):v.jsx("p",{className:"text-text-muted text-center py-4",children:"No event placements available."})})]}),v.jsxs(Ue,{children:[v.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[v.jsx(Nb,{className:"h-5 w-5 text-primary"}),"Event Rankings"]}),v.jsx("div",{className:"space-y-2",children:h.length>0?h.slice().reverse().map((f,g)=>v.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-border last:border-0",children:[v.jsx("span",{className:"text-sm text-text-muted",children:f.date}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:"text-sm font-medium text-text-main",children:["Rank #",f.rank]}),v.jsx(Yp,{rank:f.rank,size:"sm"})]})]},g)):v.jsx("p",{className:"text-text-muted text-center py-4",children:"No event data available."})})]})]})]})]})},ZA={A:"bg-yellow-300 text-yellow-900 ring-yellow-400",B:"bg-slate-100 text-slate-900 ring-slate-200",C:"bg-amber-400 text-amber-900 ring-amber-500",D:"bg-teal-100 text-teal-900 ring-teal-200",Default:"bg-surface-alt text-text-muted"},Aq={xs:"px-2 py-0.5 text-[10px] rounded",sm:"px-2.5 py-0.5 text-xs rounded-md",md:"px-3 py-0.5 text-sm rounded-md"};function YA({tierId:t,size:e="sm",className:n}){const r=`Tier ${t}`,i=ZA[t.charAt(0)]||ZA.Default;return v.jsx("span",{role:"status","aria-label":r,className:zn("inline-flex items-center font-semibold shadow-sm",Aq[e],"ring-1 ring-border/10",i,n),children:r})}const Iq=typeof document<"u"?$e.useLayoutEffect:()=>{},Ma=t=>{var e;return(e=t?.ownerDocument)!==null&&e!==void 0?e:document},Ro=t=>t&&"window"in t&&t.window===t?t:Ma(t).defaultView||window;function Rq(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function Cq(t){return Rq(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let Nq=!1;function h0(){return Nq}function BD(t,e){if(!h0())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:Cq(n)?n=n.host:n=n.parentNode}return!1}const p_=(t=document)=>{var e;if(!h0())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function qD(t){return h0()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function Dq(t){if(Oq())t.focus({preventScroll:!0});else{let e=kq(t);t.focus(),Pq(e)}}let Am=null;function Oq(){if(Am==null){Am=!1;try{document.createElement("div").focus({get preventScroll(){return Am=!0,!0}})}catch{}}return Am}function kq(t){let e=t.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==r;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&n.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function Pq(t){for(let{element:e,scrollTop:n,scrollLeft:r}of t)e.scrollTop=n,e.scrollLeft=r}function Ig(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(r=>t.test(r.brand))||t.test(window.navigator.userAgent)}function HD(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function rc(t){let e=null;return()=>(e==null&&(e=t()),e)}const Mp=rc(function(){return HD(/^Mac/i)}),Mq=rc(function(){return HD(/^iPad/i)||Mp()&&navigator.maxTouchPoints>1}),jq=rc(function(){return Ig(/AppleWebKit/i)&&!Vq()}),Vq=rc(function(){return Ig(/Chrome/i)}),Lq=rc(function(){return Ig(/Android/i)}),zq=rc(function(){return Ig(/Firefox/i)});function oh(t,e,n=!0){var r,i;let{metaKey:o,ctrlKey:l,altKey:c,shiftKey:h}=e;zq()&&(!((i=window.event)===null||i===void 0||(r=i.type)===null||r===void 0)&&r.startsWith("key"))&&t.target==="_blank"&&(Mp()?o=!0:l=!0);let f=jq()&&Mp()&&!Mq()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:o,ctrlKey:l,altKey:c,shiftKey:h}):new MouseEvent("click",{metaKey:o,ctrlKey:l,altKey:c,shiftKey:h,detail:1,bubbles:!0,cancelable:!0});oh.isOpening=n,Dq(t),t.dispatchEvent(f),oh.isOpening=!1}oh.isOpening=!1;function GD(){let t=S.useRef(new Map),e=S.useCallback((i,o,l,c)=>{let h=c?.once?(...f)=>{t.current.delete(l),l(...f)}:l;t.current.set(l,{type:o,eventTarget:i,fn:h,options:c}),i.addEventListener(o,h,c)},[]),n=S.useCallback((i,o,l,c)=>{var h;let f=((h=t.current.get(l))===null||h===void 0?void 0:h.fn)||l;i.removeEventListener(o,f,c),t.current.delete(l)},[]),r=S.useCallback(()=>{t.current.forEach((i,o)=>{n(i.eventTarget,i.type,o,i.options)})},[n]);return S.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function Uq(t){return t.pointerType===""&&t.isTrusted?!0:Lq()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function KD(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function $q(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function QD(t){let e=S.useRef({isFocused:!1,observer:null});return Iq(()=>{const n=e.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]),S.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){e.current.isFocused=!0;let r=n.target,i=o=>{if(e.current.isFocused=!1,r.disabled){let l=KD(o);t?.(l)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};r.addEventListener("focusout",i,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&r.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let l=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),e.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let Fq=!1,Ch=null,g_=new Set,$d=new Map,rl=!1,y_=!1;const Bq={Tab:!0,Escape:!0};function f0(t,e){for(let n of g_)n(t,e)}function qq(t){return!(t.metaKey||!Mp()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function jp(t){rl=!0,!oh.isOpening&&qq(t)&&(Ch="keyboard",f0("keyboard",t))}function wu(t){Ch="pointer","pointerType"in t&&t.pointerType,(t.type==="mousedown"||t.type==="pointerdown")&&(rl=!0,f0("pointer",t))}function ZD(t){!oh.isOpening&&Uq(t)&&(rl=!0,Ch="virtual")}function YD(t){t.target===window||t.target===document||Fq||!t.isTrusted||(!rl&&!y_&&(Ch="virtual",f0("virtual",t)),rl=!1,y_=!1)}function WD(){rl=!1,y_=!0}function v_(t){if(typeof window>"u"||typeof document>"u"||$d.get(Ro(t)))return;const e=Ro(t),n=Ma(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){rl=!0,r.apply(this,arguments)},n.addEventListener("keydown",jp,!0),n.addEventListener("keyup",jp,!0),n.addEventListener("click",ZD,!0),e.addEventListener("focus",YD,!0),e.addEventListener("blur",WD,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",wu,!0),n.addEventListener("pointermove",wu,!0),n.addEventListener("pointerup",wu,!0)),e.addEventListener("beforeunload",()=>{XD(t)},{once:!0}),$d.set(e,{focus:r})}const XD=(t,e)=>{const n=Ro(t),r=Ma(t);e&&r.removeEventListener("DOMContentLoaded",e),$d.has(n)&&(n.HTMLElement.prototype.focus=$d.get(n).focus,r.removeEventListener("keydown",jp,!0),r.removeEventListener("keyup",jp,!0),r.removeEventListener("click",ZD,!0),n.removeEventListener("focus",YD,!0),n.removeEventListener("blur",WD,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",wu,!0),r.removeEventListener("pointermove",wu,!0),r.removeEventListener("pointerup",wu,!0)),$d.delete(n))};function Hq(t){const e=Ma(t);let n;return e.readyState!=="loading"?v_(t):(n=()=>{v_(t)},e.addEventListener("DOMContentLoaded",n)),()=>XD(t,n)}typeof document<"u"&&Hq();function JD(){return Ch!=="pointer"}const Gq=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Kq(t,e,n){let r=Ma(n?.target);const i=typeof window<"u"?Ro(n?.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?Ro(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?Ro(n?.target).HTMLElement:HTMLElement,c=typeof window<"u"?Ro(n?.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof i&&!Gq.has(r.activeElement.type)||r.activeElement instanceof o||r.activeElement instanceof l&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof c&&!Bq[n.key])}function Qq(t,e,n){v_(),S.useEffect(()=>{let r=(i,o)=>{Kq(!!n?.isTextInput,i,o)&&t(JD())};return g_.add(r),()=>{g_.delete(r)}},e)}function Zq(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const o=S.useCallback(h=>{if(h.target===h.currentTarget)return r&&r(h),i&&i(!1),!0},[r,i]),l=QD(o),c=S.useCallback(h=>{const f=Ma(h.target),g=f?p_(f):p_();h.target===h.currentTarget&&g===qD(h.nativeEvent)&&(n&&n(h),i&&i(!0),l(h))},[i,n,l]);return{focusProps:{onFocus:!e&&(n||i||r)?c:void 0,onBlur:!e&&(r||i)?o:void 0}}}function Yq(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,o=S.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:c}=GD(),h=S.useCallback(b=>{b.currentTarget.contains(b.target)&&o.current.isFocusWithin&&!b.currentTarget.contains(b.relatedTarget)&&(o.current.isFocusWithin=!1,c(),n&&n(b),i&&i(!1))},[n,i,o,c]),f=QD(h),g=S.useCallback(b=>{if(!b.currentTarget.contains(b.target))return;const _=Ma(b.target),w=p_(_);if(!o.current.isFocusWithin&&w===qD(b.nativeEvent)){r&&r(b),i&&i(!0),o.current.isFocusWithin=!0,f(b);let A=b.currentTarget;l(_,"focus",R=>{if(o.current.isFocusWithin&&!BD(A,R.target)){let D=new _.defaultView.FocusEvent("blur",{relatedTarget:R.target});$q(D,A);let V=KD(D);h(V)}},{capture:!0})}},[r,i,f,l,h]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:g,onBlur:h}}}let b_=!1,Im=0;function Wq(){b_=!0,setTimeout(()=>{b_=!1},50)}function WA(t){t.pointerType==="touch"&&Wq()}function Xq(){if(!(typeof document>"u"))return Im===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",WA),Im++,()=>{Im--,!(Im>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",WA)}}function eO(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[o,l]=S.useState(!1),c=S.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;S.useEffect(Xq,[]);let{addGlobalListener:h,removeAllGlobalListeners:f}=GD(),{hoverProps:g,triggerHoverEnd:b}=S.useMemo(()=>{let _=(R,D)=>{if(c.pointerType=D,i||D==="touch"||c.isHovered||!R.currentTarget.contains(R.target))return;c.isHovered=!0;let V=R.currentTarget;c.target=V,h(Ma(R.target),"pointerover",$=>{c.isHovered&&c.target&&!BD(c.target,$.target)&&w($,$.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:V,pointerType:D}),n&&n(!0),l(!0)},w=(R,D)=>{let V=c.target;c.pointerType="",c.target=null,!(D==="touch"||!c.isHovered||!V)&&(c.isHovered=!1,f(),r&&r({type:"hoverend",target:V,pointerType:D}),n&&n(!1),l(!1))},A={};return typeof PointerEvent<"u"&&(A.onPointerEnter=R=>{b_&&R.pointerType==="mouse"||_(R,R.pointerType)},A.onPointerLeave=R=>{!i&&R.currentTarget.contains(R.target)&&w(R,R.pointerType)}),{hoverProps:A,triggerHoverEnd:w}},[e,n,r,i,c,h,f]);return S.useEffect(()=>{i&&b({currentTarget:c.target},c.pointerType)},[i]),{hoverProps:g,isHovered:o}}function tO(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=S.useRef({isFocused:!1,isFocusVisible:e||JD()}),[o,l]=S.useState(!1),[c,h]=S.useState(()=>i.current.isFocused&&i.current.isFocusVisible),f=S.useCallback(()=>h(i.current.isFocused&&i.current.isFocusVisible),[]),g=S.useCallback(w=>{i.current.isFocused=w,l(w),f()},[f]);Qq(w=>{i.current.isFocusVisible=w,f()},[],{isTextInput:n});let{focusProps:b}=Zq({isDisabled:r,onFocusChange:g}),{focusWithinProps:_}=Yq({isDisabled:!r,onFocusWithinChange:g});return{isFocused:o,isFocusVisible:c,focusProps:r?_:b}}var Jq=Object.defineProperty,eH=(t,e,n)=>e in t?Jq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lb=(t,e,n)=>(eH(t,typeof e!="symbol"?e+"":e,n),n);let tH=class{constructor(){lb(this,"current",this.detect()),lb(this,"handoffState","pending"),lb(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Lo=new tH;function Nh(t){var e;return Lo.isServer?null:t==null?document:(e=t?.ownerDocument)!=null?e:document}function nH(t){var e,n;return Lo.isServer?null:t==null?document:(n=(e=t?.getRootNode)==null?void 0:e.call(t))!=null?n:document}function rH(t){var e,n;return(n=(e=nH(t))==null?void 0:e.activeElement)!=null?n:null}function nO(t){return rH(t)===t}function rO(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Vr(){let t=[],e={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),e.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return rO(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=Vr();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function sc(){let[t]=S.useState(Vr);return S.useEffect(()=>()=>t.dispose(),[t]),t}let tn=(t,e)=>{Lo.isServer?S.useEffect(t,e):S.useLayoutEffect(t,e)};function dl(t){let e=S.useRef(t);return tn(()=>{e.current=t},[t]),e}let tt=function(t){let e=dl(t);return $e.useCallback((...n)=>e.current(...n),[e])};function sH(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function iH(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function aH({disabled:t=!1}={}){let e=S.useRef(null),[n,r]=S.useState(!1),i=sc(),o=tt(()=>{e.current=null,r(!1),i.dispose()}),l=tt(c=>{if(i.dispose(),e.current===null){e.current=c.currentTarget,r(!0);{let h=Nh(c.currentTarget);i.addEventListener(h,"pointerup",o,!1),i.addEventListener(h,"pointermove",f=>{if(e.current){let g=sH(f);r(iH(g,e.current.getBoundingClientRect()))}},!1),i.addEventListener(h,"pointercancel",o,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:l,onPointerUp:o,onClick:o}}}function hl(t){return S.useMemo(()=>t,Object.values(t))}let oH=S.createContext(void 0);function m0(){return S.useContext(oH)}function XA(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function zs(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,zs),r}var __=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(__||{}),lH=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(lH||{});function rs(){let t=cH();return S.useCallback(e=>uH({mergeRefs:t,...e}),[t])}function uH({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:o=!0,name:l,mergeRefs:c}){c=c??dH;let h=sO(e,t);if(o)return Rm(h,n,r,l,c);let f=i??0;if(f&2){let{static:g=!1,...b}=h;if(g)return Rm(b,n,r,l,c)}if(f&1){let{unmount:g=!0,...b}=h;return zs(g?0:1,{0(){return null},1(){return Rm({...b,hidden:!0,style:{display:"none"}},n,r,l,c)}})}return Rm(h,n,r,l,c)}function Rm(t,e={},n,r,i){let{as:o=n,children:l,refName:c="ref",...h}=ub(t,["unmount","static"]),f=t.ref!==void 0?{[c]:t.ref}:{},g=typeof l=="function"?l(e):l;"className"in h&&h.className&&typeof h.className=="function"&&(h.className=h.className(e)),h["aria-labelledby"]&&h["aria-labelledby"]===h.id&&(h["aria-labelledby"]=void 0);let b={};if(e){let _=!1,w=[];for(let[A,R]of Object.entries(e))typeof R=="boolean"&&(_=!0),R===!0&&w.push(A.replace(/([A-Z])/g,D=>`-${D.toLowerCase()}`));if(_){b["data-headlessui-state"]=w.join(" ");for(let A of w)b[`data-${A}`]=""}}if(Jm(o)&&(Object.keys(bo(h)).length>0||Object.keys(bo(b)).length>0))if(!S.isValidElement(g)||Array.isArray(g)&&g.length>1||fH(g)){if(Object.keys(bo(h)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(bo(h)).concat(Object.keys(bo(b))).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`))}else{let _=g.props,w=_?.className,A=typeof w=="function"?(...V)=>XA(w(...V),h.className):XA(w,h.className),R=A?{className:A}:{},D=sO(g.props,bo(ub(h,["ref"])));for(let V in b)V in D&&delete b[V];return S.cloneElement(g,Object.assign({},D,b,f,{ref:i(hH(g),f.ref)},R))}return S.createElement(o,Object.assign({},ub(h,["ref"]),!Jm(o)&&f,!Jm(o)&&b),g)}function cH(){let t=S.useRef([]),e=S.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function dH(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function sO(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i?.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...o){let l=n[r];for(let c of l){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;c(i,...o)}}});return e}function p0(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let o=n[r];for(let l of o)l?.(...i)}});return e}function ss(t){var e;return Object.assign(S.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function bo(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function ub(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function hH(t){return $e.version.split(".")[0]>="19"?t.props.ref:t.ref}function Jm(t){return t===S.Fragment||t===Symbol.for("react.fragment")}function fH(t){return Jm(t.type)}function mH(t,e,n){let[r,i]=S.useState(n),o=t!==void 0,l=S.useRef(o),c=S.useRef(!1),h=S.useRef(!1);return o&&!l.current&&!c.current?(c.current=!0,l.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&l.current&&!h.current&&(h.current=!0,l.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?t:r,tt(f=>(o||Yn.flushSync(()=>i(f)),e?.(f)))]}function pH(t){let[e]=S.useState(t);return e}function iO(t={},e=null,n=[]){for(let[r,i]of Object.entries(t))oO(n,aO(e,r),i);return n}function aO(t,e){return t?t+"["+e+"]":e}function oO(t,e,n){if(Array.isArray(n))for(let[r,i]of n.entries())oO(t,aO(e,r.toString()),i);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):gH(n)&&!S.isValidElement(n)&&iO(n,e,t)}function gH(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}let yH="span";var g0=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(g0||{});function vH(t,e){var n;let{features:r=1,...i}=t,o={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return rs()({ourProps:o,theirProps:i,slot:{},defaultTag:yH,name:"Hidden"})}let lO=ss(vH),bH=S.createContext(null);function _H({children:t}){let e=S.useContext(bH);if(!e)return $e.createElement($e.Fragment,null,t);let{target:n}=e;return n?Yn.createPortal($e.createElement($e.Fragment,null,t),n):null}function xH({data:t,form:e,disabled:n,onReset:r,overrides:i}){let[o,l]=S.useState(null),c=sc();return S.useEffect(()=>{if(r&&o)return c.addEventListener(o,"reset",r)},[o,e,r]),$e.createElement(_H,null,$e.createElement(wH,{setForm:l,formId:e}),iO(t).map(([h,f])=>$e.createElement(lO,{features:g0.Hidden,...bo({key:h,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:e,disabled:n,name:h,value:f,...i})})))}function wH({setForm:t,formId:e}){return S.useEffect(()=>{if(e){let n=document.getElementById(e);n&&t(n)}},[t,e]),e?null:$e.createElement(lO,{features:g0.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&t(r)}})}let EH=S.createContext(void 0);function uO(){return S.useContext(EH)}function cO(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Rg(t){return cO(t)&&"tagName"in t}function ja(t){return Rg(t)&&"accessKey"in t}function Co(t){return Rg(t)&&"tabIndex"in t}function TH(t){return Rg(t)&&"style"in t}function SH(t){return ja(t)&&t.nodeName==="IFRAME"}function Vp(t){return ja(t)&&t.nodeName==="INPUT"}function JA(t){return ja(t)&&t.nodeName==="LABEL"}function AH(t){return ja(t)&&t.nodeName==="FIELDSET"}function dO(t){return ja(t)&&t.nodeName==="LEGEND"}function IH(t){return Rg(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function eI(t){let e=t.parentElement,n=null;for(;e&&!AH(e);)dO(e)&&(n=e),e=e.parentElement;let r=e?.getAttribute("disabled")==="";return r&&RH(n)?!1:r}function RH(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(dO(e))return!1;e=e.previousElementSibling}return!0}let hO=Symbol();function CH(t,e=!0){return Object.assign(t,{[hO]:e})}function Ai(...t){let e=S.useRef(t);S.useEffect(()=>{e.current=t},[t]);let n=tt(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||r?.[hO])?void 0:n}let y0=S.createContext(null);y0.displayName="DescriptionContext";function fO(){let t=S.useContext(y0);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,fO),e}return t}function NH(){var t,e;return(e=(t=S.useContext(y0))==null?void 0:t.value)!=null?e:void 0}let DH="p";function OH(t,e){let n=S.useId(),r=m0(),{id:i=`headlessui-description-${n}`,...o}=t,l=fO(),c=Ai(e);tn(()=>l.register(i),[i,l.register]);let h=hl({...l.slot,disabled:r||!1}),f={ref:c,...l.props,id:i};return rs()({ourProps:f,theirProps:o,slot:h,defaultTag:DH,name:l.name||"Description"})}let kH=ss(OH);Object.assign(kH,{});var Pn=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Pn||{});let Cg=S.createContext(null);Cg.displayName="LabelContext";function mO(){let t=S.useContext(Cg);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,mO),e}return t}function Ng(t){var e,n,r;let i=(n=(e=S.useContext(Cg))==null?void 0:e.value)!=null?n:void 0;return((r=t?.length)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function PH({inherit:t=!1}={}){let e=Ng(),[n,r]=S.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,S.useMemo(()=>function(o){let l=tt(h=>(r(f=>[...f,h]),()=>r(f=>{let g=f.slice(),b=g.indexOf(h);return b!==-1&&g.splice(b,1),g}))),c=S.useMemo(()=>({register:l,slot:o.slot,name:o.name,props:o.props,value:o.value}),[l,o.slot,o.name,o.props,o.value]);return $e.createElement(Cg.Provider,{value:c},o.children)},[r])]}let MH="label";function jH(t,e){var n;let r=S.useId(),i=mO(),o=uO(),l=m0(),{id:c=`headlessui-label-${r}`,htmlFor:h=o??((n=i.props)==null?void 0:n.htmlFor),passive:f=!1,...g}=t,b=Ai(e);tn(()=>i.register(c),[c,i.register]);let _=tt(R=>{let D=R.currentTarget;if(!(R.target!==R.currentTarget&&IH(R.target))&&(JA(D)&&R.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(R),JA(D))){let V=document.getElementById(D.htmlFor);if(V){let $=V.getAttribute("disabled");if($==="true"||$==="")return;let z=V.getAttribute("aria-disabled");if(z==="true"||z==="")return;(Vp(V)&&(V.type==="file"||V.type==="radio"||V.type==="checkbox")||V.role==="radio"||V.role==="checkbox"||V.role==="switch")&&V.click(),V.focus({preventScroll:!0})}}}),w=hl({...i.slot,disabled:l||!1}),A={ref:b,...i.props,id:c,htmlFor:h,onClick:_};return f&&("onClick"in A&&(delete A.htmlFor,delete A.onClick),"onClick"in g&&delete g.onClick),rs()({ourProps:A,theirProps:g,slot:w,defaultTag:h?MH:"div",name:i.name||"Label"})}let VH=ss(jH),LH=Object.assign(VH,{});function lu(t,e,n){let r=n.initialDeps??[],i,o=!0;function l(){var c,h,f;let g;n.key&&((c=n.debug)!=null&&c.call(n))&&(g=Date.now());const b=t();if(!(b.length!==r.length||b.some((A,R)=>r[R]!==A)))return i;r=b;let w;if(n.key&&((h=n.debug)!=null&&h.call(n))&&(w=Date.now()),i=e(...b),n.key&&((f=n.debug)!=null&&f.call(n))){const A=Math.round((Date.now()-g)*100)/100,R=Math.round((Date.now()-w)*100)/100,D=R/16,V=($,z)=>{for($=String($);$.length<z;)$=" "+$;return $};console.info(`%c ${V(R,5)} /${V(A,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*D,120))}deg 100% 31%);`,n?.key)}return n?.onChange&&!(o&&n.skipInitialOnChange)&&n.onChange(i),o=!1,i}return l.updateDeps=c=>{r=c},l}function tI(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const zH=(t,e)=>Math.abs(t-e)<1.01,UH=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},nI=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},$H=t=>t,FH=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},BH=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=l=>{const{width:c,height:h}=l;e({width:Math.round(c),height:Math.round(h)})};if(i(nI(n)),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(l=>{const c=()=>{const h=l[0];if(h?.borderBoxSize){const f=h.borderBoxSize[0];if(f){i({width:f.inlineSize,height:f.blockSize});return}}i(nI(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(c):c()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},rI={passive:!0},sI=typeof window>"u"?!0:"onscrollend"in window,qH=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const o=t.options.useScrollendEvent&&sI?()=>{}:UH(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),l=g=>()=>{const{horizontal:b,isRtl:_}=t.options;i=b?n.scrollLeft*(_&&-1||1):n.scrollTop,o(),e(i,g)},c=l(!0),h=l(!1);n.addEventListener("scroll",c,rI);const f=t.options.useScrollendEvent&&sI;return f&&n.addEventListener("scrollend",h,rI),()=>{n.removeEventListener("scroll",c),f&&n.removeEventListener("scrollend",h)}},HH=(t,e,n)=>{if(e?.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},GH=(t,{adjustments:e=0,behavior:n},r)=>{var i,o;const l=t+e;(o=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[r.options.horizontal?"left":"top"]:l,behavior:n})};class KH{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(o=>{const l=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var o;return(o=r())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=r())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:$H,rangeExtractor:FH,onChange:()=>{},measureElement:HH,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=lu(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=o,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,o=new Map;for(let l=r-1;l>=0;l--){const c=n[l];if(i.has(c.lane))continue;const h=o.get(c.lane);if(h==null||c.end>h.end?o.set(c.lane,c):c.end<h.end&&i.set(c.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((l,c)=>l.end===c.end?l.index-c.index:l.end-c.end)[0]:void 0},this.getMeasurementOptions=lu(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,i,o,l,c)=>(this.prevLanes!==void 0&&this.prevLanes!==c&&(this.lanesChangedFlag=!0),this.prevLanes=c,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:l,lanes:c}),{key:!1}),this.getMeasurements=lu(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:l,lanes:c},h)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const _ of this.laneAssignments.keys())_>=n&&this.laneAssignments.delete(_);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(_=>{this.itemSizeCache.set(_.key,_.size)}));const f=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const g=this.measurementsCache.slice(0,f),b=new Array(c).fill(void 0);for(let _=0;_<f;_++){const w=g[_];w&&(b[w.lane]=_)}for(let _=f;_<n;_++){const w=o(_),A=this.laneAssignments.get(_);let R,D;if(A!==void 0&&this.options.lanes>1){R=A;const Q=b[R],W=Q!==void 0?g[Q]:void 0;D=W?W.end+this.options.gap:r+i}else{const Q=this.options.lanes===1?g[_-1]:this.getFurthestMeasurement(g,_);D=Q?Q.end+this.options.gap:r+i,R=Q?Q.lane:_%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(_,R)}const V=h.get(w),$=typeof V=="number"?V:this.options.estimateSize(_),z=D+$;g[_]={index:_,start:D,size:$,end:z,key:w,lane:R},b[R]=_}return this.measurementsCache=g,g},{key:!1,debug:()=>this.options.debug}),this.calculateRange=lu(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,o)=>this.range=n.length>0&&r>0?QH({measurements:n,outerSize:r,scrollOffset:i,lanes:o}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=lu(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,o,l)=>o===null||l===null?[]:n({startIndex:o,endIndex:l,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),o=this.measurementsCache[i];if(!o)return;const l=o.key,c=this.elementsCache.get(l);c!==n&&(c&&this.observer.unobserve(c),this.observer.observe(n),this.elementsCache.set(l,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const o=this.itemSizeCache.get(i.key)??i.size,l=r-o;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,l,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=lu(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let o=0,l=n.length;o<l;o++){const c=n[o],h=r[c];i.push(h)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return tI(r[pO(0,r.length-1,i=>tI(r[i]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,r,i=0)=>{if(!this.scrollElement)return 0;const o=this.getSize(),l=this.getScrollOffset();r==="auto"&&(r=n>=l+o?"end":"start"),r==="center"?n+=(i-o)/2:r==="end"&&(n-=o);const c=this.getMaxScrollOffset();return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const o=this.getSize(),l=this.getScrollOffset();if(r==="auto")if(i.end>=l+o-this.options.scrollPaddingEnd)r="end";else if(i.start<=l+this.options.scrollPaddingStart)r="start";else return[l,r];if(r==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),r];const c=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(c,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let o=0;const l=10,c=f=>{if(!this.targetWindow)return;const g=this.getOffsetForIndex(n,f);if(!g){console.warn("Failed to get offset for index:",n);return}const[b,_]=g;this._scrollToOffset(b,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const w=()=>{if(this.currentScrollToIndex!==n)return;const A=this.getScrollOffset(),R=this.getOffsetForIndex(n,_);if(!R){console.warn("Failed to get offset for index:",n);return}zH(R[0],A)||h(_)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(w):w()})},h=f=>{this.targetWindow&&this.currentScrollToIndex===n&&(o++,o<l?this.targetWindow.requestAnimationFrame(()=>c(f)):console.warn(`Failed to scroll to index ${n} after ${l} attempts.`))};c(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const o=Array(this.options.lanes).fill(null);let l=r.length-1;for(;l>=0&&o.some(c=>c===null);){const c=r[l];o[c.lane]===null&&(o[c.lane]=c.end),l--}i=Math.max(...o.filter(c=>c!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(e)}}const pO=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,o=n(i);if(o<r)t=i+1;else if(o>r)e=i-1;else return i}return t>0?t-1:0};function QH({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,o=h=>t[h].start;if(t.length<=r)return{startIndex:0,endIndex:i};let l=pO(0,i,o,n),c=l;if(r===1)for(;c<i&&t[c].end<n+e;)c++;else if(r>1){const h=Array(r).fill(0);for(;c<i&&h.some(g=>g<n+e);){const g=t[c];h[g.lane]=g.end,c++}const f=Array(r).fill(n+e);for(;l>=0&&f.some(g=>g>=n);){const g=t[l];f[g.lane]=g.start,l--}l=Math.max(0,l-l%r),c=Math.min(i,c+(r-1-c%r))}return{startIndex:l,endIndex:c}}const iI=typeof document<"u"?S.useLayoutEffect:S.useEffect;function ZH({useFlushSync:t=!0,...e}){const n=S.useReducer(()=>({}),{})[1],r={...e,onChange:(o,l)=>{var c;t&&l?Yn.flushSync(n):n(),(c=e.onChange)==null||c.call(e,o,l)}},[i]=S.useState(()=>new KH(r));return i.setOptions(r),iI(()=>i._didMount(),[]),iI(()=>i._willUpdate()),i}function YH(t){return ZH({observeElementRect:BH,observeElementOffset:qH,scrollToFn:GH,...t})}function WH(t,e){return t!==null&&e!==null&&typeof t=="object"&&typeof e=="object"&&"id"in t&&"id"in e?t.id===e.id:t===e}function XH(t=WH){return S.useCallback((e,n)=>{if(typeof t=="string"){let r=t;return e?.[r]===n?.[r]}return t(e,n)},[t])}function aI(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function oI(t,e,n=!1){let[r,i]=S.useState(()=>aI(e));return tn(()=>{if(!e||!t)return;let o=Vr();return o.requestAnimationFrame(function l(){o.requestAnimationFrame(l),i(c=>{let h=aI(e);return h.width===c.width&&h.height===c.height?c:h})}),()=>{o.dispose()}},[e,t]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}var v0=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(v0||{});function JH(t){let e=S.useRef(null),n=tt(i=>{e.current=i.pointerType,!eI(i.currentTarget)&&i.pointerType==="mouse"&&i.button===v0.Left&&(i.preventDefault(),t(i))}),r=tt(i=>{e.current!=="mouse"&&(eI(i.currentTarget)||t(i))});return{onPointerDown:n,onClick:r}}let gO=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var eG=Object.defineProperty,tG=(t,e,n)=>e in t?eG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nG=(t,e,n)=>(tG(t,e+"",n),n),yO=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ir=(t,e,n)=>(yO(t,e,"read from private field"),n?n.call(t):e.get(t)),cb=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},lI=(t,e,n,r)=>(yO(t,e,"write to private field"),e.set(t,n),n),Is,Rd,Cd;let vO=class{constructor(e){cb(this,Is,{}),cb(this,Rd,new gO(()=>new Set)),cb(this,Cd,new Set),nG(this,"disposables",Vr()),lI(this,Is,e),Lo.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Ir(this,Is)}subscribe(e,n){if(Lo.isServer)return()=>{};let r={selector:e,callback:n,current:e(Ir(this,Is))};return Ir(this,Cd).add(r),this.disposables.add(()=>{Ir(this,Cd).delete(r)})}on(e,n){return Lo.isServer?()=>{}:(Ir(this,Rd).get(e).add(n),this.disposables.add(()=>{Ir(this,Rd).get(e).delete(n)}))}send(e){let n=this.reduce(Ir(this,Is),e);if(n!==Ir(this,Is)){lI(this,Is,n);for(let r of Ir(this,Cd)){let i=r.selector(Ir(this,Is));bO(r.current,i)||(r.current=i,r.callback(i))}for(let r of Ir(this,Rd).get(e.type))r(Ir(this,Is),e)}}};Is=new WeakMap,Rd=new WeakMap,Cd=new WeakMap;function bO(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:db(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:db(t.entries(),e.entries()):uI(t)&&uI(e)?db(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function db(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function uI(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}var rG=Object.defineProperty,sG=(t,e,n)=>e in t?rG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cI=(t,e,n)=>(sG(t,typeof e!="symbol"?e+"":e,n),n),_O=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(_O||{});let iG={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let o=t.stack.slice();return o.splice(i,1),o.push(n),r=o,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},aG=class xO extends vO{constructor(){super(...arguments),cI(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),cI(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new xO({stack:[]})}reduce(e,n){return zs(n.type,iG,e,n)}};const b0=new gO(()=>aG.new());var hb={exports:{}},fb={};var dI;function oG(){if(dI)return fb;dI=1;var t=Fp();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return fb.useSyncExternalStoreWithSelector=function(h,f,g,b,_){var w=i(null);if(w.current===null){var A={hasValue:!1,value:null};w.current=A}else A=w.current;w=l(function(){function D(W){if(!V){if(V=!0,$=W,W=b(W),_!==void 0&&A.hasValue){var se=A.value;if(_(se,W))return z=se}return z=W}if(se=z,n($,W))return se;var C=b(W);return _!==void 0&&_(se,C)?($=W,se):($=W,z=C)}var V=!1,$,z,Q=g===void 0?null:g;return[function(){return D(f())},Q===null?void 0:function(){return D(Q())}]},[f,g,b,_]);var R=r(h,w[0],w[1]);return o(function(){A.hasValue=!0,A.value=R},[R]),c(R),R},fb}var hI;function lG(){return hI||(hI=1,hb.exports=oG()),hb.exports}var uG=lG();function mn(t,e,n=bO){return uG.useSyncExternalStoreWithSelector(tt(r=>t.subscribe(cG,r)),tt(()=>t.state),tt(()=>t.state),tt(e),n)}function cG(t){return t}function wO(t,e){let n=S.useId(),r=b0.get(e),[i,o]=mn(r,S.useCallback(l=>[r.selectors.isTop(l,n),r.selectors.inStack(l,n)],[r,n]));return tn(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?o?i:!0:!1}let x_=new Map,Fd=new Map;function fI(t){var e;let n=(e=Fd.get(t))!=null?e:0;return Fd.set(t,n+1),n!==0?()=>mI(t):(x_.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>mI(t))}function mI(t){var e;let n=(e=Fd.get(t))!=null?e:1;if(n===1?Fd.delete(t):Fd.set(t,n-1),n!==1)return;let r=x_.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,x_.delete(t))}function dG(t,{allowed:e,disallowed:n}={}){let r=wO(t,"inert-others");tn(()=>{var i,o;if(!r)return;let l=Vr();for(let h of(i=n?.())!=null?i:[])h&&l.add(fI(h));let c=(o=e?.())!=null?o:[];for(let h of c){if(!h)continue;let f=Nh(h);if(!f)continue;let g=h.parentElement;for(;g&&g!==f.body;){for(let b of g.children)c.some(_=>b.contains(_))||l.add(fI(b));g=g.parentElement}}return l.dispose},[r,e,n])}function hG(t,e,n){let r=dl(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});S.useEffect(()=>{if(!t)return;let i=e===null?null:ja(e)?e:e.current;if(!i)return;let o=Vr();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}return()=>o.dispose()},[e,r,t])}let w_=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var fG=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(fG||{}),mG=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(mG||{}),pG=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(pG||{}),EO=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(EO||{});function gG(t,e=0){var n;return t===((n=Nh(t))==null?void 0:n.body)?!1:zs(e,{0(){return t.matches(w_)},1(){let r=t;for(;r!==null;){if(r.matches(w_))return!0;r=r.parentElement}return!1}})}var yG=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(yG||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function vG(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),o=e(r);if(i===null||o===null)return 0;let l=i.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function TO(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function bG(){return/Android/gi.test(window.navigator.userAgent)}function E_(){return TO()||bG()}function pu(t,e,n,r){let i=dl(n);S.useEffect(()=>{if(!t)return;function o(l){i.current(l)}return document.addEventListener(e,o,r),()=>document.removeEventListener(e,o,r)},[t,e,r])}function _G(t,e,n,r){let i=dl(n);S.useEffect(()=>{if(!t)return;function o(l){i.current(l)}return window.addEventListener(e,o,r),()=>window.removeEventListener(e,o,r)},[t,e,r])}const pI=30;function xG(t,e,n){let r=dl(n),i=S.useCallback(function(c,h){if(c.defaultPrevented)return;let f=h(c);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let g=(function b(_){return typeof _=="function"?b(_()):Array.isArray(_)||_ instanceof Set?_:[_]})(e);for(let b of g)if(b!==null&&(b.contains(f)||c.composed&&c.composedPath().includes(b)))return;return!gG(f,EO.Loose)&&f.tabIndex!==-1&&c.preventDefault(),r.current(c,f)},[r,e]),o=S.useRef(null);pu(t,"pointerdown",c=>{var h,f;E_()||(o.current=((f=(h=c.composedPath)==null?void 0:h.call(c))==null?void 0:f[0])||c.target)},!0),pu(t,"pointerup",c=>{if(E_()||!o.current)return;let h=o.current;return o.current=null,i(c,()=>h)},!0);let l=S.useRef({x:0,y:0});pu(t,"touchstart",c=>{l.current.x=c.touches[0].clientX,l.current.y=c.touches[0].clientY},!0),pu(t,"touchend",c=>{let h={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(h.x-l.current.x)>=pI||Math.abs(h.y-l.current.y)>=pI))return i(c,()=>Co(c.target)?c.target:null)},!0),_G(t,"blur",c=>i(c,()=>SH(window.document.activeElement)?window.document.activeElement:null),!0)}function T_(...t){return S.useMemo(()=>Nh(...t),[...t])}var wG=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(wG||{});const xd={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},EG=200,gI=5;function TG(t,{trigger:e,action:n,close:r,select:i}){let o=S.useRef(null),l=S.useRef(null),c=S.useRef(null);pu(t&&e!==null,"pointerdown",h=>{cO(h?.target)&&e!=null&&e.contains(h.target)&&(l.current=h.x,c.current=h.y,o.current=h.timeStamp)}),pu(t&&e!==null,"pointerup",h=>{var f,g;let b=o.current;if(b===null||(o.current=null,!Co(h.target))||Math.abs(h.x-((f=l.current)!=null?f:h.x))<gI&&Math.abs(h.y-((g=c.current)!=null?g:h.y))<gI)return;let _=n(h);switch(_.kind){case 0:return;case 1:{h.timeStamp-b>EG&&(i(_.target),r());break}case 2:{r();break}}},{capture:!0})}function SG(t,e,n,r){let i=dl(n);S.useEffect(()=>{t=t??window;function o(l){i.current(l)}return t.addEventListener(e,o,r),()=>t.removeEventListener(e,o,r)},[t,e,r])}function SO(t){let e=S.useRef({value:"",selectionStart:null,selectionEnd:null});return SG(t,"blur",n=>{let r=n.target;Vp(r)&&(e.current={value:r.value,selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})}),tt(()=>{if(!nO(t)&&Vp(t)&&t.isConnected){if(t.focus({preventScroll:!0}),t.value!==e.current.value)t.setSelectionRange(t.value.length,t.value.length);else{let{selectionStart:n,selectionEnd:r}=e.current;n!==null&&r!==null&&t.setSelectionRange(n,r)}e.current={value:"",selectionStart:null,selectionEnd:null}}})}function AG(t,e){return S.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||e?.tagName==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function IG(t){return S.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function RG(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let l=e[i].call(n,...o);l&&(n=l,r.forEach(c=>c()))}}}function CG(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,t-i);n.style(r,"paddingRight",`${o}px`)}}}function NG(){return TO()?{before({doc:t,d:e,meta:n}){function r(i){for(let o of n().containers)for(let l of o())if(l.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let c=Vr();c.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>c.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,l=null;e.addEventListener(t,"click",c=>{if(Co(c.target))try{let h=c.target.closest("a");if(!h)return;let{hash:f}=new URL(h.href),g=t.querySelector(f);Co(g)&&!r(g)&&(l=g)}catch{}},!0),e.group(c=>{e.addEventListener(t,"touchstart",h=>{if(c.dispose(),Co(h.target)&&TH(h.target))if(r(h.target)){let f=h.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;c.style(f,"overscrollBehavior","contain")}else c.style(h.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",c=>{if(Co(c.target)){if(Vp(c.target))return;if(r(c.target)){let h=c.target;for(;h.parentElement&&h.dataset.headlessuiPortal!==""&&!(h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth);)h=h.parentElement;h.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),e.add(()=>{var c;let h=(c=window.scrollY)!=null?c:window.pageYOffset;o!==h&&window.scrollTo(0,o),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function DG(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function yI(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let No=RG(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Vr(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(e),r.computedMeta=yI(r.meta),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=yI(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[NG(),CG(),DG()];n.forEach(({before:r})=>r?.(e)),n.forEach(({after:r})=>r?.(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});No.subscribe(()=>{let t=No.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&No.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&No.dispatch("TEARDOWN",n)}});function OG(t,e,n=()=>({containers:[]})){let r=IG(No),i=e?r.get(e):void 0,o=i?i.count>0:!1;return tn(()=>{if(!(!e||!t))return No.dispatch("PUSH",e,n),()=>No.dispatch("POP",e,n)},[t,e]),o}function kG(t,e,n=()=>[document.body]){let r=wO(t,"scroll-lock");OG(r,e,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function vI(t){return[t.screenX,t.screenY]}function PG(){let t=S.useRef([-1,-1]);return{wasMoved(e){let n=vI(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=vI(e)}}}function MG(t=0){let[e,n]=S.useState(t),r=S.useCallback(h=>n(h),[]),i=S.useCallback(h=>n(f=>f|h),[]),o=S.useCallback(h=>(e&h)===h,[e]),l=S.useCallback(h=>n(f=>f&~h),[]),c=S.useCallback(h=>n(f=>f^h),[]);return{flags:e,setFlag:r,addFlag:i,hasFlag:o,removeFlag:l,toggleFlag:c}}var jG={},bI,_I;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((bI=process==null?void 0:jG)==null?void 0:bI.NODE_ENV)==="test"&&typeof((_I=Element?.prototype)==null?void 0:_I.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var VG=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(VG||{});function LG(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function zG(t,e,n,r){let[i,o]=S.useState(n),{hasFlag:l,addFlag:c,removeFlag:h}=MG(t&&i?3:0),f=S.useRef(!1),g=S.useRef(!1),b=sc();return tn(()=>{var _;if(t){if(n&&o(!0),!e){n&&c(3);return}return(_=void 0)==null||_.call(r,n),UG(e,{inFlight:f,prepare(){g.current?g.current=!1:g.current=f.current,f.current=!0,!g.current&&(n?(c(3),h(4)):(c(4),h(2)))},run(){g.current?n?(h(3),c(4)):(h(4),c(3)):n?h(1):c(1)},done(){var w;g.current&&BG(e)||(f.current=!1,h(7),n||o(!1),(w=void 0)==null||w.call(r,n))}})}},[t,n,e,b]),t?[i,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function UG(t,{prepare:e,run:n,done:r,inFlight:i}){let o=Vr();return FG(t,{prepare:e,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add($G(t,r))})}),o.dispose}function $G(t,e){var n,r;let i=Vr();if(!t)return i.dispose;let o=!1;i.add(()=>{o=!0});let l=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(c=>c instanceof CSSTransition))!=null?r:[];return l.length===0?(e(),i.dispose):(Promise.allSettled(l.map(c=>c.finished)).then(()=>{o||e()}),i.dispose)}function FG(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function BG(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function qG(t,{container:e,accept:n,walk:r}){let i=S.useRef(n),o=S.useRef(r);S.useEffect(()=>{i.current=n,o.current=r},[n,r]),tn(()=>{if(!e||!t)return;let l=Nh(e);if(!l)return;let c=i.current,h=o.current,f=Object.assign(b=>c(b),{acceptNode:c}),g=l.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,f,!1);for(;g.nextNode();)h(g.currentNode)},[e,t,i,o])}function xI(t,e){let n=S.useRef([]),r=tt(t);S.useEffect(()=>{let i=[...n.current];for(let[o,l]of e.entries())if(n.current[o]!==l){let c=r(e,i);return n.current=e,c}},[r,...e])}function Dg(){return typeof window<"u"}function ic(t){return AO(t)?(t.nodeName||"").toLowerCase():"#document"}function hr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Fs(t){var e;return(e=(AO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function AO(t){return Dg()?t instanceof Node||t instanceof hr(t).Node:!1}function Ln(t){return Dg()?t instanceof Element||t instanceof hr(t).Element:!1}function Us(t){return Dg()?t instanceof HTMLElement||t instanceof hr(t).HTMLElement:!1}function wI(t){return!Dg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hr(t).ShadowRoot}const HG=new Set(["inline","contents"]);function Dh(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ns(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!HG.has(i)}const GG=new Set(["table","td","th"]);function KG(t){return GG.has(ic(t))}const QG=[":popover-open",":modal"];function Og(t){return QG.some(e=>{try{return t.matches(e)}catch{return!1}})}const ZG=["transform","translate","scale","rotate","perspective"],YG=["transform","translate","scale","rotate","perspective","filter"],WG=["paint","layout","strict","content"];function _0(t){const e=x0(),n=Ln(t)?ns(t):t;return ZG.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||YG.some(r=>(n.willChange||"").includes(r))||WG.some(r=>(n.contain||"").includes(r))}function XG(t){let e=Ra(t);for(;Us(e)&&!zu(e);){if(_0(e))return e;if(Og(e))return null;e=Ra(e)}return null}function x0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const JG=new Set(["html","body","#document"]);function zu(t){return JG.has(ic(t))}function ns(t){return hr(t).getComputedStyle(t)}function kg(t){return Ln(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ra(t){if(ic(t)==="html")return t;const e=t.assignedSlot||t.parentNode||wI(t)&&t.host||Fs(t);return wI(e)?e.host:e}function IO(t){const e=Ra(t);return zu(e)?t.ownerDocument?t.ownerDocument.body:t.body:Us(e)&&Dh(e)?e:IO(e)}function lh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=IO(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),l=hr(i);if(o){const c=S_(l);return e.concat(l,l.visualViewport||[],Dh(i)?i:[],c&&n?lh(c):[])}return e.concat(i,lh(i,[],n))}function S_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function eK(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const sl=Math.min,In=Math.max,uh=Math.round,Cm=Math.floor,Ms=t=>({x:t,y:t}),tK={left:"right",right:"left",bottom:"top",top:"bottom"},nK={start:"end",end:"start"};function EI(t,e,n){return In(t,sl(e,n))}function ac(t,e){return typeof t=="function"?t(e):t}function Ca(t){return t.split("-")[0]}function Oh(t){return t.split("-")[1]}function RO(t){return t==="x"?"y":"x"}function CO(t){return t==="y"?"height":"width"}const rK=new Set(["top","bottom"]);function mi(t){return rK.has(Ca(t))?"y":"x"}function NO(t){return RO(mi(t))}function sK(t,e,n){n===void 0&&(n=!1);const r=Oh(t),i=NO(t),o=CO(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Lp(l)),[l,Lp(l)]}function iK(t){const e=Lp(t);return[A_(t),e,A_(e)]}function A_(t){return t.replace(/start|end/g,e=>nK[e])}const TI=["left","right"],SI=["right","left"],aK=["top","bottom"],oK=["bottom","top"];function lK(t,e,n){switch(t){case"top":case"bottom":return n?e?SI:TI:e?TI:SI;case"left":case"right":return e?aK:oK;default:return[]}}function uK(t,e,n,r){const i=Oh(t);let o=lK(Ca(t),n==="start",r);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(A_)))),o}function Lp(t){return t.replace(/left|right|bottom|top/g,e=>tK[e])}function cK(t){return{top:0,right:0,bottom:0,left:0,...t}}function dK(t){return typeof t!="number"?cK(t):{top:t,right:t,bottom:t,left:t}}function zp(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function AI(t,e,n){let{reference:r,floating:i}=t;const o=mi(e),l=NO(e),c=CO(l),h=Ca(e),f=o==="y",g=r.x+r.width/2-i.width/2,b=r.y+r.height/2-i.height/2,_=r[c]/2-i[c]/2;let w;switch(h){case"top":w={x:g,y:r.y-i.height};break;case"bottom":w={x:g,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:b};break;case"left":w={x:r.x-i.width,y:b};break;default:w={x:r.x,y:r.y}}switch(Oh(e)){case"start":w[l]-=_*(n&&f?-1:1);break;case"end":w[l]+=_*(n&&f?-1:1);break}return w}const hK=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:b}=AI(f,r,h),_=r,w={},A=0;for(let R=0;R<c.length;R++){const{name:D,fn:V}=c[R],{x:$,y:z,data:Q,reset:W}=await V({x:g,y:b,initialPlacement:r,placement:_,strategy:i,middlewareData:w,rects:f,platform:l,elements:{reference:t,floating:e}});g=$??g,b=z??b,w={...w,[D]:{...w[D],...Q}},W&&A<=50&&(A++,typeof W=="object"&&(W.placement&&(_=W.placement),W.rects&&(f=W.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):W.rects),{x:g,y:b}=AI(f,_,h)),R=-1)}return{x:g,y:b,placement:_,strategy:i,middlewareData:w}};async function Pg(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:l,elements:c,strategy:h}=t,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:b="floating",altBoundary:_=!1,padding:w=0}=ac(e,t),A=dK(w),D=c[_?b==="floating"?"reference":"floating":b],V=zp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(D)))==null||n?D:D.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:f,rootBoundary:g,strategy:h})),$=b==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,z=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),Q=await(o.isElement==null?void 0:o.isElement(z))?await(o.getScale==null?void 0:o.getScale(z))||{x:1,y:1}:{x:1,y:1},W=zp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:$,offsetParent:z,strategy:h}):$);return{top:(V.top-W.top+A.top)/Q.y,bottom:(W.bottom-V.bottom+A.bottom)/Q.y,left:(V.left-W.left+A.left)/Q.x,right:(W.right-V.right+A.right)/Q.x}}const fK=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:h,elements:f}=e,{mainAxis:g=!0,crossAxis:b=!0,fallbackPlacements:_,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:R=!0,...D}=ac(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const V=Ca(i),$=mi(c),z=Ca(c)===c,Q=await(h.isRTL==null?void 0:h.isRTL(f.floating)),W=_||(z||!R?[Lp(c)]:iK(c)),se=A!=="none";!_&&se&&W.push(...uK(c,R,A,Q));const C=[c,...W],I=await Pg(e,D),k=[];let M=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&k.push(I[V]),b){const pe=sK(i,l,Q);k.push(I[pe[0]],I[pe[1]])}if(M=[...M,{placement:i,overflows:k}],!k.every(pe=>pe<=0)){var j,L;const pe=(((j=o.flip)==null?void 0:j.index)||0)+1,ye=C[pe];if(ye&&(!(b==="alignment"?$!==mi(ye):!1)||M.every(H=>mi(H.placement)===$?H.overflows[0]>0:!0)))return{data:{index:pe,overflows:M},reset:{placement:ye}};let q=(L=M.filter(Z=>Z.overflows[0]<=0).sort((Z,H)=>Z.overflows[1]-H.overflows[1])[0])==null?void 0:L.placement;if(!q)switch(w){case"bestFit":{var P;const Z=(P=M.filter(H=>{if(se){const he=mi(H.placement);return he===$||he==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(he=>he>0).reduce((he,be)=>he+be,0)]).sort((H,he)=>H[1]-he[1])[0])==null?void 0:P[0];Z&&(q=Z);break}case"initialPlacement":q=c;break}if(i!==q)return{reset:{placement:q}}}return{}}}},mK=new Set(["left","top"]);async function pK(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Ca(n),c=Oh(n),h=mi(n)==="y",f=mK.has(l)?-1:1,g=o&&h?-1:1,b=ac(e,t);let{mainAxis:_,crossAxis:w,alignmentAxis:A}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return c&&typeof A=="number"&&(w=c==="end"?A*-1:A),h?{x:w*g,y:_*f}:{x:_*f,y:w*g}}const gK=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:l,middlewareData:c}=e,h=await pK(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+h.x,y:o+h.y,data:{...h,placement:l}}}}},yK=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:D=>{let{x:V,y:$}=D;return{x:V,y:$}}},...h}=ac(t,e),f={x:n,y:r},g=await Pg(e,h),b=mi(Ca(i)),_=RO(b);let w=f[_],A=f[b];if(o){const D=_==="y"?"top":"left",V=_==="y"?"bottom":"right",$=w+g[D],z=w-g[V];w=EI($,w,z)}if(l){const D=b==="y"?"top":"left",V=b==="y"?"bottom":"right",$=A+g[D],z=A-g[V];A=EI($,A,z)}const R=c.fn({...e,[_]:w,[b]:A});return{...R,data:{x:R.x-n,y:R.y-r,enabled:{[_]:o,[b]:l}}}}}},vK=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:l,elements:c}=e,{apply:h=()=>{},...f}=ac(t,e),g=await Pg(e,f),b=Ca(i),_=Oh(i),w=mi(i)==="y",{width:A,height:R}=o.floating;let D,V;b==="top"||b==="bottom"?(D=b,V=_===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(V=b,D=_==="end"?"top":"bottom");const $=R-g.top-g.bottom,z=A-g.left-g.right,Q=sl(R-g[D],$),W=sl(A-g[V],z),se=!e.middlewareData.shift;let C=Q,I=W;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=z),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=$),se&&!_){const M=In(g.left,0),j=In(g.right,0),L=In(g.top,0),P=In(g.bottom,0);w?I=A-2*(M!==0||j!==0?M+j:In(g.left,g.right)):C=R-2*(L!==0||P!==0?L+P:In(g.top,g.bottom))}await h({...e,availableWidth:I,availableHeight:C});const k=await l.getDimensions(c.floating);return A!==k.width||R!==k.height?{reset:{rects:!0}}:{}}}};function DO(t){const e=ns(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Us(t),o=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=uh(n)!==o||uh(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function w0(t){return Ln(t)?t:t.contextElement}function Eu(t){const e=w0(t);if(!Us(e))return Ms(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=DO(e);let l=(o?uh(n.width):n.width)/r,c=(o?uh(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const bK=Ms(0);function OO(t){const e=hr(t);return!x0()||!e.visualViewport?bK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _K(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==hr(t)?!1:e}function il(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=w0(t);let l=Ms(1);e&&(r?Ln(r)&&(l=Eu(r)):l=Eu(t));const c=_K(o,n,r)?OO(o):Ms(0);let h=(i.left+c.x)/l.x,f=(i.top+c.y)/l.y,g=i.width/l.x,b=i.height/l.y;if(o){const _=hr(o),w=r&&Ln(r)?hr(r):r;let A=_,R=S_(A);for(;R&&r&&w!==A;){const D=Eu(R),V=R.getBoundingClientRect(),$=ns(R),z=V.left+(R.clientLeft+parseFloat($.paddingLeft))*D.x,Q=V.top+(R.clientTop+parseFloat($.paddingTop))*D.y;h*=D.x,f*=D.y,g*=D.x,b*=D.y,h+=z,f+=Q,A=hr(R),R=S_(A)}}return zp({width:g,height:b,x:h,y:f})}function Mg(t,e){const n=kg(t).scrollLeft;return e?e.left+n:il(Fs(t)).left+n}function kO(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Mg(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function xK(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",l=Fs(r),c=e?Og(e.floating):!1;if(r===l||c&&o)return n;let h={scrollLeft:0,scrollTop:0},f=Ms(1);const g=Ms(0),b=Us(r);if((b||!b&&!o)&&((ic(r)!=="body"||Dh(l))&&(h=kg(r)),Us(r))){const w=il(r);f=Eu(r),g.x=w.x+r.clientLeft,g.y=w.y+r.clientTop}const _=l&&!b&&!o?kO(l,h):Ms(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+g.x+_.x,y:n.y*f.y-h.scrollTop*f.y+g.y+_.y}}function wK(t){return Array.from(t.getClientRects())}function EK(t){const e=Fs(t),n=kg(t),r=t.ownerDocument.body,i=In(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=In(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Mg(t);const c=-n.scrollTop;return ns(r).direction==="rtl"&&(l+=In(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:c}}const II=25;function TK(t,e){const n=hr(t),r=Fs(t),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,h=0;if(i){o=i.width,l=i.height;const g=x0();(!g||g&&e==="fixed")&&(c=i.offsetLeft,h=i.offsetTop)}const f=Mg(r);if(f<=0){const g=r.ownerDocument,b=g.body,_=getComputedStyle(b),w=g.compatMode==="CSS1Compat"&&parseFloat(_.marginLeft)+parseFloat(_.marginRight)||0,A=Math.abs(r.clientWidth-b.clientWidth-w);A<=II&&(o-=A)}else f<=II&&(o+=f);return{width:o,height:l,x:c,y:h}}const SK=new Set(["absolute","fixed"]);function AK(t,e){const n=il(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Us(t)?Eu(t):Ms(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,h=i*o.x,f=r*o.y;return{width:l,height:c,x:h,y:f}}function RI(t,e,n){let r;if(e==="viewport")r=TK(t,n);else if(e==="document")r=EK(Fs(t));else if(Ln(e))r=AK(e,n);else{const i=OO(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return zp(r)}function PO(t,e){const n=Ra(t);return n===e||!Ln(n)||zu(n)?!1:ns(n).position==="fixed"||PO(n,e)}function IK(t,e){const n=e.get(t);if(n)return n;let r=lh(t,[],!1).filter(c=>Ln(c)&&ic(c)!=="body"),i=null;const o=ns(t).position==="fixed";let l=o?Ra(t):t;for(;Ln(l)&&!zu(l);){const c=ns(l),h=_0(l);!h&&c.position==="fixed"&&(i=null),(o?!h&&!i:!h&&c.position==="static"&&!!i&&SK.has(i.position)||Dh(l)&&!h&&PO(t,l))?r=r.filter(g=>g!==l):i=c,l=Ra(l)}return e.set(t,r),r}function RK(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?Og(e)?[]:IK(e,this._c):[].concat(n),r],c=l[0],h=l.reduce((f,g)=>{const b=RI(e,g,i);return f.top=In(b.top,f.top),f.right=sl(b.right,f.right),f.bottom=sl(b.bottom,f.bottom),f.left=In(b.left,f.left),f},RI(e,c,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function CK(t){const{width:e,height:n}=DO(t);return{width:e,height:n}}function NK(t,e,n){const r=Us(e),i=Fs(e),o=n==="fixed",l=il(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const h=Ms(0);function f(){h.x=Mg(i)}if(r||!r&&!o)if((ic(e)!=="body"||Dh(i))&&(c=kg(e)),r){const w=il(e,!0,o,e);h.x=w.x+e.clientLeft,h.y=w.y+e.clientTop}else i&&f();o&&!r&&i&&f();const g=i&&!r&&!o?kO(i,c):Ms(0),b=l.left+c.scrollLeft-h.x-g.x,_=l.top+c.scrollTop-h.y-g.y;return{x:b,y:_,width:l.width,height:l.height}}function mb(t){return ns(t).position==="static"}function CI(t,e){if(!Us(t)||ns(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Fs(t)===n&&(n=n.ownerDocument.body),n}function MO(t,e){const n=hr(t);if(Og(t))return n;if(!Us(t)){let i=Ra(t);for(;i&&!zu(i);){if(Ln(i)&&!mb(i))return i;i=Ra(i)}return n}let r=CI(t,e);for(;r&&KG(r)&&mb(r);)r=CI(r,e);return r&&zu(r)&&mb(r)&&!_0(r)?n:r||XG(t)||n}const DK=async function(t){const e=this.getOffsetParent||MO,n=this.getDimensions,r=await n(t.floating);return{reference:NK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function OK(t){return ns(t).direction==="rtl"}const kK={convertOffsetParentRelativeRectToViewportRelativeRect:xK,getDocumentElement:Fs,getClippingRect:RK,getOffsetParent:MO,getElementRects:DK,getClientRects:wK,getDimensions:CK,getScale:Eu,isElement:Ln,isRTL:OK};function jO(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function PK(t,e){let n=null,r;const i=Fs(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),o();const f=t.getBoundingClientRect(),{left:g,top:b,width:_,height:w}=f;if(c||e(),!_||!w)return;const A=Cm(b),R=Cm(i.clientWidth-(g+_)),D=Cm(i.clientHeight-(b+w)),V=Cm(g),z={rootMargin:-A+"px "+-R+"px "+-D+"px "+-V+"px",threshold:In(0,sl(1,h))||1};let Q=!0;function W(se){const C=se[0].intersectionRatio;if(C!==h){if(!Q)return l();C?l(!1,C):r=setTimeout(()=>{l(!1,1e-7)},1e3)}C===1&&!jO(f,t.getBoundingClientRect())&&l(),Q=!1}try{n=new IntersectionObserver(W,{...z,root:i.ownerDocument})}catch{n=new IntersectionObserver(W,z)}n.observe(t)}return l(!0),o}function MK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,f=w0(t),g=i||o?[...f?lh(f):[],...lh(e)]:[];g.forEach(V=>{i&&V.addEventListener("scroll",n,{passive:!0}),o&&V.addEventListener("resize",n)});const b=f&&c?PK(f,n):null;let _=-1,w=null;l&&(w=new ResizeObserver(V=>{let[$]=V;$&&$.target===f&&w&&(w.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var z;(z=w)==null||z.observe(e)})),n()}),f&&!h&&w.observe(f),w.observe(e));let A,R=h?il(t):null;h&&D();function D(){const V=il(t);R&&!jO(R,V)&&n(),R=V,A=requestAnimationFrame(D)}return n(),()=>{var V;g.forEach($=>{i&&$.removeEventListener("scroll",n),o&&$.removeEventListener("resize",n)}),b?.(),(V=w)==null||V.disconnect(),w=null,h&&cancelAnimationFrame(A)}}const pb=Pg,jK=gK,VK=yK,LK=fK,zK=vK,UK=(t,e,n)=>{const r=new Map,i={platform:kK,...n},o={...i.platform,_c:r};return hK(t,e,{...i,platform:o})};var $K=typeof document<"u",FK=function(){},ep=$K?S.useLayoutEffect:FK;function Up(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Up(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Up(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function VO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function NI(t,e){const n=VO(t);return Math.round(e*n)/n}function gb(t){const e=S.useRef(t);return ep(()=>{e.current=t}),e}function BK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:h,open:f}=t,[g,b]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[_,w]=S.useState(r);Up(_,r)||w(r);const[A,R]=S.useState(null),[D,V]=S.useState(null),$=S.useCallback(H=>{H!==se.current&&(se.current=H,R(H))},[]),z=S.useCallback(H=>{H!==C.current&&(C.current=H,V(H))},[]),Q=o||A,W=l||D,se=S.useRef(null),C=S.useRef(null),I=S.useRef(g),k=h!=null,M=gb(h),j=gb(i),L=gb(f),P=S.useCallback(()=>{if(!se.current||!C.current)return;const H={placement:e,strategy:n,middleware:_};j.current&&(H.platform=j.current),UK(se.current,C.current,H).then(he=>{const be={...he,isPositioned:L.current!==!1};pe.current&&!Up(I.current,be)&&(I.current=be,Yn.flushSync(()=>{b(be)}))})},[_,e,n,j,L]);ep(()=>{f===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,b(H=>({...H,isPositioned:!1})))},[f]);const pe=S.useRef(!1);ep(()=>(pe.current=!0,()=>{pe.current=!1}),[]),ep(()=>{if(Q&&(se.current=Q),W&&(C.current=W),Q&&W){if(M.current)return M.current(Q,W,P);P()}},[Q,W,P,M,k]);const ye=S.useMemo(()=>({reference:se,floating:C,setReference:$,setFloating:z}),[$,z]),q=S.useMemo(()=>({reference:Q,floating:W}),[Q,W]),Z=S.useMemo(()=>{const H={position:n,left:0,top:0};if(!q.floating)return H;const he=NI(q.floating,g.x),be=NI(q.floating,g.y);return c?{...H,transform:"translate("+he+"px, "+be+"px)",...VO(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:he,top:be}},[n,c,q.floating,g.x,g.y]);return S.useMemo(()=>({...g,update:P,refs:ye,elements:q,floatingStyles:Z}),[g,P,ye,q,Z])}const LO=(t,e)=>({...jK(t),options:[t,e]}),qK=(t,e)=>({...VK(t),options:[t,e]}),HK=(t,e)=>({...LK(t),options:[t,e]}),GK=(t,e)=>({...zK(t),options:[t,e]}),zO={...kP},KK=zO.useInsertionEffect,QK=KK||(t=>t());function UO(t){const e=S.useRef(()=>{});return QK(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var I_=typeof document<"u"?S.useLayoutEffect:S.useEffect;let DI=!1,ZK=0;const OI=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ZK++;function YK(){const[t,e]=S.useState(()=>DI?OI():void 0);return I_(()=>{t==null&&e(OI())},[]),S.useEffect(()=>{DI=!0},[]),t}const WK=zO.useId,XK=WK||YK;function JK(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const eQ=S.createContext(null),tQ=S.createContext(null),nQ=()=>{var t;return((t=S.useContext(eQ))==null?void 0:t.id)||null},rQ=()=>S.useContext(tQ),sQ="data-floating-ui-focusable";function iQ(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=XK(),o=S.useRef({}),[l]=S.useState(()=>JK()),c=nQ()!=null,[h,f]=S.useState(r.reference),g=UO((w,A,R)=>{o.current.openEvent=w?A:void 0,l.emit("openchange",{open:w,event:A,reason:R,nested:c}),n?.(w,A,R)}),b=S.useMemo(()=>({setPositionReference:f}),[]),_=S.useMemo(()=>({reference:h||r.reference||null,floating:r.floating||null,domReference:r.reference}),[h,r.reference,r.floating]);return S.useMemo(()=>({dataRef:o,open:e,onOpenChange:g,elements:_,events:l,floatingId:i,refs:b}),[e,g,_,l,i,b])}function aQ(t){t===void 0&&(t={});const{nodeId:e}=t,n=iQ({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[o,l]=S.useState(null),[c,h]=S.useState(null),g=i?.domReference||o,b=S.useRef(null),_=rQ();I_(()=>{g&&(b.current=g)},[g]);const w=BK({...t,elements:{...i,...c&&{reference:c}}}),A=S.useCallback(z=>{const Q=Ln(z)?{getBoundingClientRect:()=>z.getBoundingClientRect(),contextElement:z}:z;h(Q),w.refs.setReference(Q)},[w.refs]),R=S.useCallback(z=>{(Ln(z)||z===null)&&(b.current=z,l(z)),(Ln(w.refs.reference.current)||w.refs.reference.current===null||z!==null&&!Ln(z))&&w.refs.setReference(z)},[w.refs]),D=S.useMemo(()=>({...w.refs,setReference:R,setPositionReference:A,domReference:b}),[w.refs,R,A]),V=S.useMemo(()=>({...w.elements,domReference:g}),[w.elements,g]),$=S.useMemo(()=>({...w,...r,refs:D,elements:V,nodeId:e}),[w,D,V,e,r]);return I_(()=>{r.dataRef.current.floatingContext=$;const z=_?.nodesRef.current.find(Q=>Q.id===e);z&&(z.context=$)}),S.useMemo(()=>({...w,context:$,refs:D,elements:V}),[w,D,V,$])}const kI="active",PI="selected";function yb(t,e,n){const r=new Map,i=n==="item";let o=t;if(i&&t){const{[kI]:l,[PI]:c,...h}=t;o=h}return{...n==="floating"&&{tabIndex:-1,[sQ]:""},...o,...e.map(l=>{const c=l?l[n]:null;return typeof c=="function"?t?c(t):null:c}).concat(t).reduce((l,c)=>(c&&Object.entries(c).forEach(h=>{let[f,g]=h;if(!(i&&[kI,PI].includes(f)))if(f.indexOf("on")===0){if(r.has(f)||r.set(f,[]),typeof g=="function"){var b;(b=r.get(f))==null||b.push(g),l[f]=function(){for(var _,w=arguments.length,A=new Array(w),R=0;R<w;R++)A[R]=arguments[R];return(_=r.get(f))==null?void 0:_.map(D=>D(...A)).find(D=>D!==void 0)}}}else l[f]=g}),l),{})}}function oQ(t){t===void 0&&(t=[]);const e=t.map(c=>c?.reference),n=t.map(c=>c?.floating),r=t.map(c=>c?.item),i=S.useCallback(c=>yb(c,t,"reference"),e),o=S.useCallback(c=>yb(c,t,"floating"),n),l=S.useCallback(c=>yb(c,t,"item"),r);return S.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:l}),[i,o,l])}function MI(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const lQ=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:l=0,minItemsVisible:c=4,referenceOverflowThreshold:h=0,scrollRef:f,...g}=ac(t,e),{rects:b,elements:{floating:_}}=e,w=n.current[l],A=f?.current||_,R=_.clientTop||A.clientTop,D=_.clientTop!==0,V=A.clientTop!==0,$=_===A;if(!w)return{};const z={...e,...await LO(-w.offsetTop-_.clientTop-b.reference.height/2-w.offsetHeight/2-o).fn(e)},Q=await pb(MI(z,A.scrollHeight+R+_.clientTop),g),W=await pb(z,{...g,elementContext:"reference"}),se=In(0,Q.top),C=z.y+se,M=(A.scrollHeight>A.clientHeight?j=>j:uh)(In(0,A.scrollHeight+(D&&$||V?R*2:0)-se-In(0,Q.bottom)));if(A.style.maxHeight=M+"px",A.scrollTop=se,i){const j=A.offsetHeight<w.offsetHeight*sl(c,n.current.length)-1||W.top>=-h||W.bottom>=-h;Yn.flushSync(()=>i(j))}return r&&(r.current=await pb(MI({...z,y:C},A.offsetHeight+R+_.clientTop),g)),{y:C}}});function uQ(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:o,scrollRef:l,onChange:c}=e,h=UO(c),f=S.useRef(!1),g=S.useRef(null),b=S.useRef(null);S.useEffect(()=>{if(!i)return;function w(R){if(R.ctrlKey||!A||o.current==null)return;const D=R.deltaY,V=o.current.top>=-.5,$=o.current.bottom>=-.5,z=A.scrollHeight-A.clientHeight,Q=D<0?-1:1,W=D<0?"max":"min";A.scrollHeight<=A.clientHeight||(!V&&D>0||!$&&D<0?(R.preventDefault(),Yn.flushSync(()=>{h(se=>se+Math[W](D,z*Q))})):/firefox/i.test(eK())&&(A.scrollTop+=D))}const A=l?.current||r.floating;if(n&&A)return A.addEventListener("wheel",w),requestAnimationFrame(()=>{g.current=A.scrollTop,o.current!=null&&(b.current={...o.current})}),()=>{g.current=null,b.current=null,A.removeEventListener("wheel",w)}},[i,n,r.floating,o,l,h]);const _=S.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const w=l?.current||r.floating;if(!(!o.current||!w||!f.current)){if(g.current!==null){const A=w.scrollTop-g.current;(o.current.bottom<-.5&&A<-1||o.current.top<-.5&&A>1)&&Yn.flushSync(()=>h(R=>R+A))}requestAnimationFrame(()=>{g.current=w.scrollTop})}}}),[r.floating,h,o,l]);return S.useMemo(()=>i?{floating:_}:{},[i,_])}let kh=S.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});kh.displayName="FloatingContext";let E0=S.createContext(null);E0.displayName="PlacementContext";function cQ(t){return S.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function dQ(){return S.useContext(kh).setReference}function hQ(){let{getFloatingProps:t,slot:e}=S.useContext(kh);return S.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function fQ(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=S.useContext(E0),n=S.useMemo(()=>t,[JSON.stringify(t,(i,o)=>{var l;return(l=o?.outerHTML)!=null?l:o})]);tn(()=>{e?.(n??null)},[e,n]);let r=S.useContext(kh);return S.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let jI=4;function mQ({children:t,enabled:e=!0}){let[n,r]=S.useState(null),[i,o]=S.useState(0),l=S.useRef(null),[c,h]=S.useState(null);pQ(c);let f=e&&n!==null&&c!==null,{to:g="bottom",gap:b=0,offset:_=0,padding:w=0,inner:A}=gQ(n,c),[R,D="center"]=g.split(" ");tn(()=>{f&&o(0)},[f]);let{refs:V,floatingStyles:$,context:z}=aQ({open:f,placement:R==="selection"?D==="center"?"bottom":`bottom-${D}`:D==="center"?`${R}`:`${R}-${D}`,strategy:"absolute",transform:!1,middleware:[LO({mainAxis:R==="selection"?0:b,crossAxis:_}),qK({padding:w}),R!=="selection"&&HK({padding:w}),R==="selection"&&A?lQ({...A,padding:w,overflowRef:l,offset:i,minItemsVisible:jI,referenceOverflowThreshold:w,onFallbackChange(j){var L,P;if(!j)return;let pe=z.elements.floating;if(!pe)return;let ye=parseFloat(getComputedStyle(pe).scrollPaddingBottom)||0,q=Math.min(jI,pe.childElementCount),Z=0,H=0;for(let he of(P=(L=z.elements.floating)==null?void 0:L.childNodes)!=null?P:[])if(ja(he)){let be=he.offsetTop,F=be+he.clientHeight+ye,K=pe.scrollTop,ce=K+pe.clientHeight;if(be>=K&&F<=ce)q--;else{H=Math.max(0,Math.min(F,ce)-Math.max(be,K)),Z=he.clientHeight;break}}q>=1&&o(he=>{let be=Z*q-H+ye;return he>=be?he:be})}}):null,GK({padding:w,apply({availableWidth:j,availableHeight:L,elements:P}){Object.assign(P.floating.style,{overflow:"auto",maxWidth:`${j}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${L}px)`})}})].filter(Boolean),whileElementsMounted:MK}),[Q=R,W=D]=z.placement.split("-");R==="selection"&&(Q="selection");let se=S.useMemo(()=>({anchor:[Q,W].filter(Boolean).join(" ")}),[Q,W]),C=uQ(z,{overflowRef:l,onChange:o}),{getReferenceProps:I,getFloatingProps:k}=oQ([C]),M=tt(j=>{h(j),V.setFloating(j)});return S.createElement(E0.Provider,{value:r},S.createElement(kh.Provider,{value:{setFloating:M,setReference:V.setReference,styles:$,getReferenceProps:I,getFloatingProps:k,slot:se}},t))}function pQ(t){tn(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function gQ(t,e){var n,r,i;let o=vb((n=t?.gap)!=null?n:"var(--anchor-gap, 0)",e),l=vb((r=t?.offset)!=null?r:"var(--anchor-offset, 0)",e),c=vb((i=t?.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:o,offset:l,padding:c}}function vb(t,e,n=void 0){let r=sc(),i=tt((h,f)=>{if(h==null)return[n,null];if(typeof h=="number")return[h,null];if(typeof h=="string"){if(!f)return[n,null];let g=VI(h,f);return[g,b=>{let _=$O(h);{let w=_.map(A=>window.getComputedStyle(f).getPropertyValue(A));r.requestAnimationFrame(function A(){r.nextFrame(A);let R=!1;for(let[V,$]of _.entries()){let z=window.getComputedStyle(f).getPropertyValue($);if(w[V]!==z){w[V]=z,R=!0;break}}if(!R)return;let D=VI(h,f);g!==D&&(b(D),g=D)})}return r.dispose}]}return[n,null]}),o=S.useMemo(()=>i(t,e)[0],[t,e]),[l=o,c]=S.useState();return tn(()=>{let[h,f]=i(t,e);if(c(h),!!f)return f(c)},[t,e]),l}function $O(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...$O(i)]:[r]}return[]}function VI(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}function yQ({children:t,freeze:e},n){let r=R_(e,t);return S.isValidElement(r)?S.cloneElement(r,{ref:n}):$e.createElement($e.Fragment,null,r)}const vQ=$e.forwardRef(yQ);function R_(t,e){let[n,r]=S.useState(e);return!t&&n!==e&&r(e),t?n:e}let T0=S.createContext(null);T0.displayName="OpenClosedContext";var ch=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(ch||{});function bQ(){return S.useContext(T0)}function _Q({value:t,children:e}){return $e.createElement(T0.Provider,{value:t},e)}function xQ(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let To=[];xQ(()=>{function t(e){if(!Co(e.target)||e.target===document.body||To[0]===e.target)return;let n=e.target;n=n.closest(w_),To.unshift(n??e.target),To=To.filter(r=>r!=null&&r.isConnected),To.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function wQ(t){throw new Error("Unexpected object: "+t)}var fn=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(fn||{});function LI(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let o=0;o<n.length;++o)if(!e.resolveDisabled(n[o],o,n))return o;return r}case 1:{i===-1&&(i=n.length);for(let o=i-1;o>=0;--o)if(!e.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=i+1;o<n.length;++o)if(!e.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!e.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(e.resolveId(n[o],o,n)===t.id)return o;return r}case 5:return null;default:wQ(t)}}function FO(t){let e=tt(t),n=S.useRef(!1);S.useEffect(()=>(n.current=!1,()=>{n.current=!0,rO(()=>{n.current&&e()})}),[e])}let EQ=S.createContext(!1);function TQ(){return S.useContext(EQ)}function SQ(t){let e=TQ(),n=S.useContext(qO),[r,i]=S.useState(()=>{var o;if(!e&&n!==null)return(o=n.current)!=null?o:null;if(Lo.isServer)return null;let l=t?.getElementById("headlessui-portal-root");if(l)return l;if(t===null)return null;let c=t.createElement("div");return c.setAttribute("id","headlessui-portal-root"),t.body.appendChild(c)});return S.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),S.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let BO=S.Fragment,AQ=ss(function(t,e){let{ownerDocument:n=null,...r}=t,i=S.useRef(null),o=Ai(CH(_=>{i.current=_}),e),l=T_(i.current),c=n??l,h=SQ(c),f=S.useContext(NQ),g=sc(),b=rs();return FO(()=>{var _;h&&h.childNodes.length<=0&&((_=h.parentElement)==null||_.removeChild(h))}),h?Yn.createPortal($e.createElement("div",{"data-headlessui-portal":"",ref:_=>{g.dispose(),f&&_&&g.add(f.register(_))}},b({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:BO,name:"Portal"})),h):null});function IQ(t,e){let n=Ai(e),{enabled:r=!0,ownerDocument:i,...o}=t,l=rs();return r?$e.createElement(AQ,{...o,ownerDocument:i,ref:n}):l({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:BO,name:"Portal"})}let RQ=S.Fragment,qO=S.createContext(null);function CQ(t,e){let{target:n,...r}=t,i={ref:Ai(e)},o=rs();return $e.createElement(qO.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:RQ,name:"Popover.Group"}))}let NQ=S.createContext(null),DQ=ss(IQ),OQ=ss(CQ),kQ=Object.assign(DQ,{Group:OQ});const Nd={Idle:{kind:"Idle"},Tracked:t=>({kind:"Tracked",position:t}),Moved:{kind:"Moved"}};function HO(t){let e=t.getBoundingClientRect();return`${e.x},${e.y}`}function PQ(t,e,n){let r=Vr();if(e.kind==="Tracked"){let i=function(){o!==HO(t)&&(r.dispose(),n())},{position:o}=e,l=new ResizeObserver(i);l.observe(t),r.add(()=>l.disconnect()),r.addEventListener(window,"scroll",i,{passive:!0}),r.addEventListener(window,"resize",i)}return()=>r.dispose()}var MQ=Object.defineProperty,jQ=(t,e,n)=>e in t?MQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zI=(t,e,n)=>(jQ(t,typeof e!="symbol"?e+"":e,n),n),Qe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Qe||{}),ur=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(ur||{}),js=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(js||{}),GO=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.SetTyping=3]="SetTyping",t[t.RegisterOption=4]="RegisterOption",t[t.UnregisterOption=5]="UnregisterOption",t[t.DefaultToFirstOption=6]="DefaultToFirstOption",t[t.SetActivationTrigger=7]="SetActivationTrigger",t[t.UpdateVirtualConfiguration=8]="UpdateVirtualConfiguration",t[t.SetInputElement=9]="SetInputElement",t[t.SetButtonElement=10]="SetButtonElement",t[t.SetOptionsElement=11]="SetOptionsElement",t[t.MarkInputAsMoved=12]="MarkInputAsMoved",t))(GO||{});function bb(t,e=n=>n){let n=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,r=e(t.options.slice()),i=r.length>0&&r[0].dataRef.current.order!==null?r.sort((l,c)=>l.dataRef.current.order-c.dataRef.current.order):vG(r,l=>l.dataRef.current.domRef.current),o=n?i.indexOf(n):null;return o===-1&&(o=null),{options:i,activeOptionIndex:o}}let VQ={1(t){var e;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1)return t;let n=t.inputElement?Nd.Tracked(HO(t.inputElement)):t.inputPositionState;return{...t,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,inputPositionState:n,__demoMode:!1}},0(t){var e,n;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;if((n=t.dataRef.current)!=null&&n.value){let r=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(r!==-1)return{...t,activeOptionIndex:r,comboboxState:0,__demoMode:!1,inputPositionState:Nd.Idle}}return{...t,comboboxState:0,inputPositionState:Nd.Idle,__demoMode:!1}},3(t,e){return t.isTyping===e.isTyping?t:{...t,isTyping:e.isTyping}},2(t,e){var n,r,i,o;if((n=t.dataRef.current)!=null&&n.disabled||t.optionsElement&&!((r=t.dataRef.current)!=null&&r.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let{options:f,disabled:g}=t.virtual,b=e.focus===fn.Specific?e.idx:LI(e,{resolveItems:()=>f,resolveActiveIndex:()=>{var w,A;return(A=(w=t.activeOptionIndex)!=null?w:f.findIndex(R=>!g(R)))!=null?A:null},resolveDisabled:g,resolveId(){throw new Error("Function not implemented.")}}),_=(i=e.trigger)!=null?i:2;return t.activeOptionIndex===b&&t.activationTrigger===_?t:{...t,activeOptionIndex:b,activationTrigger:_,isTyping:!1,__demoMode:!1}}let l=bb(t);if(l.activeOptionIndex===null){let f=l.options.findIndex(g=>!g.dataRef.current.disabled);f!==-1&&(l.activeOptionIndex=f)}let c=e.focus===fn.Specific?e.idx:LI(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled}),h=(o=e.trigger)!=null?o:2;return t.activeOptionIndex===c&&t.activationTrigger===h?t:{...t,...l,isTyping:!1,activeOptionIndex:c,activationTrigger:h,__demoMode:!1}},4:(t,e)=>{var n,r,i,o;if((n=t.dataRef.current)!=null&&n.virtual)return{...t,options:[...t.options,e.payload]};let l=e.payload,c=bb(t,f=>(f.push(l),f));t.activeOptionIndex===null&&(i=(r=t.dataRef.current).isSelected)!=null&&i.call(r,e.payload.dataRef.current.value)&&(c.activeOptionIndex=c.options.indexOf(l));let h={...t,...c,activationTrigger:2};return(o=t.dataRef.current)!=null&&o.__demoMode&&t.dataRef.current.value===void 0&&(h.activeOptionIndex=0),h},5:(t,e)=>{var n;if((n=t.dataRef.current)!=null&&n.virtual)return{...t,options:t.options.filter(i=>i.id!==e.id)};let r=bb(t,i=>{let o=i.findIndex(l=>l.id===e.id);return o!==-1&&i.splice(o,1),i});return{...t,...r,activationTrigger:2}},6:(t,e)=>t.defaultToFirstOption===e.value?t:{...t,defaultToFirstOption:e.value},7:(t,e)=>t.activationTrigger===e.trigger?t:{...t,activationTrigger:e.trigger},8:(t,e)=>{var n,r;if(t.virtual===null)return{...t,virtual:{options:e.options,disabled:(n=e.disabled)!=null?n:()=>!1}};if(t.virtual.options===e.options&&t.virtual.disabled===e.disabled)return t;let i=t.activeOptionIndex;if(t.activeOptionIndex!==null){let o=e.options.indexOf(t.virtual.options[t.activeOptionIndex]);o!==-1?i=o:i=null}return{...t,activeOptionIndex:i,virtual:{options:e.options,disabled:(r=e.disabled)!=null?r:()=>!1}}},9:(t,e)=>t.inputElement===e.element?t:{...t,inputElement:e.element},10:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},11:(t,e)=>t.optionsElement===e.element?t:{...t,optionsElement:e.element},12(t){return t.inputPositionState.kind!=="Tracked"?t:{...t,inputPositionState:Nd.Moved}}};class S0 extends vO{constructor(e){super(e),zI(this,"actions",{onChange:n=>{let{onChange:r,compare:i,mode:o,value:l}=this.state.dataRef.current;return zs(o,{0:()=>r?.(n),1:()=>{let c=l.slice(),h=c.findIndex(f=>i(f,n));return h===-1?c.push(n):c.splice(h,1),r?.(c)}})},registerOption:(n,r)=>(this.send({type:4,payload:{id:n,dataRef:r}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(r.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:n})}),goToOption:(n,r)=>(this.send({type:6,value:!1}),this.send({type:2,...n,trigger:r})),setIsTyping:n=>{this.send({type:3,isTyping:n})},closeCombobox:()=>{var n,r;this.send({type:1}),this.send({type:6,value:!1}),(r=(n=this.state.dataRef.current).onClose)==null||r.call(n)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:n=>{this.send({type:7,trigger:n})},selectActiveOption:()=>{let n=this.selectors.activeOptionIndex(this.state);if(n!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[n]);else{let{dataRef:r}=this.state.options[n];this.actions.onChange(r.current.value)}this.actions.goToOption({focus:fn.Specific,idx:n})}},setInputElement:n=>{this.send({type:9,element:n})},setButtonElement:n=>{this.send({type:10,element:n})},setOptionsElement:n=>{this.send({type:11,element:n})}}),zI(this,"selectors",{activeDescendantId:n=>{var r,i;let o=this.selectors.activeOptionIndex(n);if(o!==null)return n.virtual?(i=n.options.find(l=>!l.dataRef.current.disabled&&n.dataRef.current.compare(l.dataRef.current.value,n.virtual.options[o])))==null?void 0:i.id:(r=n.options[o])==null?void 0:r.id},activeOptionIndex:n=>{if(n.defaultToFirstOption&&n.activeOptionIndex===null&&(n.virtual?n.virtual.options.length>0:n.options.length>0)){if(n.virtual){let{options:i,disabled:o}=n.virtual,l=i.findIndex(c=>{var h;return!((h=o?.(c))!=null&&h)});if(l!==-1)return l}let r=n.options.findIndex(i=>!i.dataRef.current.disabled);if(r!==-1)return r}return n.activeOptionIndex},activeOption:n=>{var r,i;let o=this.selectors.activeOptionIndex(n);return o===null?null:n.virtual?n.virtual.options[o??0]:(i=(r=n.options[o])==null?void 0:r.dataRef.current.value)!=null?i:null},isActive:(n,r,i)=>{var o;let l=this.selectors.activeOptionIndex(n);return l===null?!1:n.virtual?l===n.dataRef.current.calculateIndex(r):((o=n.options[l])==null?void 0:o.id)===i},shouldScrollIntoView:(n,r,i)=>!(n.virtual||n.__demoMode||n.comboboxState!==0||n.activationTrigger===0||!this.selectors.isActive(n,r,i)),didInputMove(n){return n.inputPositionState.kind==="Moved"}});{let n=this.state.id,r=b0.get(null);this.disposables.add(r.on(_O.Push,i=>{!r.selectors.isTop(i,n)&&this.state.comboboxState===0&&this.actions.closeCombobox()})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}this.disposables.group(n=>{this.on(1,r=>{r.inputElement&&(n.dispose(),n.add(PQ(r.inputElement,r.inputPositionState,()=>{this.send({type:12})})))})})}static new({id:e,virtual:n=null,__demoMode:r=!1}){var i;return new S0({id:e,dataRef:{current:{}},comboboxState:r?0:1,isTyping:!1,options:[],virtual:n?{options:n.options,disabled:(i=n.disabled)!=null?i:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:r,inputPositionState:Nd.Idle})}reduce(e,n){return zs(n.type,VQ,e,n)}}const KO=S.createContext(null);function Ph(t){let e=S.useContext(KO);if(e===null){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,QO),n}return e}function QO({id:t,virtual:e=null,__demoMode:n=!1}){let r=S.useMemo(()=>S0.new({id:t,virtual:e,__demoMode:n}),[]);return FO(()=>r.dispose()),r}let dh=S.createContext(null);dh.displayName="ComboboxDataContext";function oc(t){let e=S.useContext(dh);if(e===null){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,oc),n}return e}let ZO=S.createContext(null);function LQ(t){let e=Ph("VirtualProvider"),n=oc("VirtualProvider"),{options:r}=n.virtual,i=mn(e,w=>w.optionsElement),[o,l]=S.useMemo(()=>{let w=i;if(!w)return[0,0];let A=window.getComputedStyle(w);return[parseFloat(A.paddingBlockStart||A.paddingTop),parseFloat(A.paddingBlockEnd||A.paddingBottom)]},[i]),c=YH({enabled:r.length!==0,scrollPaddingStart:o,scrollPaddingEnd:l,count:r.length,estimateSize(){return 40},getScrollElement(){return e.state.optionsElement},overscan:12}),[h,f]=S.useState(0);tn(()=>{f(w=>w+1)},[r]);let g=c.getVirtualItems(),b=mn(e,w=>w.activationTrigger===js.Pointer),_=mn(e,e.selectors.activeOptionIndex);return g.length===0?null:$e.createElement(ZO.Provider,{value:c},$e.createElement("div",{style:{position:"relative",width:"100%",height:`${c.getTotalSize()}px`},ref:w=>{w&&(b||_!==null&&r.length>_&&c.scrollToIndex(_))}},g.map(w=>{var A;return $e.createElement(S.Fragment,{key:w.key},$e.cloneElement((A=t.children)==null?void 0:A.call(t,{...t.slot,option:r[w.index]}),{key:`${h}-${w.key}`,"data-index":w.index,"aria-setsize":r.length,"aria-posinset":w.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${w.start}px)`,overflowAnchor:"none"}}))})))}let zQ=S.Fragment;function UQ(t,e){let n=S.useId(),r=m0(),{value:i,defaultValue:o,onChange:l,form:c,name:h,by:f,invalid:g=!1,disabled:b=r||!1,onClose:_,__demoMode:w=!1,multiple:A=!1,immediate:R=!1,virtual:D=null,nullable:V,...$}=t,z=pH(o),[Q=A?[]:void 0,W]=mH(i,l,z),se=QO({id:n,virtual:D,__demoMode:w}),C=S.useRef({static:!1,hold:!1}),I=XH(f),k=tt(ke=>D?f===null?D.options.indexOf(ke):D.options.findIndex(He=>I(He,ke)):se.state.options.findIndex(He=>I(He.dataRef.current.value,ke))),M=S.useCallback(ke=>zs(P.mode,{[ur.Multi]:()=>Q.some(He=>I(He,ke)),[ur.Single]:()=>I(Q,ke)}),[Q]),j=mn(se,ke=>ke.virtual),L=tt(()=>_?.()),P=S.useMemo(()=>({__demoMode:w,immediate:R,optionsPropsRef:C,value:Q,defaultValue:z,disabled:b,invalid:g,mode:A?ur.Multi:ur.Single,virtual:D?j:null,onChange:W,isSelected:M,calculateIndex:k,compare:I,onClose:L}),[w,R,C,Q,z,b,g,A,D,j,W,M,k,I,L]);tn(()=>{var ke;D&&se.send({type:GO.UpdateVirtualConfiguration,options:D.options,disabled:(ke=D.disabled)!=null?ke:null})},[D,D?.options,D?.disabled]),tn(()=>{se.state.dataRef.current=P},[P]);let[pe,ye,q,Z]=mn(se,ke=>[ke.comboboxState,ke.buttonElement,ke.inputElement,ke.optionsElement]),H=b0.get(null),he=mn(H,S.useCallback(ke=>H.selectors.isTop(ke,n),[H,n]));xG(he,[ye,q,Z],()=>se.actions.closeCombobox());let be=mn(se,se.selectors.activeOptionIndex),F=mn(se,se.selectors.activeOption),K=hl({open:pe===Qe.Open,disabled:b,invalid:g,activeIndex:be,activeOption:F,value:Q}),[ce,de]=PH(),xe=e===null?{}:{ref:e},we=S.useCallback(()=>{if(z!==void 0)return W?.(z)},[W,z]),_e=rs();return $e.createElement(de,{value:ce,props:{htmlFor:q?.id},slot:{open:pe===Qe.Open,disabled:b}},$e.createElement(mQ,null,$e.createElement(dh.Provider,{value:P},$e.createElement(KO.Provider,{value:se},$e.createElement(_Q,{value:zs(pe,{[Qe.Open]:ch.Open,[Qe.Closed]:ch.Closed})},h!=null&&$e.createElement(xH,{disabled:b,data:Q!=null?{[h]:Q}:{},form:c,onReset:we}),_e({ourProps:xe,theirProps:$,slot:K,defaultTag:zQ,name:"Combobox"}))))))}let $Q="input";function FQ(t,e){var n,r;let i=Ph("Combobox.Input"),o=oc("Combobox.Input"),l=S.useId(),c=uO(),{id:h=c||`headlessui-combobox-input-${l}`,onChange:f,displayValue:g,disabled:b=o.disabled||!1,autoFocus:_=!1,type:w="text",...A}=t,R=S.useRef(null),D=Ai(R,e,dQ(),i.actions.setInputElement),[V,$]=mn(i,K=>[K.comboboxState,K.isTyping]),z=sc(),Q=tt(()=>{i.actions.onChange(null),i.state.optionsElement&&(i.state.optionsElement.scrollTop=0),i.actions.goToOption({focus:fn.Nothing})}),W=S.useMemo(()=>{var K;return typeof g=="function"&&o.value!==void 0?(K=g(o.value))!=null?K:"":typeof o.value=="string"?o.value:""},[o.value,g]);xI(([K,ce],[de,xe])=>{if(i.state.isTyping)return;let we=R.current;we&&((xe===Qe.Open&&ce===Qe.Closed||K!==de)&&(we.value=K),requestAnimationFrame(()=>{if(i.state.isTyping||!we||nO(we))return;let{selectionStart:_e,selectionEnd:ke}=we;Math.abs((ke??0)-(_e??0))===0&&_e===0&&we.setSelectionRange(we.value.length,we.value.length)}))},[W,V,$]),xI(([K],[ce])=>{if(K===Qe.Open&&ce===Qe.Closed){if(i.state.isTyping)return;let de=R.current;if(!de)return;let xe=de.value,{selectionStart:we,selectionEnd:_e,selectionDirection:ke}=de;de.value="",de.value=xe,ke!==null?de.setSelectionRange(we,_e,ke):de.setSelectionRange(we,_e)}},[V]);let se=S.useRef(!1),C=tt(()=>{se.current=!0}),I=tt(()=>{z.nextFrame(()=>{se.current=!1})}),k=tt(K=>{switch(i.actions.setIsTyping(!0),K.key){case Pn.Enter:if(i.state.comboboxState!==Qe.Open||se.current)return;if(K.preventDefault(),K.stopPropagation(),i.selectors.activeOptionIndex(i.state)===null){i.actions.closeCombobox();return}i.actions.selectActiveOption(),o.mode===ur.Single&&i.actions.closeCombobox();break;case Pn.ArrowDown:return K.preventDefault(),K.stopPropagation(),zs(i.state.comboboxState,{[Qe.Open]:()=>i.actions.goToOption({focus:fn.Next}),[Qe.Closed]:()=>i.actions.openCombobox()});case Pn.ArrowUp:return K.preventDefault(),K.stopPropagation(),zs(i.state.comboboxState,{[Qe.Open]:()=>i.actions.goToOption({focus:fn.Previous}),[Qe.Closed]:()=>{Yn.flushSync(()=>i.actions.openCombobox()),o.value||i.actions.goToOption({focus:fn.Last})}});case Pn.Home:if(i.state.comboboxState===Qe.Closed||K.shiftKey)break;return K.preventDefault(),K.stopPropagation(),i.actions.goToOption({focus:fn.First});case Pn.PageUp:return K.preventDefault(),K.stopPropagation(),i.actions.goToOption({focus:fn.First});case Pn.End:if(i.state.comboboxState===Qe.Closed||K.shiftKey)break;return K.preventDefault(),K.stopPropagation(),i.actions.goToOption({focus:fn.Last});case Pn.PageDown:return K.preventDefault(),K.stopPropagation(),i.actions.goToOption({focus:fn.Last});case Pn.Escape:return i.state.comboboxState!==Qe.Open?void 0:(K.preventDefault(),i.state.optionsElement&&!o.optionsPropsRef.current.static&&K.stopPropagation(),o.mode===ur.Single&&o.value===null&&Q(),i.actions.closeCombobox());case Pn.Tab:if(i.actions.setIsTyping(!1),i.state.comboboxState!==Qe.Open)return;o.mode===ur.Single&&i.state.activationTrigger!==js.Focus&&i.actions.selectActiveOption(),i.actions.closeCombobox();break}}),M=tt(K=>{f?.(K),o.mode===ur.Single&&K.target.value===""&&Q(),i.actions.openCombobox()}),j=tt(K=>{var ce,de,xe;let we=(ce=K.relatedTarget)!=null?ce:To.find(_e=>_e!==K.currentTarget);if(!((de=i.state.optionsElement)!=null&&de.contains(we))&&!((xe=i.state.buttonElement)!=null&&xe.contains(we))&&i.state.comboboxState===Qe.Open)return K.preventDefault(),o.mode===ur.Single&&o.value===null&&Q(),i.actions.closeCombobox()}),L=tt(K=>{var ce,de,xe;let we=(ce=K.relatedTarget)!=null?ce:To.find(_e=>_e!==K.currentTarget);(de=i.state.buttonElement)!=null&&de.contains(we)||(xe=i.state.optionsElement)!=null&&xe.contains(we)||o.disabled||o.immediate&&i.state.comboboxState!==Qe.Open&&z.microTask(()=>{Yn.flushSync(()=>i.actions.openCombobox()),i.actions.setActivationTrigger(js.Focus)})}),P=Ng(),pe=NH(),{isFocused:ye,focusProps:q}=tO({autoFocus:_}),{isHovered:Z,hoverProps:H}=eO({isDisabled:b}),he=mn(i,K=>K.optionsElement),be=hl({open:V===Qe.Open,disabled:b,invalid:o.invalid,hover:Z,focus:ye,autofocus:_}),F=p0({ref:D,id:h,role:"combobox",type:w,"aria-controls":he?.id,"aria-expanded":V===Qe.Open,"aria-activedescendant":mn(i,i.selectors.activeDescendantId),"aria-labelledby":P,"aria-describedby":pe,"aria-autocomplete":"list",defaultValue:(r=(n=t.defaultValue)!=null?n:o.defaultValue!==void 0?g?.(o.defaultValue):null)!=null?r:o.defaultValue,disabled:b||void 0,autoFocus:_,onCompositionStart:C,onCompositionEnd:I,onKeyDown:k,onChange:M,onFocus:L,onBlur:j},q,H);return rs()({ourProps:F,theirProps:A,slot:be,defaultTag:$Q,name:"Combobox.Input"})}let BQ="button";function qQ(t,e){let n=Ph("Combobox.Button"),r=oc("Combobox.Button"),[i,o]=S.useState(null),l=Ai(e,o,n.actions.setButtonElement),c=S.useId(),{id:h=`headlessui-combobox-button-${c}`,disabled:f=r.disabled||!1,autoFocus:g=!1,...b}=t,[_,w,A]=mn(n,L=>[L.comboboxState,L.inputElement,L.optionsElement]),R=SO(w),D=_===Qe.Open;TG(D,{trigger:i,action:S.useCallback(L=>{if(i!=null&&i.contains(L.target)||w!=null&&w.contains(L.target))return xd.Ignore;let P=L.target.closest('[role="option"]:not([data-disabled])');return ja(P)?xd.Select(P):A!=null&&A.contains(L.target)?xd.Ignore:xd.Close},[i,w,A]),close:n.actions.closeCombobox,select:n.actions.selectActiveOption});let V=tt(L=>{switch(L.key){case Pn.Space:case Pn.Enter:L.preventDefault(),L.stopPropagation(),n.state.comboboxState===Qe.Closed&&Yn.flushSync(()=>n.actions.openCombobox()),R();return;case Pn.ArrowDown:L.preventDefault(),L.stopPropagation(),n.state.comboboxState===Qe.Closed&&(Yn.flushSync(()=>n.actions.openCombobox()),n.state.dataRef.current.value||n.actions.goToOption({focus:fn.First})),R();return;case Pn.ArrowUp:L.preventDefault(),L.stopPropagation(),n.state.comboboxState===Qe.Closed&&(Yn.flushSync(()=>n.actions.openCombobox()),n.state.dataRef.current.value||n.actions.goToOption({focus:fn.Last})),R();return;case Pn.Escape:if(n.state.comboboxState!==Qe.Open)return;L.preventDefault(),n.state.optionsElement&&!r.optionsPropsRef.current.static&&L.stopPropagation(),Yn.flushSync(()=>n.actions.closeCombobox()),R();return;default:return}}),$=JH(()=>{n.state.comboboxState===Qe.Open?n.actions.closeCombobox():n.actions.openCombobox(),R()}),z=Ng([h]),{isFocusVisible:Q,focusProps:W}=tO({autoFocus:g}),{isHovered:se,hoverProps:C}=eO({isDisabled:f}),{pressed:I,pressProps:k}=aH({disabled:f}),M=hl({open:_===Qe.Open,active:I||_===Qe.Open,disabled:f,invalid:r.invalid,value:r.value,hover:se,focus:Q}),j=p0({ref:l,id:h,type:AG(t,i),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":A?.id,"aria-expanded":_===Qe.Open,"aria-labelledby":z,disabled:f||void 0,autoFocus:g,onKeyDown:V},$,W,C,k);return rs()({ourProps:j,theirProps:b,slot:M,defaultTag:BQ,name:"Combobox.Button"})}let HQ="div",GQ=__.RenderStrategy|__.Static;function KQ(t,e){var n,r,i;let o=S.useId(),{id:l=`headlessui-combobox-options-${o}`,hold:c=!1,anchor:h,portal:f=!1,modal:g=!0,transition:b=!1,..._}=t,w=Ph("Combobox.Options"),A=oc("Combobox.Options"),R=cQ(h);R&&(f=!0);let[D,V]=fQ(R),[$,z]=S.useState(null),Q=hQ(),W=Ai(e,R?D:null,w.actions.setOptionsElement,z),[se,C,I,k,M]=mn(w,gt=>[gt.comboboxState,gt.inputElement,gt.buttonElement,gt.optionsElement,gt.activationTrigger]),j=T_(C||I),L=T_(k),P=bQ(),[pe,ye]=zG(b,$,P!==null?(P&ch.Open)===ch.Open:se===Qe.Open);hG(pe,C,w.actions.closeCombobox);let q=A.__demoMode?!1:g&&se===Qe.Open;kG(q,L);let Z=A.__demoMode?!1:g&&se===Qe.Open;dG(Z,{allowed:S.useCallback(()=>[C,I,k],[C,I,k])});let H=mn(w,w.selectors.didInputMove)?!1:pe;tn(()=>{var gt;A.optionsPropsRef.current.static=(gt=t.static)!=null?gt:!1},[A.optionsPropsRef,t.static]),tn(()=>{A.optionsPropsRef.current.hold=c},[A.optionsPropsRef,c]),qG(se===Qe.Open,{container:k,accept(gt){return gt.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:gt.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(gt){gt.setAttribute("role","none")}});let he=Ng([I?.id]),be=hl({open:se===Qe.Open,option:void 0}),F=tt(()=>{w.actions.setActivationTrigger(js.Pointer)}),K=tt(gt=>{gt.preventDefault(),w.actions.setActivationTrigger(js.Pointer)}),ce=p0(R?Q():{},{"aria-labelledby":he,role:"listbox","aria-multiselectable":A.mode===ur.Multi?!0:void 0,id:l,ref:W,style:{..._.style,...V,"--input-width":oI(pe,C,!0).width,"--button-width":oI(pe,I,!0).width},onWheel:M===js.Pointer?void 0:F,onMouseDown:K,...LG(ye)}),de=pe&&se===Qe.Closed&&!t.static,xe=R_(de,(n=A.virtual)==null?void 0:n.options),we=R_(de,A.value),_e=S.useCallback(gt=>A.compare(we,gt),[A.compare,we]),ke=S.useMemo(()=>{if(!A.virtual)return A;if(xe===void 0)throw new Error("Missing `options` in virtual mode");return xe!==A.virtual.options?{...A,virtual:{...A.virtual,options:xe}}:A},[A,xe,(r=A.virtual)==null?void 0:r.options]);A.virtual&&Object.assign(_,{children:$e.createElement(dh.Provider,{value:ke},$e.createElement(LQ,{slot:be},_.children))});let He=rs(),$n=S.useMemo(()=>A.mode===ur.Multi?A:{...A,isSelected:_e},[A,_e]);return $e.createElement(kQ,{enabled:f?t.static||pe:!1,ownerDocument:j},$e.createElement(dh.Provider,{value:$n},He({ourProps:ce,theirProps:{..._,children:$e.createElement(vQ,{freeze:de},typeof _.children=="function"?(i=_.children)==null?void 0:i.call(_,be):_.children)},slot:be,defaultTag:HQ,features:GQ,visible:H,name:"Combobox.Options"})))}let QQ="div";function ZQ(t,e){var n,r,i;let o=oc("Combobox.Option"),l=Ph("Combobox.Option"),c=S.useId(),{id:h=`headlessui-combobox-option-${c}`,value:f,disabled:g=(i=(r=(n=o.virtual)==null?void 0:n.disabled)==null?void 0:r.call(n,f))!=null?i:!1,order:b=null,..._}=t,[w]=mn(l,ye=>[ye.inputElement]),A=SO(w),R=mn(l,S.useCallback(ye=>l.selectors.isActive(ye,f,h),[f,h])),D=o.isSelected(f),V=S.useRef(null),$=dl({disabled:g,value:f,domRef:V,order:b}),z=S.useContext(ZO),Q=Ai(e,V,z?z.measureElement:null),W=tt(()=>{l.actions.setIsTyping(!1),l.actions.onChange(f)});tn(()=>l.actions.registerOption(h,$),[$,h]);let se=mn(l,S.useCallback(ye=>l.selectors.shouldScrollIntoView(ye,f,h),[f,h]));tn(()=>{if(se)return Vr().requestAnimationFrame(()=>{var ye,q;(q=(ye=V.current)==null?void 0:ye.scrollIntoView)==null||q.call(ye,{block:"nearest"})})},[se,V]);let C=tt(ye=>{ye.preventDefault(),ye.button===v0.Left&&(g||(W(),E_()||requestAnimationFrame(()=>A()),o.mode===ur.Single&&l.actions.closeCombobox()))}),I=tt(()=>{if(g)return l.actions.goToOption({focus:fn.Nothing});let ye=o.calculateIndex(f);l.actions.goToOption({focus:fn.Specific,idx:ye})}),k=PG(),M=tt(ye=>k.update(ye)),j=tt(ye=>{if(!k.wasMoved(ye)||g||R&&l.state.activationTrigger===js.Pointer)return;let q=o.calculateIndex(f);l.actions.goToOption({focus:fn.Specific,idx:q},js.Pointer)}),L=tt(ye=>{k.wasMoved(ye)&&(g||R&&(o.optionsPropsRef.current.hold||l.state.activationTrigger===js.Pointer&&l.actions.goToOption({focus:fn.Nothing})))}),P=hl({active:R,focus:R,selected:D,disabled:g}),pe={id:h,ref:Q,role:"option",tabIndex:g===!0?void 0:-1,"aria-disabled":g===!0?!0:void 0,"aria-selected":D,disabled:void 0,onMouseDown:C,onFocus:I,onPointerEnter:M,onMouseEnter:M,onPointerMove:j,onMouseMove:j,onPointerLeave:L,onMouseLeave:L};return rs()({ourProps:pe,theirProps:_,slot:P,defaultTag:QQ,name:"Combobox.Option"})}let YQ=ss(UQ),WQ=ss(qQ),XQ=ss(FQ),JQ=LH,eZ=ss(KQ),tZ=ss(ZQ),Nm=Object.assign(YQ,{Input:XQ,Button:WQ,Label:JQ,Options:eZ,Option:tZ});const nZ=[],YO=$e.memo(function({value:e,seed:n,placeholder:r,onSelect:i}){const[o,l]=S.useState(e??""),[c,h]=S.useState([]),f=$e.useRef(null);S.useEffect(()=>{l(e??"")},[e]),S.useEffect(()=>()=>{f.current&&window.clearTimeout(f.current)},[]);function g(_){const w=_?.trim()??"";i(w||null),h([])}function b(_,w=250){f.current&&window.clearTimeout(f.current),f.current=window.setTimeout(()=>{g(_),f.current=null},w)}return v.jsx(Nm,{value:e,onChange:_=>{f.current&&(window.clearTimeout(f.current),f.current=null),i(_),h([])},children:v.jsxs("div",{className:"relative mt-1",children:[v.jsx(Nm.Input,{className:"w-full px-3 py-2 rounded bg-surface border border-border text-text-main",value:o,onChange:_=>{const w=_.target.value;l(w),h(nZ.filter(A=>A.toLowerCase().includes(w.toLowerCase()))),b(w)},onBlur:()=>{f.current&&window.clearTimeout(f.current),g(o)},onKeyDown:_=>{(_.key==="Enter"||_.key==="Tab")&&(f.current&&window.clearTimeout(f.current),g(o))},placeholder:r}),c.length>0&&v.jsx(Nm.Options,{className:"absolute mt-1 w-full bg-surface border border-border rounded-md shadow-lg max-h-56 overflow-auto z-10",children:c.map(_=>v.jsx(Nm.Option,{value:_,className:({active:w})=>`px-3 py-2 cursor-pointer ${w?"bg-surface-highlight":""}`,children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"truncate",children:_}),v.jsxs("span",{className:"text-xs text-text-muted",children:["seed ",n]})]})},_))})]})})});YO.displayName="PlayerCombobox";function UI({isUp:t,isDown:e}){return t?v.jsx("span",{className:"inline-flex items-center",children:v.jsx(AR,{className:"mx-1 h-4 w-4 text-success"})}):e?v.jsx("span",{className:"inline-flex items-center",children:v.jsx(SR,{className:"mx-1 h-4 w-4 text-error"})}):v.jsx("span",{className:"inline-flex items-center",children:v.jsx("span",{className:"mx-2 h-2 w-2 bg-text-muted rounded-full"})})}function $I(t,e){const[n,r]=S.useState(()=>{const o=localStorage.getItem(t);if(o)try{return JSON.parse(o)}catch{}return typeof e=="function"?e():e});S.useEffect(()=>{try{localStorage.setItem(t,JSON.stringify(n))}catch{}},[t,n]);const i=S.useCallback(()=>{r(typeof e=="function"?e():e);try{localStorage.removeItem(t)}catch{}},[t]);return[n,r,i]}const Dd={playerNames:["","","",""],matches:[{},{},{}]},rZ=[Dd,Dd,Dd,Dd];function sZ(){const[t,e,n]=$I("paddleup_courts",rZ),[r,i,o]=$I("paddleup_round",1),l=S.useCallback(()=>{n(),o()},[n,o]);return{courts:t,setCourts:e,resetCourts:n,round:r,setRound:i,resetRound:o,resetAllStorage:l}}function iZ(){return Vb().length||K_({apiKey:"AIzaSyBn06ZTtPhI0iJhPKeQwDH1TTRdhPZiBn0",authDomain:"paddleup-thechallenge.firebaseapp.com",projectId:"paddleup-thechallenge",appId:"1:490973136832:web:1811051408fdde8fbcea25",messagingSenderId:"490973136832"}),c2()}function aZ(t){const e=iZ(),[n,r]=S.useState(null),[i,o]=S.useState(!1),l=S.useRef(!1);S.useRef(null),S.useRef(null),S.useEffect(()=>{{o(!1),r(null);return}},[e,t]);const c=S.useCallback(async h=>{},[e,t]);return{data:n,write:c,connected:i,pending:l.current}}function oZ(t){const{courts:e,setCourts:n,round:r,setRound:i,resetAllStorage:o}=sZ(),{data:l,write:c,connected:h,pending:f}=aZ(t),g=S.useCallback(async _=>{const w=typeof _=="function"?_(e):_;return n(w),!0},[e,n,c,t]),b=S.useCallback(async _=>{i(_)},[i,c,t]);return{courts:e,setCourts:g,round:r,setRound:b,resetAllStorage:o,remoteData:l,writeRemote:c,connected:h,pending:f}}const jg=4,WO=(t,e)=>{if(e===3)return t;if(e===2||e===1)return Math.ceil(WO(t,e+1)/3);throw new Error("Invalid round number")},_b=t=>String.fromCharCode(65+t),lZ=(t,e)=>t===e?_b(t):`${_b(t)}${_b(e)}`;function uZ(t,e=1){const n=Array.from({length:t},()=>[]);for(let r=0;r<jg;r++){const i=e+r*t,o=Array.from({length:t},(c,h)=>i+h),l=r%2===0?o:o.slice().reverse();for(let c=0;c<t;c++)n[c].push(l[c])}return n}const $p=(t,e)=>{if(t<=0)throw new Error("totalCourts must be greater than zero.");const n=WO(t,e),r=Math.floor(t/n),i=t%n,o=[];let l=0,c=1;for(let h=0;h<n;h++){const f=r+(h<i?1:0),g=lZ(l,l+f-1),b=uZ(f,c);for(let _=0;_<f;_++)o.push({seeds:b[_],tier:g,round:e});c+=f*jg,l+=f}return o},FI=t=>t.includes("")?(t.charCodeAt(0)+t.charCodeAt(2))/2:t.charCodeAt(0),C_=(t,e)=>FI(t)-FI(e),BI=(t,e)=>t.tier!==e.tier?C_(t.tier,e.tier):t.courtRank!==e.courtRank?t.courtRank-e.courtRank:t.wins!==e.wins?e.wins-t.wins:t.pointDifferential!==e.pointDifferential?e.pointDifferential-t.pointDifferential:t.seed-e.seed;function cZ(t,e){if(!t?.length)throw new Error("courts array is required.");if(![1,2,3].includes(e))throw new Error("Supported rounds are 1, 2, or 3.");const n=$p(t.length,e),r=t.flatMap((o,l)=>{const c=o.playerNames.map((f,g)=>({name:f,courtIndex:l,tier:n[l].tier,courtRank:0,wins:0,losses:0,pointDifferential:0,seed:n[l].seeds[g],roundPlace:0,nextCourt:0,nextTier:""}));return[{teamA:[0,1],teamB:[2,3],score:o.matches[0]},{teamA:[0,2],teamB:[1,3],score:o.matches[1]},{teamA:[0,3],teamB:[1,2],score:o.matches[2]}].forEach(f=>{const{scoreA:g=0,scoreB:b=0}=f.score;f.teamA.forEach(_=>{const w=c[_];w.pointDifferential+=g-b,g>b?w.wins+=1:w.losses+=1}),f.teamB.forEach(_=>{const w=c[_];w.pointDifferential+=b-g,b>g?w.wins+=1:w.losses+=1})}),c});r.sort(BI);const i=t.map(()=>1);for(const o of r)o.courtRank=i[o.courtIndex],i[o.courtIndex]+=1;if(r.sort(BI),r.forEach((o,l)=>{o.roundPlace=l+1}),e<3){const o=$p(t.length,e+1);r.forEach(l=>{const c=o.findIndex(h=>h.seeds.includes(l.roundPlace));l.nextCourt=c+1,l.nextTier=o[c].tier})}return r}const dZ=(t,e)=>{const n=e+1,r=Math.ceil(t.length/jg);return $p(r,n).map(l=>({playerNames:l.seeds.map(c=>t.find(h=>h.roundPlace===c)?.name||""),matches:[{},{},{}]}))};function hZ(){const{courts:e,setCourts:n,round:r,setRound:i,resetAllStorage:o,remoteData:l,connected:c,pending:h}=oZ(null),[f,g]=S.useState(null),b=f??l?.courts??e,_=l?.round??r,w=S.useCallback(pe=>{const ye=typeof pe=="function"?pe(b):pe;console.log("[useMatchCalculator] setCourts -> next courts count:",Array.isArray(ye)?ye.length:typeof ye),g(ye);const q=n(ye);q&&typeof q.then=="function"&&q.then(Z=>{Z||g(null)}).catch(()=>g(null))},[n,b,g]),A=S.useCallback(pe=>{i(pe)},[i]),[R,D]=S.useState(null),[V,$]=S.useState(0),[z]=S.useState(!1),Q=S.useCallback((pe,ye,q)=>{const Z=(q??"").toString(),H=new Set;b.forEach((he,be)=>he.playerNames.forEach((F,K)=>{be===pe&&K===ye||F&&H.add(F)})),!Z||!H.has(Z)||b[pe].playerNames[ye]===Z?(D(null),w(he=>he.map((be,F)=>F!==pe?be:{...be,playerNames:be.playerNames.map((K,ce)=>ce===ye?Z:K)}))):D(`${Z} is already selected in another slot`)},[b,w]),W=S.useCallback((pe,ye,q,Z)=>{w(H=>H.map((he,be)=>be!==pe?he:{...he,matches:he.matches.map((F,K)=>K===ye?{...F,[q]:Z}:F)}))},[w]),se=S.useMemo(()=>cZ(b,_),[b,_]),C=S.useCallback(()=>{const pe=dZ(se,_);A(_+1),w(pe)},[se,_,w,A]),I=S.useCallback(()=>{window.confirm("Are you sure you want to clear all data and start over?")&&(o(),D(null))},[o]),k=S.useCallback(()=>{},[]),M=b.length*3,j=b.reduce((pe,ye)=>pe+ye.matches.filter(q=>q.scoreA!==void 0&&q.scoreB!==void 0).length,0),L=Math.round(j/Math.max(1,M)*100);return{draws:S.useMemo(()=>$p(b.length,_),[b.length,_]),courts:b,setCourts:w,round:_,setRound:A,duplicateError:R,activeView:V,setActiveView:$,copyFeedback:z,connected:!!l&&!!c,pending:h??!1,liveMatchId:null,setPlayerName:Q,setScore:W,advanceToNextRound:C,resetAll:I,copyRankingsToClipboard:k,playerRankings:se,totalMatches:M,completedMatches:j,progressPercent:L}}const qI=t=>{if(!t||isNaN(t))return String(t);const e=t%100;if(e>=11&&e<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`;default:return`${t}th`}};function fZ(){const{draws:t,courts:e,round:n,setRound:r,duplicateError:i,activeView:o,setActiveView:l,copyFeedback:c,connected:h,setCourts:f,setPlayerName:g,setScore:b,advanceToNextRound:_,resetAll:w,copyRankingsToClipboard:A,totalMatches:R,completedMatches:D,progressPercent:V,playerRankings:$}=hZ(),z=S.useCallback(({tier:C,nextTier:I})=>{const k=C_(C,I)>0,M=C_(C,I)<0;return v.jsx(UI,{isUp:k,isDown:M})},[]),Q=S.useCallback(({seed:C,roundPlace:I})=>{const k=C>I,M=C<I;return v.jsx(UI,{isUp:k,isDown:M})},[]),W=D<R,se=W?"w-full bg-surface text-text-muted shadow-none cursor-not-allowed":"w-full bg-success text-white hover:bg-success/90 shadow-lg shadow-success/20";return v.jsx("div",{className:"space-y-8",children:v.jsx("div",{className:"min-h-[60vh] bg-background text-text-main p-4 sm:p-6",children:v.jsxs("div",{className:"mx-auto",children:[v.jsxs("header",{className:"mb-4 text-center",children:[v.jsxs("div",{className:"flex items-center justify-center gap-3",children:[v.jsx("h1",{className:"text-3xl sm:text-2xl font-extrabold tracking-tight",children:"Match Calculator"}),v.jsxs("div",{className:"text-xs flex items-center gap-2",children:[v.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-semibold ${h?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:h?"Live":"Offline"}),v.jsx("span",{className:"text-[11px] text-text-muted",children:"Local mode"})]})]}),v.jsx("p",{className:"text-sm text-text-muted mt-1 max-w-prose mx-auto",children:"Enter scores to compute round rankings and next courts."}),v.jsx("div",{className:"mt-3 h-0.5 bg-gradient-to-r from-primary via-text-accent to-success rounded"})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 items-start",children:[v.jsxs("div",{className:"lg:col-span-1 space-y-4 sticky top-4 z-20",children:[v.jsx(Ue,{className:"p-2 bg-surface shadow-md",children:v.jsx("div",{className:"flex p-1 bg-surface-alt rounded-lg",children:[1,2,3].map(C=>v.jsxs("button",{onClick:()=>{r(C)},className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${n===C?"bg-surface-highlight text-text-main shadow-sm":"text-text-muted hover:text-text-main"}`,children:["Round ",C]},C))})}),v.jsx("div",{className:"lg:hidden overflow-x-auto pb-2",children:v.jsxs("div",{className:"flex gap-2 min-w-max",children:[e.map((C,I)=>v.jsxs("button",{onClick:()=>l(I),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${o===I?"bg-primary text-white shadow-md":"bg-surface text-text-main border border-border hover:bg-surface-highlight"}`,children:[v.jsxs("span",{children:["Court ",I+1]}),v.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${o===I?"bg-white/20 text-white":"bg-surface-highlight text-text-muted"}`,children:t[I].tier})]},I)),v.jsx("div",{className:"w-px bg-border mx-1"}),v.jsx("button",{onClick:()=>l("rankings"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${o==="rankings"?"bg-warning text-surface shadow-md":"bg-surface text-text-main border border-border hover:bg-surface-highlight"}`,children:"Rankings"})]})}),v.jsxs("div",{className:"hidden lg:flex flex-col gap-2",children:[e.map((C,I)=>v.jsxs("button",{onClick:()=>l(I),className:`flex items-center justify-between px-4 py-3 rounded-lg text-sm font-medium transition-all text-left group ${o===I?"bg-primary/10 text-primary border-l-4 border-primary shadow-sm":"bg-surface text-text-muted border-l-4 border-transparent hover:bg-surface-highlight hover:text-text-main"}`,children:[v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx(x1,{className:"h-4 w-4 opacity-70"}),"Court ",I+1]}),v.jsx(YA,{tierId:t[I].tier,size:"xs"})]},I)),v.jsx("div",{className:"h-px bg-border my-2"}),v.jsxs("button",{onClick:()=>l("rankings"),className:`flex items-center gap-2 px-4 py-3 rounded-lg text-sm font-medium transition-all text-left ${o==="rankings"?"bg-warning/10 text-warning border-l-4 border-warning shadow-sm":"bg-surface text-text-muted border-l-4 border-transparent hover:bg-surface-highlight hover:text-text-main"}`,children:[v.jsx(Wn,{className:"h-4 w-4 opacity-70"}),"Round Rankings"]})]}),v.jsxs("div",{className:"hidden lg:block pt-4 space-y-4",children:[v.jsxs("div",{className:"bg-surface p-3 rounded-lg border border-border",children:[v.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[v.jsx("span",{className:"text-text-muted font-medium",children:"Round Progress"}),v.jsxs("span",{className:"text-primary font-bold",children:[V,"%"]})]}),v.jsx("div",{className:"h-2 bg-surface-alt rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:`${V}%`}})}),v.jsxs("div",{className:"text-[10px] text-text-muted mt-1 text-center",children:[D," / ",R," Matches"]})]}),v.jsxs("div",{className:"text-xs text-text-muted text-center",children:[e.length*jg," Players  ",e.length," Courts"]}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{htmlFor:"court-count",className:"text-xs text-text-muted",children:"Courts"}),v.jsx("select",{id:"court-count",className:"text-sm bg-surface border border-border rounded px-2 py-1",value:String(e.length),onChange:C=>{const I=Math.max(2,Math.min(7,parseInt(C.target.value,10)||4));f(Array.from({length:I},()=>Dd))},children:[2,3,4,5,6,7].map(C=>v.jsx("option",{value:C,children:C},C))})]}),v.jsxs(Do,{onClick:w,variant:"ghost",size:"sm",className:"w-full justify-start text-xs text-error hover:bg-error/10 flex items-center gap-2",children:[v.jsx(z4,{className:"h-3 w-3"})," Reset All Data"]})]}),v.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-text-muted opacity-60",children:[v.jsx(P4,{className:"h-3 w-3"})," Auto-saving enabled"]})]})]}),v.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[o==="rankings"?v.jsxs(Ue,{className:"p-0 overflow-hidden animate-in fade-in duration-300 border-t-4 border-warning",children:[v.jsxs("div",{className:"p-6 border-b border-border bg-surface-highlight/20 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 bg-warning/10 rounded-lg",children:v.jsx(Wn,{className:"h-6 w-6 text-warning"})}),v.jsxs("div",{children:[v.jsxs("h2",{className:"text-xl font-bold text-text-main",children:["Round ",n," Rankings"]}),v.jsx("p",{className:"text-sm text-text-muted",children:"Overall standings and next round assignments"})]})]}),v.jsx("div",{className:"flex gap-2",children:v.jsxs(Do,{onClick:A,variant:"secondary",size:"sm",className:"bg-surface border border-border flex items-center gap-1",children:[c?v.jsx(_1,{className:"h-4 w-4 text-success"}):v.jsx(_4,{className:"h-4 w-4"}),c?"Copied!":"Copy"]})})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-sm",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"text-left text-xs text-text-muted border-b border-border bg-surface-alt/50",children:[v.jsx("th",{className:"py-3 pl-6",children:n===3?"Final Rank":"Rank"}),v.jsx("th",{className:"py-3",children:"Player"}),n===3&&v.jsx("th",{className:"py-3",children:"Pts"}),n!==3&&v.jsx("th",{className:"py-3",children:"Next court"})]})}),v.jsx("tbody",{children:$.map((C,I)=>v.jsxs("tr",{className:"border-b border-border last:border-0 hover:bg-surface-highlight/50 transition-colors",children:[v.jsx("td",{className:"py-4 pl-6 text-text-main font-bold",children:n===3?v.jsxs("div",{className:"flex items-center gap-3 whitespace-nowrap",children:[Q(C),v.jsx(Yp,{rank:I+1,size:"md"})]}):v.jsxs(v.Fragment,{children:[Q(C),qI(I+1)]})}),v.jsx("td",{className:"py-4 text-text-main font-medium",children:C.name}),n===3?v.jsx("td",{className:"py-4 text-text-main font-medium",children:[1e3,800,600,400,300,240,180,120,100,80,60,40,30,24,18,12][I]}):null,v.jsx("td",{className:"py-4 text-text-muted text-sm",children:n===3?v.jsx(v.Fragment,{}):v.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[z(C),v.jsx("span",{className:"px-2 py-0.5 rounded text-xs",children:v.jsx(YA,{tierId:C.nextTier??C.tier,size:"xs",label:C.nextTier??void 0})}),v.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-semibold bg-primary text-white ml-2",children:`Court ${C.nextCourt}`})]})})]},I))})]})})]}):e.map((C,I)=>I!==o?null:v.jsxs(Ue,{className:"p-0 overflow-hidden animate-in fade-in slide-in-from-right-4 duration-300 border-t-4 border-primary",children:[v.jsx("div",{className:"p-6 border-b border-border bg-surface-highlight/20",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:v.jsx(x1,{className:"h-6 w-6 text-primary"})}),v.jsxs("div",{children:[v.jsxs("h2",{className:"text-xl font-bold text-text-main",children:["Court ",I+1]}),v.jsxs("p",{className:"text-sm text-text-muted",children:["Tier ",t[I].tier,"  Round ",n]})]})]})}),v.jsxs("div",{className:"p-6 space-y-8",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-primary uppercase tracking-wider",children:[v.jsx(Bu,{className:"h-4 w-4"})," Players"]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.playerNames.map((k,M)=>v.jsxs("div",{className:"flex items-center gap-3 bg-surface-alt/30 p-2 rounded-lg border border-transparent focus-within:border-primary/30 transition-colors",children:[v.jsxs("div",{className:"w-8 text-xs text-text-muted font-mono font-bold",children:["P",M+1]}),v.jsx("div",{className:"flex-1",children:v.jsx(YO,{value:k,seed:t[I].seeds[M],placeholder:`Select Player ${M+1}`,onSelect:j=>g(I,M,j)})}),v.jsxs("div",{className:"text-right text-xs text-text-muted bg-surface px-2 py-1 rounded",children:["Seed ",t[I].seeds[M]]})]},M))})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-warning uppercase tracking-wider",children:[v.jsx(Cb,{className:"h-4 w-4"})," Matches"]}),v.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4",children:C.matches.map((k,M)=>{const j=C.playerNames[0]||"P1",L=C.playerNames[1]||"P2",P=C.playerNames[2]||"P3",pe=C.playerNames[3]||"P4",ye=M===0?[j,L]:M===1?[j,P]:[j,pe],q=M===0?[P,pe]:M===1?[L,pe]:[L,P],Z=k.scoreA!==null&&k.scoreB!==null;return v.jsxs("div",{className:`rounded-xl p-4 border transition-all duration-300 ${Z?"bg-success/5 border-success/30 shadow-sm":"bg-surface-alt/50 border-border hover:border-warning/30"}`,children:[v.jsx("div",{className:"flex justify-center mb-3",children:v.jsxs("div",{className:`text-xs font-bold px-3 py-1 rounded-full flex items-center gap-1 ${Z?"bg-success/20 text-success":"bg-surface text-text-muted"}`,children:[Z&&v.jsx(_1,{className:"h-3 w-3"})," Match"," ",M+1]})}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm font-medium truncate pr-2 w-2/3",title:ye.join(" & "),children:ye.join(" & ")}),v.jsx("div",{className:"w-20",children:v.jsx("input",{type:"number",min:0,max:11,inputMode:"numeric",pattern:"[0-9]*",className:"w-full bg-surface border border-border rounded px-2 py-1.5 text-center text-sm font-bold focus:ring-2 ring-warning/50 outline-none",value:k.scoreA??"",onChange:H=>{const he=H.target.value,be=he===""?void 0:Math.max(0,Math.min(11,parseInt(he,10)||0));b(I,M,"scoreA",be)},onBlur:H=>{H.currentTarget.value===""&&b(I,M,"scoreA",void 0)}})})]}),v.jsxs("div",{className:"relative flex items-center py-1",children:[v.jsx("div",{className:"flex-grow border-t border-border"}),v.jsx("span",{className:"flex-shrink-0 mx-2 text-[10px] font-bold text-text-muted uppercase",children:"VS"}),v.jsx("div",{className:"flex-grow border-t border-border"})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm font-medium truncate pr-2 w-2/3",title:q.join(" & "),children:q.join(" & ")}),v.jsx("div",{className:"w-20",children:v.jsx("input",{type:"number",min:0,max:11,inputMode:"numeric",pattern:"[0-9]*",className:"w-full bg-surface border border-border rounded px-2 py-1.5 text-center text-sm font-bold focus:ring-2 ring-warning/50 outline-none",value:k.scoreB??"",onChange:H=>{const he=H.target.value,be=he===""?void 0:Math.max(0,Math.min(11,parseInt(he,10)||0));b(I,M,"scoreB",be)},onBlur:H=>{H.currentTarget.value===""&&b(I,M,"scoreB",void 0)}})})]})]})]},M)})})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-success uppercase tracking-wider mb-3",children:[v.jsx(y4,{className:"h-4 w-4"})," Court Standings"]}),v.jsx("div",{className:"overflow-x-auto rounded-lg border border-border",children:v.jsxs("table",{className:"w-full text-sm",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"text-left text-xs text-text-muted bg-surface-alt",children:[v.jsx("th",{className:"p-3 font-bold",children:"Place"}),v.jsx("th",{className:"p-3 font-bold",children:"Player"}),v.jsx("th",{className:"p-3 font-bold",children:"W-L"}),v.jsx("th",{className:"p-3 font-bold",children:"Diff"})]})}),v.jsx("tbody",{children:$.filter(k=>k.courtIndex===I).map(k=>{const M=k.wins??0,j=Math.max(0,3-M),L=`${k.pointDifferential>=0?"+":""}${k.pointDifferential}`;return v.jsxs("tr",{className:"border-b border-border last:border-0 hover:bg-surface-highlight/20",children:[v.jsx("td",{className:"p-3 font-bold text-text-main",children:k.courtRank?qI(k.courtRank):"-"}),v.jsx("td",{className:"p-3 text-text-main font-medium truncate max-w-[150px]",children:k.name}),v.jsx("td",{className:"p-3 text-text-muted",children:`${k.wins}-${j}`}),v.jsx("td",{className:`p-3 font-bold ${(k.pointDifferential??0)>0?"text-success":(k.pointDifferential??0)<0?"text-error":"text-text-muted"}`,children:L})]},k.seed)})})]})})]})]})]},I)),v.jsxs("div",{className:"sticky bottom-4 z-10",children:[i&&v.jsx("div",{className:"bg-error/10 border border-error/20 text-error text-sm p-3 rounded-lg mb-3 text-center animate-in slide-in-from-bottom-2 shadow-lg backdrop-blur-md",children:i}),n<3&&v.jsx("div",{className:"flex gap-4 p-4 bg-surface/80 backdrop-blur-md border border-border rounded-2xl shadow-xl",children:v.jsx(Do,{onClick:()=>{_(),window.scrollTo({top:0,behavior:"smooth"})},variant:"primary",size:"lg",className:se,disabled:W,children:"Next Round"})})]})]})]})]})})})}const mZ=()=>{const{data:t}=d0(),e=g=>g?g.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}):"",n=g=>g?g.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"",[r,i]=$e.useState("upcoming"),o=(t||[]).filter(g=>g.startDateTime instanceof Date&&!isNaN(g.startDateTime.getTime())).slice().sort((g,b)=>g.startDateTime.getTime()-b.startDateTime.getTime()),l=new Date,c=o.filter(g=>g.startDateTime.getTime()>=l.getTime()),h=o.filter(g=>g.startDateTime.getTime()<l.getTime()).slice().reverse(),f=r==="upcoming"?c:h;return v.jsxs("div",{className:"space-y-8 pb-12",children:[v.jsx(Gu,{title:"Season Schedule",subtitle:"Per-night registration links for 'The Challenge'  register for any night below.",center:!0}),v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsx("div",{className:"flex items-center justify-end gap-2 mb-4",children:v.jsx($D,{options:[{value:"upcoming",label:"Upcoming"},{value:"past",label:"Past"}],value:r,onChange:g=>i(g)})}),v.jsx("div",{className:"grid gap-6",children:f.map(g=>v.jsx(Pt,{to:`/event/${encodeURIComponent(g.id)}`,className:"group",children:v.jsxs(Ue,{className:"p-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-4 group-hover:shadow-lg transition",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bold text-text-main mb-1",children:g.name}),v.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-text-muted",children:[v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx($o,{className:"h-4 w-4"})," ",e(g.startDateTime)]}),v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx(U_,{className:"h-4 w-4"})," ",n(g.startDateTime)]}),v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx(Qp,{className:"h-4 w-4"})," ",g.location]})]})]}),v.jsx("div",{className:"flex-shrink-0 w-full md:w-auto",children:r==="past"?v.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-3 bg-surface border border-border rounded-xl text-text-muted font-semibold",children:[v.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-success/80"}),"Completed"]}):v.jsxs("a",{href:g.link,target:"_blank",rel:"noopener noreferrer",onClick:b=>b.stopPropagation(),className:"inline-flex items-center justify-center gap-2 px-5 py-3 bg-primary text-text-main rounded-xl font-bold hover:opacity-95 transition shadow",children:["Register on CourtReserve ",v.jsx(Kp,{className:"h-4 w-4"})]})})]})},g.id))})]})]})};function pZ(){const[t,e]=S.useState(null),[n,r]=S.useState(!1),[i,o]=S.useState(!0);return S.useEffect(()=>{const l=G2(Ym,async c=>{if(e(c),!c){r(!1),o(!1);return}const f=(await c.getIdTokenResult(!0)).claims;r(f.admin===!0),o(!1)});return()=>l()},[]),{user:t,isAdmin:n,loading:i}}const gZ=({isAdmin:t})=>{const{create:e,status:n,error:r}=aq(),[i,o]=S.useState(""),[l,c]=S.useState(""),[h,f]=S.useState(""),[g,b]=S.useState(""),[_,w]=S.useState(""),[A,R]=S.useState(""),[D,V]=S.useState(""),[$,z]=S.useState(""),[Q,W]=S.useState(""),se=async C=>{if(C.preventDefault(),!t){alert("You are not authorized to create events.");return}if(!i.trim()||!l){alert("Name and start date are required.");return}const I=new Date(`${l}T${h||"00:00"}`),k=g?new Date(`${g}T${_||"00:00"}`):void 0,M={name:i.trim(),startDateTime:I,...k?{endDateTime:k}:{},...A.trim()?{location:A.trim()}:{},...D?{status:D}:{},...$.trim()?{label:$.trim()}:{},...Q.trim()?{link:Q.trim()}:{},standings:[],rounds:[]};try{const j=await e(M);alert(`Event created${j?` (id: ${String(j)})`:""}.`),o(""),c(""),f(""),b(""),w(""),R(""),V(""),z(""),W("")}catch(j){console.error("Create event failed",j),alert("Failed to create event. See console for details.")}};return v.jsxs("form",{onSubmit:se,className:"space-y-3 max-w-md",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Event name"}),v.jsx("input",{value:i,onChange:C=>o(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Start date"}),v.jsx("input",{type:"date",value:l,onChange:C=>c(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Start time (optional)"}),v.jsx("input",{type:"time",value:h,onChange:C=>f(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"End date (optional)"}),v.jsx("input",{type:"date",value:g,onChange:C=>b(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"End time (optional)"}),v.jsx("input",{type:"time",value:_,onChange:C=>w(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Location (optional)"}),v.jsx("input",{value:A,onChange:C=>R(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Status (optional)"}),v.jsxs("select",{value:D,onChange:C=>V(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1",children:[v.jsx("option",{value:"",children:"(none)"}),v.jsx("option",{value:"open",children:"open"}),v.jsx("option",{value:"closed",children:"closed"}),v.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Label (optional)"}),v.jsx("input",{value:$,onChange:C=>z(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Link (optional)"}),v.jsx("input",{value:Q,onChange:C=>W(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),v.jsx("div",{children:v.jsx("button",{type:"submit",disabled:!t||n==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:n==="pending"?"Creating...":"Create event"})}),r&&v.jsxs("p",{className:"text-sm text-red-600",children:["Error creating event: ",String(r)]})]})},yZ=()=>{const[t,e]=S.useState(null),n=new ci,{isAdmin:r}=pZ(),{create:i,status:o,error:l}=sq(),c=d0(),h=c0(),f=c.data??[],g=h.data??[],[b,_]=S.useState(void 0),[w,A]=S.useState([]),{data:R}=UD(b)??{},{update:D,status:V,error:$}=oq(b);S.useEffect(()=>{R?.standings&&Array.isArray(R.standings)?A([...R.standings]):A([])},[b,R?.standings]);const z=Z=>{Z&&A(H=>[...H,Z])},Q=Z=>{A(H=>H.filter((he,be)=>be!==Z))},W=Z=>{Z<=0||A(H=>{const he=[...H],be=he[Z-1];return he[Z-1]=he[Z],he[Z]=be,he})},se=Z=>{A(H=>{if(Z>=H.length-1)return H;const he=[...H],be=he[Z+1];return he[Z+1]=he[Z],he[Z]=be,he})},C=async()=>{if(!r){alert("You are not authorized to update events.");return}if(!b){alert("Select an event first.");return}try{await D({standings:w}),alert("Standings saved.")}catch(Z){console.error("Save standings failed",Z),alert("Failed to save standings. See console for details.")}},[I,k]=S.useState(""),[M,j]=S.useState(""),[L,P]=S.useState(""),pe=async Z=>{if(Z.preventDefault(),!r){alert("You are not authorized to add players.");return}try{const H=M.trim()?Number(M):void 0,he={name:I.trim(),...H!==void 0&&!Number.isNaN(H)?{dupr:H}:{},...L.trim()?{imageUrl:L.trim()}:{},createdAt:new Date().toISOString()};await i(he),k(""),j(""),P(""),alert("Player added.")}catch(H){console.error("Create player failed",H),alert("Failed to add player. See console for details.")}};console.log("Current user in Admin page:",t),S.useEffect(()=>{const Z=G2(Ym,H=>{e(H)});return()=>Z()},[]);const ye=async()=>{try{await u9(Ym,n)}catch(Z){console.error("Google sign-in failed",Z),alert("Sign-in failed. See console for details.")}},q=async()=>{try{await BU(Ym)}catch(Z){console.error("Sign-out failed",Z),alert("Sign-out failed. See console for details.")}};return v.jsxs("div",{className:"p-4",children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin"}),t?v.jsxs("div",{children:[v.jsxs("p",{className:"mb-2",children:["Signed in as ",v.jsx("strong",{children:t.displayName??t.email})]}),v.jsxs("p",{children:["Admin status: ",r?"Yes":"No"]}),v.jsx("button",{onClick:q,className:"px-3 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Sign out"}),v.jsxs("section",{className:"mt-6",children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Protected admin area"}),v.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You are authenticated and can now access admin-only features."}),!r&&v.jsx("p",{className:"text-sm text-red-600 mb-4",children:"You are not an admin. Editing is disabled."}),v.jsxs("form",{onSubmit:pe,className:"space-y-3 max-w-md",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Name"}),v.jsx("input",{value:I,onChange:Z=>k(Z.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"DUPR (optional)"}),v.jsx("input",{value:M,onChange:Z=>j(Z.target.value),className:"mt-1 block w-full border rounded px-2 py-1",inputMode:"decimal"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Image URL (optional)"}),v.jsx("input",{value:L,onChange:Z=>P(Z.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),v.jsx("div",{children:v.jsx("button",{type:"submit",disabled:!r||o==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:o==="pending"?"Adding...":"Add player"})}),l&&v.jsxs("p",{className:"text-sm text-red-600",children:["Error creating player: ",String(l)]})]})]}),v.jsxs("section",{className:"mt-8",children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Create Event"}),v.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create a new Event (start date/time is required)."}),v.jsx(gZ,{isAdmin:r})]}),v.jsxs("section",{className:"mt-8",children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Manage Event Standings"}),v.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select an event, build an ordered standings list of players, and save to the event."}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"md:col-span-1",children:[v.jsx("label",{className:"block text-sm font-medium",children:"Event"}),v.jsxs("select",{value:b??"",onChange:Z=>_(Z.target.value||void 0),className:"mt-1 block w-full border rounded px-2 py-1",children:[v.jsx("option",{value:"",children:"(select an event)"}),f.map(Z=>v.jsx("option",{value:Z.id,children:Z.name??Z.id},Z.id))]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("label",{className:"block text-sm font-medium",children:"Players"}),v.jsxs("div",{className:"mt-1 max-h-56 overflow-auto border rounded p-1",children:[g.length===0&&v.jsx("p",{className:"text-sm text-gray-500",children:"No players found."}),g.map(Z=>v.jsxs("div",{className:"flex items-center justify-between px-1 py-1",children:[v.jsx("div",{className:"text-sm",children:Z.name}),v.jsx("div",{children:v.jsx("button",{type:"button",onClick:()=>z(Z.id),className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"Add"})})]},Z.id))]})]})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"block text-sm font-medium",children:"Standings (ordered)"}),v.jsxs("div",{className:"mt-1 border rounded p-2 bg-white",children:[w.length===0&&v.jsx("p",{className:"text-sm text-gray-500",children:"No players in standings. Add players from the left."}),v.jsx("ul",{children:w.map((Z,H)=>{const he=g.find(be=>be.id===Z);return v.jsxs("li",{className:"flex items-center justify-between py-2 border-b",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsxs("div",{className:"text-sm font-medium",children:[H+1,"."]}),v.jsx("div",{className:"text-sm",children:he?he.name:Z})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("button",{type:"button",onClick:()=>W(H),disabled:H===0,className:"px-2 py-1 bg-gray-200 rounded disabled:opacity-50 text-xs",children:""}),v.jsx("button",{type:"button",onClick:()=>se(H),disabled:H===w.length-1,className:"px-2 py-1 bg-gray-200 rounded disabled:opacity-50 text-xs",children:""}),v.jsx("button",{type:"button",onClick:()=>Q(H),className:"px-2 py-1 bg-red-600 text-white rounded text-xs",children:"Remove"})]})]},`${Z}-${H}`)})}),v.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[v.jsx("button",{type:"button",onClick:C,disabled:!r||V==="pending"||!b,className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:V==="pending"?"Saving...":"Save standings to event"}),v.jsx("button",{type:"button",onClick:()=>{A([])},className:"px-3 py-2 bg-gray-200 rounded",children:"Clear"})]}),$&&v.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["Error saving: ",String($)]})]})]})]})]})]}):v.jsxs("div",{children:[v.jsx("p",{className:"mb-4",children:"Sign in with a Google account to access admin features."}),v.jsx("button",{onClick:ye,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Sign in with Google"})]})]})},vZ=()=>{const{id:t}=iR(),e=t?decodeURIComponent(t):"",{data:n}=UD(e),r=o=>o?o.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"}):"",i=o=>o?o.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"";return n?v.jsxs("div",{className:"space-y-6 pb-12",children:[v.jsx(Gu,{title:n.name,subtitle:n.label??""}),v.jsxs("div",{className:"max-w-3xl mx-auto",children:[v.jsx(Ue,{className:"p-6",children:v.jsxs("div",{className:"flex flex-col gap-4",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"When & where"}),v.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-text-muted",children:[v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx($o,{className:"h-4 w-4"})," ",r(n.startDateTime)]}),v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx(U_,{className:"h-4 w-4"})," ",i(n.startDateTime)]}),n.location&&v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx(Qp,{className:"h-4 w-4"})," ",n.location]})]})]}),n.link&&v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Registration"}),v.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-text-main rounded font-bold",children:["Register on CourtReserve ",v.jsx(Kp,{className:"h-4 w-4"})]})]}),Array.isArray(n.standings)&&n.standings.length>0&&v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Final standings"}),v.jsx("ol",{className:"list-decimal list-inside space-y-1 text-text-main",children:n.standings.map(o=>{const l=(F_||[]).find(c=>c.id===o);return v.jsx("li",{children:l?v.jsx(Pt,{to:`/player/${encodeURIComponent(l.id)}`,className:"text-primary hover:underline",children:l.name}):v.jsx("span",{children:o})},o)})})]})]})}),v.jsx("div",{className:"mt-6",children:v.jsx(Pt,{to:"/schedule",className:"text-text-muted hover:text-text-main",children:" Back to schedule"})})]})]}):v.jsxs("div",{className:"p-4",children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event not found"}),v.jsxs("p",{children:["The event id ",v.jsx("strong",{children:e||"(empty)"})," does not match any scheduled event."]}),v.jsx("p",{className:"mt-4",children:v.jsx(Pt,{to:"/schedule",className:"text-primary font-semibold",children:"Back to schedule"})})]})},bZ=()=>v.jsx(MV,{children:v.jsxs(VM,{children:[v.jsx(Wr,{path:"/",element:v.jsx(LV,{})}),v.jsx(Wr,{path:"/standings",element:v.jsx(uq,{})}),v.jsx(Wr,{path:"/schedule",element:v.jsx(mZ,{})}),v.jsx(Wr,{path:"/players",element:v.jsx(Tq,{})}),v.jsx(Wr,{path:"/player/:id",element:v.jsx(Sq,{})}),v.jsx(Wr,{path:"/format",element:v.jsx(_q,{})}),v.jsx(Wr,{path:"/champions",element:v.jsx(xq,{})}),v.jsx(Wr,{path:"/calculator",element:v.jsx(fZ,{})}),v.jsx(Wr,{path:"/admin",element:v.jsx(yZ,{})}),v.jsx(Wr,{path:"/event/:id",element:v.jsx(vZ,{})})]})}),_Z=new Uj;zP.createRoot(document.getElementById("root")).render(v.jsx(S.StrictMode,{children:v.jsx($j,{client:_Z,children:v.jsx(oj,{children:v.jsx(bZ,{})})})}));
